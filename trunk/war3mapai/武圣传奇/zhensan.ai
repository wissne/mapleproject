globals
    player V=null
    string E=""
    sound X=CreateSound("Sound\\Interface\\InGameChatWhat1.wav",false,false,false,10,10,"")
    constant real R=180./3.14159
    integer array I
    unit A=null
    unit N=null
    unit B=null
    unit C=null
    unit D=null
    unit F=null
    unit G=null
    unit H=null
    unit J=null
    boolean K=false
    location L=null
    real M=99999
    real P=99999
    real Q=0
    real S=0
    real T=99999
    real U=99999
    real W=999999
    integer Y=0
    integer Z=0
    integer VV=0
    integer EV=0
    integer XV=0
    integer OV=0
    integer array RV
    integer IV=0
    location AV=null
    real NV=999999
    integer BV=990
    gamecache CV=InitGameCache("zhensan.w3v")
    gamecache DV=CV
    integer FV=0
    string GV=""
    integer HV='H008'
    integer JV='E000'
    integer KV='O003'
    integer LV='O002'
    integer MV='H004'
    integer PV='U00A'
    integer QV='U000'
    integer SV='U007'
    integer TV='H006'
    integer UV='U00I'
    integer WV='H005'
    integer YV='H01G'
    integer ZV='N011'
    integer VE='U00O'
    integer EE='E00C'
    integer XE='Hvwd'
    integer OE='hgtw'
    integer RE='hwtw'
    integer IE='o00C'
    integer NE='hcas'
    integer BE='hbar'
    integer CE='harm'
    integer DE='hars'
    integer FE='h00P'
    integer GE='n015'
    integer HE='n006'
    integer JE='o00D'
    integer KE='o00G'
    integer LE='o00E'
    integer ME='o00F'
    integer PE='otot'
    integer QE='o00I'
    integer SE='o00J'
    integer TE='o00H'
    integer UE='tstr'
    integer WE='tst2'
    integer YE='rspd'
    integer ZE='pgma'
    integer VX='shrs'
    integer EX='I01M'
    integer XX='I01L'
    integer OX='bzbf'
    integer RX='I01I'
    integer IX='I01Y'
    integer AX='jdrn'
    integer NX='frgd'
    integer BX='I02D'
    integer CX='ssan'
    integer DX='I02B'
    integer FX='rst1'
    integer GX='thle'
    integer HX='I029'
    integer JX='I01O'
    integer KX='I009'
    integer LX='I012'
    integer MX='skrt'
    integer PX='I02C'
    integer QX='I003'
    integer SX='I00P'
    integer TX='I01K'
    integer UX='I00V'
    integer WX='I00U'
    integer YX='I00T'
    integer ZX='I02A'
    integer VO='I016'
    integer EO='I00E'
    integer XO='I00Z'
    integer OO='I013'
    integer RO='I017'
    integer IO='I00J'
    integer AO=-1
    integer NO='Aamk'
    integer BO='ANta'
    integer CO='Awar'
    integer DO='A04X'
    integer FO='A08J'
    integer GO='A067'
    integer HO='A04R'
    integer JO='A00C'
    integer KO='A055'
    integer LO='A02D'
    integer MO='A00J'
    integer PO='ACev'
    integer QO='A066'
    integer SO='A05H'
    integer TO='A05F'
    integer UO='A05M'
    integer WO='A05G'
    integer YO='A05K'
    integer ZO='A06S'
    integer VR='ACfd'
    integer ER='A053'
    item XR=null
    item OR=null
    item RR=null
    item IR=null
    item AR=null
    item NR=null
    boolean BR=true
    boolean CR=false
    boolean DR=false
    integer FR=0
    boolean GR=false
    timer HR=CreateTimer()
    real array JR
    integer KR=0
    integer LR=0
    location MR=Location(-6600,-7800)
    location PR=Location(6000,7000)
    location QR=Location(-6976,-7872)
    location SR=Location(6500,6800)
    location TR=Location(-850,-780)
    location UR=Location(704,-5260)
    location WR=Location(540,-4955)
    location YR=Location(737,-7000)
    location ZR=Location(-1682,-6942)
    location VI=Location(4250,-688)
    location EI=Location(6600,-688)
    location XI=Location(2900,-3100)
    boolean OI=false
    integer RI=6
    string array AI
    unit NI=null
    location BI=null
    integer CI=0
    boolean DI=false
    unit FI=null
    unit GI=null
    unit HI=null
    unit JI=null
    unit KI=null
    unit LI=null
    unit MI=null
    unit PI=null
    unit QI=null
    unit SI=null
    unit array TI
    unit array UI
    integer WI=0
    integer YI=0
    integer ZI=0
    integer VA=0
    integer EA=0
    integer XA=0
    integer OA=0
    integer RA=0
    integer IA=0
    integer AA=0
    integer NA=0
    integer BA=0
    unit CA=null
    real DA=999999
    integer FA=0
    integer GA=0
    integer HA=0
    integer JA=0
    integer KA=0
    unit LA=null
    real MA=999999
    unit PA=null
    real QA=999999
    boolean SA=false
    boolean TA=true
    boolean UA=true
    location array WA
    location array YA
    location array ZA
    location VN=null
    location EN=null
    location XN=null
    location ON=null
    location RN=EN
    location IN=null
    location array AN
    integer NN=0
    integer BN=-1
    boolean CN=false
    integer DN=0
    integer FN=0
    integer GN=1
    integer HN=0
    integer JN=-1
    integer KN=-1
    integer LN=-1
    boolean MN=false
    integer PN=-1
    unit QN=null
    integer SN=300
    integer TN=200
    integer array UN
    real WN=78
    real YN=78
    real ZN=1.8
    real VB=600
    real EB=90
    real XB=90
    real OB=300
    real RB=300
    real IB=280
    real AB=230
    real NB=900
    real BB=620
    real CB=620
    real DB=900
    real FB=30
    real GB=1800
    item array HB
    unit JB=null
    boolean KB=true
    unit LB=null
    unit MB=null
    unit PB=null
    unit QB=null
    real SB=999999
    real TB=999999
    real UB=999999
    real WB=999999
    real YB=999999
    real ZB=999999
    real VC=0
    real EC=0
    real XC=9999999
    real OC=9999999
    unit RC=null
    real IC=0
    unit AC=null
    real NC=9999999
    unit BC=null
    real CC=0
    unit DC=null
    real FC=9999999
    unit GC=null
    real HC=0
    unit JC=null
    real KC=9999999
    real LC=9999999
    real MC=.4
    real PC=1.6
    real QC=4
    real SC=1.8
    real TC=3
    real UC=1.8
    real WC=4
    real YC=0
    real ZC=0
    integer VD=-1
    integer ED=-1
    location XD=null
    location RD=Location(1782,550)
    unit ID=null
    real ND=280
    real BD=6
    unit CD=null
    unit DD=null
    integer FD=-1
    item GD=null
    integer array HD
    integer array JD
    integer array KD
    boolean LD=true
    boolean MD=true
    integer PD=0
    unit array QD
    unit array SD
    real array TD
    real array UD
    real array WD
    integer YD=0
    group ZD=null
    group VF=null
    group EF=null
    group XF=null
    unit array OF
    unit array RF
    unit array IF
    unit AF=null
    unit NF=null
    unit BF=null
    location array CF
    unit array DF
    location array FF
    unit GF=null
    unit HF=null
    location JF=null
    location KF=null
    boolean LF=false
    integer MF=7000
    integer PF=-7960
    item array QF
    item array SF
    integer array TF
    integer array UF
    location WF=null
    boolean YF=false
    boolean ZF=false
    unit VG=null
    integer XG=0
    boolean OG=true
    boolean RG=true
    boolean IG=false
    boolean AG=true
    integer NG=0
    unit BG=null
    real CG=999999
    integer DG=-1
    integer FG=0
    boolean GG=false
    integer HG=0
    integer JG=9999999
    integer KG=0
    integer LG=9999999
    integer MG=0
    unit PG=null
    unit QG=null
    location SG=null
    location TG=null
    integer UG=0
    integer WG=0
    integer YG=0
    integer ZG=0
    integer VH=0
    integer EH=0
    boolean XH=false
    integer RH=0
    integer IH=0
    integer array AH
    integer NH=0
    boolean BH=false
    integer CH=0
    location DH=null
    unit FH=null
    unit GH=null
    integer HH=0
    integer JH=0
    real KH=999999
    boolean LH=false
    boolean MH=false
    boolean PH=false
    boolean QH=false
    unit SH=null
    location TH=null
    unit UH=null
    location WH=null
    unit YH=null
    unit ZH=null
    unit VJ=null
    unit EJ=null
    unit XJ=null
    unit OJ=null
    unit RJ=null
    boolean IJ=true
    boolean AJ=false
    integer NJ=2600
    boolean BJ=false
endglobals
function AK takes handle h returns integer
    return h
    return 0
endfunction
function NK takes integer i returns unit
    return i
    return null
endfunction
function BK takes integer i returns location
    return i
    return null
endfunction
function CK takes integer i returns item
    return i
    return null
endfunction
function DK takes string s returns nothing
    call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,15,E+s)
    call StartSound(X)
endfunction
function GK takes real HK returns real
    if HK<0 then
        return(-HK)
    else
        return(HK)
    endif
endfunction
function YK takes unit u returns boolean
    return GetPlayerController(GetOwningPlayer(u))==MAP_CONTROL_USER
endfunction
function GetGold takes nothing returns integer
    return GetPlayerState(V,PLAYER_STATE_RESOURCE_GOLD)
endfunction
function GetWood takes nothing returns integer
    return GetPlayerState(V,PLAYER_STATE_RESOURCE_LUMBER)
endfunction
function EL takes unit u returns integer
    local integer i=0
    local integer XL=0
    loop
        exitwhen i>5
        if UnitItemInSlot(u,i)==null then
            set XL=XL+1
        endif
        set i=i+1
    endloop
    return XL
endfunction
function OL takes string s returns nothing
    if OI then
        call DK(s)
    endif
endfunction
function AL takes integer ic returns string
    local string s=""
    local integer i=ic
    local integer NL=0
    local boolean BL=false
    if i==0 then
        return"0"
    endif
    if i<0 then
        set BL=true
        set i=-i
    endif
    loop
        exitwhen i==0
        set NL=i
        set i=i/ 10
        set s=AI[NL-10*i]+s
    endloop
    if BL then
        return"-"+s
    endif
    return s
endfunction
function CL takes unit u returns boolean
    return(IsUnitOwnedByPlayer(u,Player(12)))
endfunction
function DL takes unit FL returns boolean
    return GetUnitState(FL,UNIT_STATE_LIFE)<=0
endfunction
function GL takes unit HL returns boolean
    return(HL==null)or(IsUnitType(HL,UNIT_TYPE_DEAD))or(DL(HL))
endfunction
function JL takes unit HL returns boolean
    return(HL!=null)and(GL(HL)==false)
endfunction
function KL takes location LL returns integer
    local integer ML=0
    set ML=(GetTerrainCliffLevel(GetLocationX(LL),GetLocationY(LL)))
    return ML
endfunction
function PL takes unit HL returns integer
    local integer ML=0
    if(HL!=null)and(JL(HL))then
        set ML=(GetTerrainCliffLevel(GetUnitX(HL),GetUnitY(HL)))
    endif
    return ML
endfunction
function QL takes location SL,location TL returns real
    return R*Atan2(GetLocationY(TL)-GetLocationY(SL),GetLocationX(TL)-GetLocationX(SL))
endfunction
function UL takes unit u1,unit u2 returns real
    return R*Atan2(GetUnitY(u2)-GetUnitY(u1),GetUnitX(u2)-GetUnitX(u1))
endfunction
function WL takes unit u1,unit u2,unit u3 returns boolean
    local real YL=UL(u3,u1)
    local real ZL=UL(u3,u2)
    return GK(YL-ZL)<60
endfunction
function VM takes location EM,location XM returns real
    local real OM
    local real RM
    set OM=GetLocationX(XM)-GetLocationX(EM)
    set OM=OM*OM
    set RM=GetLocationY(XM)-GetLocationY(EM)
    set RM=RM*RM
    return(SquareRoot(OM+RM))
endfunction
function IM takes location AM,integer id returns nothing
    local effect fx
    if not OI then
        return
    endif
    if id==1 then
        set fx=AddSpecialEffectLoc("Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl",AM)
    endif
    if id==2 then
        set fx=AddSpecialEffectLoc("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",AM)
    endif
    if id==3 then
        set fx=AddSpecialEffectLoc("Abilities\\Spells\\Orc\\Reincarnation\\ReincarnationTarget.mdl",AM)
    endif
    call DestroyEffect(fx)
endfunction
function NM takes item BM returns location
    return Location(GetItemX(BM),GetItemY(BM))
endfunction
function CM takes unit u returns boolean
    return IssueImmediateOrderById(u,851972)
endfunction
function DM takes location FM,location GM,location HM returns real
    local real dX
    local real dY
    local real JM
    set dX=GetLocationX(GM)-GetLocationX(FM)
    set dY=GetLocationY(GM)-GetLocationY(FM)
    set JM=SquareRoot((dX*dX)+(dY*dY))
    if JM==0 then
        set JM=VM(FM,HM)
    else
        set JM=GK((dY*GetLocationX(HM))+((-dX)*GetLocationY(HM)))/JM
    endif
    return(JM)
endfunction
function KM takes unit u returns boolean
    return GetUnitY(u)>5000 or GetUnitX(u)<-5000
endfunction
function LM takes unit u returns boolean
    return GetUnitY(u)<-5000 or GetUnitX(u)>5000
endfunction
function MM takes unit PM returns boolean
    local location LL=null
    local boolean rb=false
    if PM==null or GL(PM)then
        return false
    endif
    set LL=GetUnitLoc(PM)
    if DM(QR,SR,LL)<1200 then
        set rb=true
    endif
    call RemoveLocation(LL)
    set LL=null
    return rb
endfunction
function QM takes unit HL,location XM returns real
    local real OM
    local real RM
    if(HL!=null)and(JL(HL))then
        set OM=GetLocationX(XM)-GetUnitX(HL)
        set OM=OM*OM
        set RM=GetLocationY(XM)-GetUnitY(HL)
        set RM=RM*RM
        return(SquareRoot(OM+RM))
    endif
    return .0
endfunction
function SM takes unit HL,unit XM returns real
    local real OM
    local real RM
    if(HL!=null)and(XM!=null)and(JL(HL))and(JL(XM))then
        set OM=GetUnitX(XM)-GetUnitX(HL)
        set OM=OM*OM
        set RM=GetUnitY(XM)-GetUnitY(HL)
        set RM=RM*RM
        return(SquareRoot(OM+RM))
    endif
    return .0
endfunction
function TM takes location UM,location WM returns real
    local real YM=QL(UM,WM)
    if YM<0 then
        set YM=YM+360
    endif
    return YM
endfunction
function ZM takes unit HL,unit XM,real JM,real VP returns location
    local location EP
    local location XP
    local real OP
    if(HL!=null)and(XM!=null)and(JL(HL))and(JL(XM))then
        set EP=GetUnitLoc(XM)
        set XP=GetUnitLoc(HL)
        set OP=Deg2Rad(TM(EP,XP)+VP+180)
        call RemoveLocation(XP)
        set XP=null
        call RemoveLocation(EP)
        set EP=null
        return(Location(JM*Cos(OP)+GetUnitX(XM),JM*Sin(OP)+GetUnitY(XM)))
    endif
    return null
endfunction
function RP takes location IP,location AP,real JM,real VP returns location
    local real OP
    if IP==null or AP==null then
        return null
    endif
    set OP=Deg2Rad(TM(IP,AP)+VP)
    return(Location(JM*Cos(OP)+GetLocationX(AP),JM*Sin(OP)+GetLocationY(AP)))
endfunction
function NP takes unit XM,real JM returns location
    local real OP
    if(XM!=null)and(JL(XM))then
        set OP=Deg2Rad(GetUnitFacing(XM)+180)
        return(Location(JM*Cos(OP)+GetUnitX(XM),JM*Sin(OP)+GetUnitY(XM)))
    endif
    return null
endfunction
function BP takes unit XM,real JM returns location
    local real OP
    if(XM!=null)and(JL(XM))then
        set OP=Deg2Rad(GetUnitFacing(XM))
        return(Location(JM*Cos(OP)+GetUnitX(XM),JM*Sin(OP)+GetUnitY(XM)))
    endif
    return null
endfunction
function CP takes unit u1,unit u2,integer DP returns location
    local integer OK=0
    set OK=-'x'
    loop
        exitwhen OK>-60
        if DH!=null then
            call RemoveLocation(DH)
            set DH=null
        endif
        set DH=ZM(LA,FI,DP,90)
        if IsTerrainPathable(GetLocationX(DH),GetLocationY(DH),PATHING_TYPE_WALKABILITY)and not IsLocationVisibleToPlayer(DH,GetOwningPlayer(u2))then
            return DH
        endif
        set OK=OK+10
    endloop
    set OK='x'
    loop
        exitwhen OK<60
        if DH!=null then
            call RemoveLocation(DH)
            set DH=null
        endif
        set DH=ZM(LA,FI,DP,90)
        if IsTerrainPathable(GetLocationX(DH),GetLocationY(DH),PATHING_TYPE_WALKABILITY)and not IsLocationVisibleToPlayer(DH,GetOwningPlayer(u2))then
            return DH
        endif
        set OK=OK-10
    endloop
    return null
endfunction
function FP takes unit u1,unit u2 returns location
    local location rl=null
    set rl=CP(u1,u2,1400)
    if rl!=null then
        return rl
    endif
    set rl=CP(u1,u2,1200)
    if rl!=null then
        return rl
    endif
    set rl=CP(u1,u2,1000)
    if rl!=null then
        return rl
    endif
    return null
endfunction
function GP takes location HP,location JP,real JM returns location
    local real OP
    local real KP=0
    set OP=Deg2Rad(TM(JP,HP)+180)
    return(Location(JM*Cos(OP)+GetLocationX(HP),JM*Sin(OP)+GetLocationY(HP)))
    return null
endfunction
function LP takes unit u1,unit u2,real JM returns location
    local real OP
    local real KP=0
    local location HP=GetUnitLoc(u1)
    local location JP=GetUnitLoc(u2)
    local location MP=null
    set OP=Deg2Rad(TM(JP,HP)+180)
    set MP=(Location(JM*Cos(OP)+GetLocationX(HP),JM*Sin(OP)+GetLocationY(HP)))
    call RemoveLocation(HP)
    set HP=null
    call RemoveLocation(JP)
    set JP=null
    return MP
endfunction
function PP takes unit HL,integer QP returns integer
    local integer RI=UnitInventorySize(HL)
    local integer SP=0
    if(RI>0)then
        set SP=0
        loop
            exitwhen(SP>=RI)or(GetItemTypeId(UnitItemInSlot(HL,SP))==QP)
            set SP=SP+1
        endloop
        if(SP<RI)then
            return(SP)
        endif
    endif
    return(-1)
endfunction
function TP takes unit HL,integer QP returns item
    local integer RI=UnitInventorySize(HL)
    local integer SP=0
    if(RI>0)then
        set SP=0
        loop
            exitwhen(SP>=RI)or(GetItemTypeId(UnitItemInSlot(HL,SP))==QP)
            set SP=SP+1
        endloop
        if(SP<RI)then
            return(UnitItemInSlot(HL,SP))
        endif
    endif
    return(null)
endfunction
function UP takes unit HL,integer WP returns integer
    return GetItemCharges(TP(HL,WP))
endfunction
function VQ takes unit HL,integer QP returns integer
    local integer RI=UnitInventorySize(HL)
    local integer SP=0
    local integer EQ=0
    if(RI>0)then
        set SP=0
        loop
            exitwhen(SP>=RI)
            if(GetItemTypeId(UnitItemInSlot(HL,SP))==QP)then
                set EQ=EQ+1
            endif
            set SP=SP+1
        endloop
    endif
    return EQ
endfunction
function XQ takes unit u,location AM,real OQ returns boolean
    if AM==null then
        return true
    endif
    if(QM(u,AM)<=OQ)then
        call IssueImmediateOrderById(u,851972)
        return true
    else
        if XD==null or VM(XD,AM)>8 or GetUnitCurrentOrder(u)!=851986 then
            call IssuePointOrderByIdLoc(u,851986,AM)
            call RemoveLocation(XD)
            set XD=null
            set XD=Location(GetLocationX(AM),GetLocationY(AM))
        endif
        set VD=1
        return false
    endif
endfunction
function RQ takes unit u,unit u2,real OQ returns boolean
    local location AM=GetUnitLoc(u2)
    local boolean rb=false
    set rb=XQ(u,AM,OQ)
    call RemoveLocation(AM)
    set AM=null
    return rb
endfunction
function IQ takes unit u,unit u2,real OQ returns boolean
    local location AM
    local location AP=null
    local boolean rb=false
    set AM=GetUnitLoc(u2)
    set AP=GP(AM,VN,OQ-130)
    set rb=XQ(u,AP,20)
    call RemoveLocation(AM)
    call RemoveLocation(AP)
    set AP=null
    set AM=null
    return rb
endfunction
function AQ takes unit u,location AM,real NQ returns nothing
    loop
        exitwhen(u==null or GL(u))or XQ(u,AM,NQ)
        call Sleep(1)
    endloop
endfunction
function BQ takes unit u,unit u2,real NQ returns nothing
    loop
        exitwhen(u==null or GL(u))or RQ(u,u2,NQ)
        call Sleep(1)
    endloop
endfunction
function CQ takes unit HL returns boolean
    local boolean rb=false
    if ID==null or ID!=HL or GetUnitCurrentOrder(NI)!=851983 then
        set ID=HL
        set rb=IssueTargetOrderById(NI,851983,HL)
    endif
    set VD=2
    return rb
endfunction
function DQ takes unit FQ,unit HL returns boolean
    local boolean rb=false
    set rb=IssueTargetOrderById(FQ,851983,HL)
    call IssueImmediateOrderById(FQ,851972)
    return rb
endfunction
function GQ takes widget HQ returns nothing
    call IssueTargetOrderById(NI,851983,HQ)
endfunction
function JQ takes location AM returns nothing
    call IssuePointOrderByIdLoc(NI,851990,AM)
    call CM(NI)
endfunction
function MQ takes unit HL,item PQ returns boolean
    local boolean QQ
    if PQ==null then
        return false
    endif
    call AQ(HL,NM(PQ),'x')
    set QQ=IssueTargetOrderById(HL,851971,PQ)
    call Sleep(.3)
    return QQ
endfunction
function SQ takes unit HL,integer TQ,unit XM returns boolean
    local item UQ=TP(HL,TQ)
    local boolean rb=false
    if UQ!=null then
        set rb=(UnitDropItemTarget(HL,UQ,XM))
        call Sleep(1)
        return rb
    endif
    return false
endfunction
function WQ takes unit HL returns boolean
    return(GetUnitAbilityLevel(HL,'BOhx')>0)
endfunction
function YQ takes unit HL returns boolean
    return(IsUnitType(HL,UNIT_TYPE_RANGED_ATTACKER))
endfunction
function ZQ takes unit HL returns boolean
    return(IsUnitType(HL,UNIT_TYPE_ATTACKS_GROUND))
endfunction
function VS takes unit HL returns boolean
    return(IsUnitType(HL,UNIT_TYPE_STUNNED))or(GetUnitAbilityLevel(HL,'BUim')>0)or GetUnitAbilityLevel(HL,'BPSE')>0 or IsUnitPaused(HL)or GetUnitAbilityLevel(HL,'B012')>0 or GetUnitAbilityLevel(HL,'B000')>0 or GetUnitAbilityLevel(HL,'Bsta')>0
endfunction
function ES takes unit u,boolean XS returns nothing
    if XS then
        call SetUnitUserData(u,0)
    else
        call SetUnitUserData(u,11)
    endif
endfunction
function OS takes integer id returns integer
    local integer OK=0
    loop
        exitwhen TF[OK]==null
        if TF[OK]==id then
            return OK
        endif
        set OK=OK+1
    endloop
    return-1
endfunction
function RS takes integer id returns integer
    local integer OK=0
    loop
        exitwhen UF[OK]==null
        if UF[OK]==id then
            return OK
        endif
        set OK=OK+1
    endloop
    return-1
endfunction
function IS takes unit HL returns real
    return(GetUnitState(HL,UNIT_STATE_MANA))
endfunction
function AS takes nothing returns integer
    return R2I(TimerGetElapsed(HR))
endfunction
function NS takes nothing returns real
    return TimerGetElapsed(HR)
endfunction
function BS takes string s,integer i returns nothing
    call StoreInteger(CV,"storevaluei",s,i)
endfunction
function CS takes string s returns integer
    return GetStoredInteger(CV,"storevaluei",s)
endfunction
function FS takes integer GS,integer HS,integer cd returns nothing
    call StoreInteger(CV,"cd"+AL(HS),AL(GS),cd)
endfunction
function JS takes integer GS,integer HS returns integer
    return GetStoredInteger(CV,"cd"+AL(HS),AL(GS))
endfunction
function KS takes integer LS,integer OK,integer MS returns nothing
    call StoreInteger(CV,"ha"+AL(LS),AL(OK),MS)
endfunction
function PS takes integer LS,integer OK returns integer
    return GetStoredInteger(CV,"ha"+AL(LS),AL(OK))
endfunction
function QS takes integer LS,integer SS returns nothing
    call StoreInteger(CV,AL(LS),"hacount",SS)
endfunction
function TS takes integer LS returns integer
    return GetStoredInteger(CV,AL(LS),"hacount")
endfunction
function VT takes integer GS returns integer
    return GetStoredInteger(CV,"aspelltype",AL(GS))
endfunction
function ET takes integer GS,integer HS,integer mp returns nothing
    call StoreInteger(CV,"mpneed"+AL(HS),AL(GS),mp)
endfunction
function XT takes integer GS,integer HS returns integer
    return GetStoredInteger(CV,"mpneed"+AL(HS),AL(GS))
endfunction
function OT takes integer GS,integer DP returns nothing
    call StoreInteger(CV,"abilityrange",AL(GS),DP)
endfunction
function RT takes integer GS,integer IT returns nothing
    call StoreInteger(CV,"abilityOderId",AL(GS),IT)
endfunction
function NT takes unit PM,integer GS,integer BT returns nothing
    if PM==null then
        return
    endif
    call StoreInteger(CV,AL(AK(PM))+"abilityLastSpellTime",AL(GS),BT)
endfunction
function CT takes unit PM,integer GS returns integer
    if PM==null then
        return 999999
    endif
    return GetStoredInteger(CV,AL(AK(PM))+"abilityLastSpellTime",AL(GS))
endfunction
function DT takes unit PM,integer GS returns integer
    local integer HS=1
    local integer FT=CT(PM,GS)
    if PM==null then
        return 999999
    endif
    if FT==0 then
        return 0
    endif
    set HS=GetUnitAbilityLevel(PM,GS)
    if HS<1 then
        return 999999
    endif
    return JS(GS,HS)-AS()+FT
endfunction
function GT takes unit PM,integer GS returns integer
    local integer FT=CT(PM,GS)
    if PM==null then
        return 999999
    endif
    if FT==0 then
        return 0
    endif
    return JS(GS,1)-AS()+FT
endfunction
function HT takes unit PM,integer JT returns boolean
    local integer HS=GetUnitAbilityLevel(PM,JT)
    if HS<1 then
        return false
    endif
    return DT(PM,JT)<=0 and IS(PM)>=XT(JT,HS)
endfunction
function KT takes unit PM,integer id returns boolean
    local integer OK=-1
    if TP(PM,id)!=null then
        return true
    endif
    set OK=OS(id)
    if OK<0 then
        return false
    endif
    if TP(PM,UF[OK])!=null then
        return true
    endif
    return false
endfunction
function LT takes unit PM,integer WP returns boolean
    if GL(PM)then
        return false
    endif
    if WQ(PM)or VS(PM)then
        return false
    endif
    if not KT(PM,WP)then
        return false
    endif
    return GT(PM,WP)<=0 and IS(PM)>=XT(WP,1)
endfunction
function MT takes unit PM,integer WP returns nothing
    call NT(PM,WP,AS())
endfunction
function PT takes item QT returns nothing
    call SetItemPosition(QT,MF,PF)
    call SetItemVisible(QT,false)
    call SetItemInvulnerable(QT,true)
endfunction
function ST takes unit HL,integer WP returns nothing
    local integer OK=0
    local item TT=null
    local item UT=null
    local integer WT=0
    local integer YT=0
    set TT=TP(HL,WP)
    if TT==null then
        return
    endif
    set YT=GetItemTypeId(TT)
    set WT=OS(YT)
    if WT>-1 then
        if SF[WT]==null then
            set SF[WT]=CreateItem(UF[WT],MF,PF)
        endif
        set UT=SF[WT]
        call SetItemCharges(UT,GetItemCharges(TT))
        set QF[WT]=TT
        call UnitRemoveItem(HL,TT)
        call PT(TT)
        call UnitAddItem(HL,UT)
    endif
endfunction
function ZT takes unit HL,integer id returns boolean
    local item TT=null
    local item UT=null
    local integer WT=0
    local integer VU=0
    set WT=OS(id)
    if WT<0 then
        return false
    endif
    set VU=UF[WT]
    set UT=TP(HL,VU)
    if UT==null then
        return false
    endif
    call UnitRemoveItem(HL,UT)
    call PT(UT)
    set TT=QF[WT]
    call UnitAddItem(HL,TT)
    return true
endfunction
function EU takes unit HL returns nothing
    local integer OK=0
    loop
        exitwhen OK==20
        if QF[OK]!=null then
            call UnitAddItem(HL,QF[OK])
        endif
        set OK=OK+1
    endloop
endfunction
function XU takes unit HL,integer TQ,real OU returns boolean
    local item UQ=null
    local boolean rb=false
    call ZT(HL,TQ)
    set UQ=TP(HL,TQ)
    if UQ==null or HL==null then
        call OL("UseItemByID-item-null")
        return false
    endif
    call ES(HL,true)
    set rb=(UQ!=null)and(UnitUseItem(HL,UQ))
    call ES(HL,false)
    call Sleep(OU)
    call ST(HL,TQ)
    call MT(HL,TQ)
    return rb
endfunction
function RU takes unit HL,integer TQ,real OU returns boolean
    local item UQ=null
    local boolean rb=false
    set UQ=TP(HL,TQ)
    if UQ==null or HL==null then
        call OL("UseItemByID-item-null")
        return false
    endif
    call ES(HL,true)
    call SetItemCharges(UQ,1)
    call Sleep(.02)
    set rb=(UQ!=null)and(UnitUseItem(HL,UQ))
    call ES(HL,false)
    call Sleep(OU)
    if GetItemCharges(UQ)==0 then
        call MT(HL,TQ)
    endif
    return rb
endfunction
function IU takes unit HL,integer TQ returns boolean
    local item UQ=null
    local boolean rb=false
    set UQ=TP(HL,TQ)
    if UQ==null or HL==null then
        call OL("UseItemByID-item-null")
        return false
    endif
    call ES(HL,true)
    set rb=(UQ!=null)and(UnitUseItem(HL,UQ))
    call ES(HL,false)
    return rb
endfunction
function AU takes unit FL,item BM,location AM returns boolean
    local boolean rb=false
    call ES(FL,true)
    set rb=UnitUseItemPoint(FL,BM,GetLocationX(AM),GetLocationY(AM))
    call ES(FL,false)
    return rb
endfunction
function NU takes unit HL,integer TQ,location BU,real OU returns boolean
    local item UQ=null
    local boolean rb=false
    call ZT(HL,TQ)
    set UQ=TP(HL,TQ)
    set rb=(UQ!=null)and(AU(HL,UQ,BU))
    call Sleep(OU)
    call ST(HL,TQ)
    if rb then
        call MT(HL,TQ)
    endif
    return rb
endfunction
function CU takes unit HL,integer TQ,widget XM,real OU returns boolean
    local item UQ=null
    local boolean rb=false
    call ZT(HL,TQ)
    set UQ=TP(HL,TQ)
    if UQ==null then
        call OL("item-null---UseItemTargetByID")
        return false
    endif
    if XM==null then
        call OL("TheTarget-null---UseItemTargetByID")
        return false
    endif
    if HL==null then
        call OL("TheUnit-null---UseItemTargetByID")
        return false
    endif
    call ES(HL,true)
    set rb=(UQ!=null)and(UnitUseItemTarget(HL,UQ,XM))
    call ES(HL,false)
    if rb then
    endif
    call Sleep(OU)
    call ST(HL,TQ)
    if rb then
        call MT(HL,TQ)
    endif
    return rb
endfunction
function DU takes unit HL,integer TQ,widget XM,real OU returns boolean
    local item UQ=null
    local boolean rb=false
    set UQ=TP(HL,TQ)
    if UQ==null then
        call OL("item-null---UseItemTargetByID")
        return false
    endif
    if XM==null then
        call OL("TheTarget-null---UseItemTargetByID")
        return false
    endif
    if HL==null then
        call OL("TheUnit-null---UseItemTargetByID")
        return false
    endif
    call ES(HL,true)
    call SetItemCharges(UQ,1)
    call Sleep(.002)
    set rb=(UQ!=null)and(UnitUseItemTarget(HL,UQ,XM))
    call ES(HL,false)
    if rb then
    endif
    call Sleep(OU)
    if GetItemCharges(UQ)==0 then
        call MT(HL,TQ)
    endif
    return rb
endfunction
function FU takes unit HL,integer TQ,widget XM returns boolean
    local item UQ=null
    local boolean rb=false
    set UQ=TP(HL,TQ)
    if UQ==null then
        call OL("item-null---UseItemTargetByID")
        return false
    endif
    if XM==null then
        call OL("TheTarget-null---UseItemTargetByID")
        return false
    endif
    if HL==null then
        call OL("TheUnit-null---UseItemTargetByID")
        return false
    endif
    call ES(HL,true)
    set rb=(UQ!=null)and(UnitUseItemTarget(HL,UQ,XM))
    call ES(HL,false)
    return rb
endfunction
function GU takes unit HL,integer TQ returns boolean
    local integer HU=0
    local item UQ=null
    local boolean rb=false
    call ZT(HL,TQ)
    set UQ=TP(HL,TQ)
    set HU=GetUnitCurrentOrder(HL)
    if UQ==null or HL==null then
    endif
    call ES(HL,true)
    set rb=(UQ!=null)and(UnitUseItem(HL,UQ))
    call ES(HL,false)
    if rb then
        call IssueImmediateOrderById(HL,HU)
    endif
    call ST(HL,TQ)
    return rb
endfunction
function JU takes unit HL,integer TQ returns boolean
    local item UQ=null
    local boolean rb=false
    call ZT(HL,TQ)
    set UQ=TP(HL,TQ)
    if UQ==null or HL==null then
    endif
    call ES(HL,true)
    set rb=(UQ!=null)and(UnitUseItem(HL,UQ))
    call ES(HL,false)
    if rb then
    endif
    call ST(HL,TQ)
    return rb
endfunction
function KU takes unit HL,integer TQ returns boolean
    local item UQ=null
    local boolean rb=false
    set UQ=TP(HL,TQ)
    if UQ==null or HL==null then
    endif
    call ES(HL,true)
    set rb=(UQ!=null)and(UnitUseItem(HL,UQ))
    call ES(HL,false)
    if rb then
    endif
    return rb
endfunction
function LU takes unit HL returns real
    return(GetUnitState(HL,UNIT_STATE_LIFE))
endfunction
function MU takes unit HL returns real
    return(GetUnitState(HL,UNIT_STATE_MAX_LIFE)-GetUnitState(HL,UNIT_STATE_LIFE))
endfunction
function PU takes unit HL returns boolean
    return(GetUnitAbilityLevel(HL,'Bcy2')>0 or GetUnitAbilityLevel(HL,'Bcyc')>0)
endfunction
function QU takes unit HL returns boolean
    return(IsUnitType(HL,UNIT_TYPE_STUNNED))or(IsUnitType(HL,UNIT_TYPE_SNARED))
endfunction
function SU takes unit HL returns boolean
    return(IsUnitType(HL,UNIT_TYPE_POISONED))or(IsUnitType(HL,UNIT_TYPE_POLYMORPHED))or(IsUnitType(HL,UNIT_TYPE_ETHEREAL))or(IsUnitType(HL,UNIT_TYPE_PLAGUED))
endfunction
function TU takes unit HL returns boolean
    return(GetUnitAbilityLevel(HL,'BEsh')>0)or(GetUnitAbilityLevel(HL,'BEsi')>0)or(GetUnitAbilityLevel(HL,'B001')>0)
endfunction
function UU takes unit HL returns boolean
    return(GetUnitAbilityLevel(HL,'BIrl')>0)
endfunction
function WU takes unit HL returns boolean
    return(GetUnitAbilityLevel(HL,'BIrm')>0)
endfunction
function ZU takes unit HL returns real
    return(GetUnitState(HL,UNIT_STATE_MAX_MANA)-GetUnitState(HL,UNIT_STATE_MANA))
endfunction
function VW takes unit FL,unitstate EW,unitstate XW returns real
    local real OW=GetUnitState(FL,EW)
    local real RW=GetUnitState(FL,XW)
    if(FL==null)or(RW==0)then
        return .0
    endif
    return OW/ RW*100.
endfunction
function IW takes unit FL returns real
    return VW(FL,UNIT_STATE_MANA,UNIT_STATE_MAX_MANA)
endfunction
function AW takes unit HL returns boolean
    return((IS(HL)>=1200)or(IW(HL)>85))
endfunction
function NW takes unit FL returns real
    return VW(FL,UNIT_STATE_LIFE,UNIT_STATE_MAX_LIFE)
endfunction
function BW takes unit HL returns boolean
    return(NW(HL)>85)
endfunction
function CW takes unit HL returns boolean
    local real DW=180
    local integer FW=20
    set FW=FW+GetUnitLevel(HL)/2
    if GL(HL)then
        return false
    endif
    return((NW(HL)<FW)or(GetUnitState(HL,UNIT_STATE_LIFE)<DW))
endfunction
function GW takes unit HL returns boolean
    return(IsUnitType(HL,UNIT_TYPE_MAGIC_IMMUNE))
endfunction
function HW takes unit HL returns boolean
    return((GetUnitAbilityLevel(HL,'Aatk')>0)or(IsUnitType(HL,UNIT_TYPE_RANGED_ATTACKER))or(IsUnitType(HL,UNIT_TYPE_MELEE_ATTACKER))or(IsUnitType(HL,UNIT_TYPE_ATTACKS_GROUND))or(IsUnitType(HL,UNIT_TYPE_ATTACKS_FLYING))or(IsUnitType(HL,UNIT_TYPE_SAPPER))or(IsUnitType(HL,UNIT_TYPE_SUMMONED)))or(GetUnitTypeId(HL)==QE or GetUnitTypeId(HL)==SE or GetUnitTypeId(HL)==TE)
endfunction
function JW takes unit HL returns boolean
    return(GetUnitAbilityLevel(HL,'Amov')>0)
endfunction
function KW takes unit HL returns boolean
    return(IsUnitType(HL,UNIT_TYPE_STRUCTURE))
endfunction
function LW takes unit HL returns boolean
    return((IsUnitType(HL,UNIT_TYPE_STRUCTURE))and(HW(HL)))
endfunction
function MW takes unit HL returns boolean
    return((IsUnitType(HL,UNIT_TYPE_HERO))and(IsUnitIllusion(HL)==false))
endfunction
function PW takes unit HL returns boolean
    return(MW(HL)==false)
endfunction
function QW takes unit HL returns boolean
    return((IsUnitEnemy(HL,V))and(not MW(HL))and(not KW(HL))and(HW(HL))and(UnitAlive(HL))and(JW(HL))and not CL(HL))
endfunction
function SW takes unit HL returns boolean
    return((IsUnitEnemy(HL,V))and(HW(HL))and(UnitAlive(HL))and(JW(HL))and CL(HL))
endfunction
function TW takes unit HL returns boolean
    return(IsUnitEnemy(HL,V)and(UnitAlive(HL))and LW(HL))
endfunction
function UW takes unit HL returns boolean
    return(IsUnitAlly(HL,V)and(UnitAlive(HL))and LW(HL))
endfunction
function WW takes unit HL returns boolean
    return((IsUnitAlly(HL,V))and(not MW(HL))and(not KW(HL))and(HW(HL))and(UnitAlive(HL))and(JW(HL)))
endfunction
function YW takes player p returns integer
    return GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)
endfunction
function ZW takes player p returns integer
    return GetPlayerState(p,PLAYER_STATE_RESOURCE_LUMBER)
endfunction
function VY takes unit HL returns boolean
    local integer EY=GetUnitCurrentOrder(HL)
    return(EY==851986)or(EY==851988)or(EY==852525)or(EY==851990)or(EY==851983)or(EY==851971)
endfunction
function XY takes unit HL returns boolean
    local integer EY=GetUnitCurrentOrder(HL)
    return EY==851983
endfunction
function OY takes unit HL returns boolean
    if not XY(HL)then
        return false
    endif
    if FN==1 and GetPlayerId(GetOwningPlayer(HL))==0 then
        return true
    endif
    if FN==2 and GetPlayerId(GetOwningPlayer(HL))==6 then
        return true
    endif
    return false
endfunction
function RY takes unit HL returns boolean
    if not(HW(HL)and JW(HL))then
        return false
    endif
    if FN==1 and GetPlayerId(GetOwningPlayer(HL))==6 then
        return true
    endif
    if FN==2 and GetPlayerId(GetOwningPlayer(HL))==0 then
        return true
    endif
    return false
endfunction
function IY takes unit HL returns boolean
    if GL(HL)then
        return false
    endif
    if not(HW(HL))then
        return false
    endif
    if FN==1 and(GetPlayerId(GetOwningPlayer(HL))>=6 and GetPlayerId(GetOwningPlayer(HL))<=11)then
        return true
    endif
    if FN==2 and(GetPlayerId(GetOwningPlayer(HL))>=0 and GetPlayerId(GetOwningPlayer(HL))<=5)then
        return true
    endif
    return false
endfunction
function AY takes unit HL,integer NY returns boolean
    return GetUnitAbilityLevel(HL,NY)>0
endfunction
function BY takes unit CY returns boolean
    return AY(CY,'B00F')
endfunction
function DY takes unit CY returns boolean
    return AY(CY,'BOww')
endfunction
function FY takes unit CY returns boolean
    return AY(CY,'Bfae')
endfunction
function GY takes unit CY returns boolean
    return AY(CY,'Bbsk')
endfunction
function HY takes unit CY returns boolean
    return AY(CY,'BOwk')or AY(CY,'BPSE')
endfunction
function JY takes unit HL,integer KY returns integer
    local integer ri=0
    local player LY=V
    call SetPlayerAbilityAvailable(LY,KY,true)
    set ri=GetUnitAbilityLevel(HL,KY)
    call SetPlayerAbilityAvailable(LY,KY,false)
    return ri
endfunction
function MY takes unit u,integer di returns nothing
    local integer OK=0
    local integer MS=0
    local integer PY=0
    loop
        set MS=PS(GetUnitTypeId(u),OK)
        exitwhen OK>5 or MS<1
        set PY=VT(MS)
        if PY==di then
            call SelectHeroSkill(u,MS)
        endif
        set OK=OK+1
    endloop
endfunction
function QY takes unit u returns nothing
    call MY(u,5)
    call MY(u,4)
    call MY(u,3)
    call MY(u,2)
    call MY(u,0)
    call MY(u,6)
    call MY(u,1)
    call SelectHeroSkill(u,NO)
endfunction
function SY takes unit CY returns nothing
    if not GG then
        call QY(CY)
    endif
endfunction
function TY takes unit HL,integer KY returns boolean
    local integer UY=GetHeroSkillPoints(HL)
    local integer i=0
    local player LY=V
    local boolean rb=false
    call SelectHeroSkill(HL,KY)
    set rb=GetHeroSkillPoints(HL)<UY
    return rb
endfunction
function WY takes unit HL,integer KY returns boolean
    local integer UY=GetHeroSkillPoints(HL)
    local integer i=0
    local player LY=V
    local boolean rb=false
    call SetPlayerAbilityAvailable(LY,KY,true)
    call SelectHeroSkill(HL,KY)
    if KY=='A083' then
        call SelectHeroSkill(HL,'A07R')
        call SelectHeroSkill(HL,'A07M')
        call SelectHeroSkill(HL,'A07I')
    endif
    if KY=='A00A' then
        call SelectHeroSkill(HL,'A02V')
    endif
    set rb=GetHeroSkillPoints(HL)<UY
    if KY!='A03P' then
        call SetPlayerAbilityAvailable(LY,KY,false)
    endif
    if KY=='A00O' then
        call SetPlayerAbilityAvailable(LY,KY,true)
    endif
    if KY=='A00U' then
        call SetPlayerAbilityAvailable(LY,KY,true)
    endif
    if KY=='A019' then
        call SetPlayerAbilityAvailable(LY,KY,true)
    endif
    if KY=='A01B' then
        call SetPlayerAbilityAvailable(LY,KY,true)
    endif
    if KY=='A00C' then
        call SetPlayerAbilityAvailable(LY,KY,true)
    endif
    if KY=='A06D' then
        call SetPlayerAbilityAvailable(LY,KY,true)
    endif
    if KY=='A03R' then
        call SetPlayerAbilityAvailable(LY,KY,true)
    endif
    if KY=='Amgr' then
        call SetPlayerAbilityAvailable(LY,KY,true)
    endif
    if KY=='A00D' then
        call SetPlayerAbilityAvailable(LY,KY,true)
    endif
    if KY=='A01B' then
        call SetPlayerAbilityAvailable(LY,KY,true)
    endif
    if KY=='A022' then
        call SetPlayerAbilityAvailable(LY,KY,true)
    endif
    if KY==CO then
        call SetPlayerAbilityAvailable(LY,KY,true)
    endif
    if KY==DO then
        call SetPlayerAbilityAvailable(LY,KY,true)
    endif
    if KY==PO then
        call SetPlayerAbilityAvailable(LY,KY,true)
    endif
    if KY==MO then
        call SetPlayerAbilityAvailable(LY,KY,true)
    endif
    if KY==UO then
        call SetPlayerAbilityAvailable(LY,KY,true)
    endif
    if KY==JO then
        call SetPlayerAbilityAvailable(LY,KY,true)
    endif
    if KY==KO then
        call SetPlayerAbilityAvailable(LY,KY,true)
    endif
    if KY==ZO then
        call SetPlayerAbilityAvailable(LY,KY,true)
    endif
    if not rb then
        call SetPlayerAbilityAvailable(LY,KY,true)
        loop
            exitwhen i>24 or UN[i]==null
            call SelectHeroSkill(HL,UN[i])
            set i=i+1
        endloop
        call SetPlayerAbilityAvailable(LY,KY,false)
    endif
    if not rb then
        call SY(HL)
    endif
    return rb
endfunction
function YY takes unit HL,integer KY,string ZY returns boolean
    local boolean VZ=false
    local real VP=0
    local player LY=V
    call SetPlayerAbilityAvailable(LY,KY,true)
    call SetUnitUserData(NI,19)
    set VZ=IssueImmediateOrder(HL,ZY)
    call SetPlayerAbilityAvailable(LY,KY,false)
    if VZ then
        call IssueImmediateOrderById(HL,851972)
    endif
    return VZ
endfunction
function EZ takes real BT returns nothing
    local real t=BT/.02
    local real r=0
    loop
        exitwhen r>t or FR>0
        set r=r+1
        call Sleep(.02)
    endloop
    if FR>0 then
        set FR=FR-1
    endif
endfunction
function XZ takes real BT returns nothing
    local real t=BT/.02
    local real r=0
    loop
        exitwhen r>t or MG>0
        set r=r+1
        call Sleep(.02)
    endloop
    if MG>0 then
        set MG=MG-1
    endif
endfunction
function OZ takes unit HL,integer KY,integer ZY returns boolean
    local boolean VZ=false
    local player LY=V
    local integer HU=0
    set HU=GetUnitCurrentOrder(HL)
    call SetPlayerAbilityAvailable(LY,KY,true)
    call SetUnitUserData(HL,200)
    set VZ=IssueImmediateOrderById(HL,ZY)
    if VZ then
        call IssueImmediateOrderById(HL,851972)
    endif
    call SetPlayerAbilityAvailable(LY,KY,false)
    call Sleep(.0005)
    call SetUnitUserData(HL,11)
    return VZ
endfunction
function RZ takes unit HL,integer KY,string ZY returns boolean
    return OZ(HL,KY,OrderId(ZY))
endfunction
function IZ takes unit HL,integer KY,integer ZY returns boolean
    local boolean VZ=false
    local player LY=V
    call SetPlayerAbilityAvailable(LY,KY,true)
    set VZ=IssueImmediateOrderById(HL,ZY)
    call SetPlayerAbilityAvailable(LY,KY,false)
    return VZ
endfunction
function AZ takes unit HL,integer KY,string ZY returns boolean
    return OZ(HL,KY,OrderId(ZY))
endfunction
function NZ takes unit HL,integer KY,string ZY,location BU returns boolean
    local player LY=V
    local integer PlayerID=GetPlayerId(LY)
    local boolean BZ
    call SetPlayerAbilityAvailable(LY,KY,true)
    set BZ=IssuePointOrderLoc(HL,ZY,BU)
    if BZ then
    endif
    call SetPlayerAbilityAvailable(LY,KY,false)
    return(BZ)
endfunction
function CZ takes unit HL,integer KY,string ZY,location BU,real OU returns boolean
    local player LY=V
    local integer PlayerID=GetPlayerId(LY)
    local boolean BZ
    call SetPlayerAbilityAvailable(LY,KY,true)
    set BZ=IssuePointOrderLoc(HL,ZY,BU)
    call Sleep(OU)
    call SetPlayerAbilityAvailable(LY,KY,false)
    return(BZ)
endfunction
function DZ takes unit HL,integer KY,integer FZ,unit GZ,real OU returns boolean
    local player LY=V
    local integer PlayerID=GetPlayerId(LY)
    local location LQ=null
    local boolean BZ
    set LQ=GetUnitLoc(GZ)
    call SetPlayerAbilityAvailable(LY,KY,true)
    set BZ=IssuePointOrderByIdLoc(HL,FZ,LQ)
    call Sleep(OU-.25)
    if not IsUnitInRangeLoc(GZ,LQ,250)then
        call IssueImmediateOrderById(HL,851972)
        call OL("stop dazhao sima==========================")
        call SetPlayerAbilityAvailable(LY,KY,false)
        call RemoveLocation(LQ)
        set LQ=null
        return false
    endif
    call Sleep(.55)
    call SetPlayerAbilityAvailable(LY,KY,false)
    call RemoveLocation(LQ)
    set LQ=null
    return(BZ)
endfunction
function HZ takes unit HL,integer KY,integer FZ,unit GZ,real OU returns boolean
    local player LY=V
    local integer PlayerID=GetPlayerId(LY)
    local location LQ=null
    local boolean BZ
    set LQ=BP(GZ,200)
    call SetPlayerAbilityAvailable(LY,KY,true)
    set BZ=IssuePointOrderByIdLoc(HL,FZ,LQ)
    call Sleep(OU-.25)
    if not IsUnitInRangeLoc(GZ,LQ,220)then
        call IssueImmediateOrderById(HL,851972)
        call OL("stop dazhao sima==========================")
        call SetPlayerAbilityAvailable(LY,KY,false)
        call RemoveLocation(LQ)
        set LQ=null
        return false
    endif
    call Sleep(.55)
    call SetPlayerAbilityAvailable(LY,KY,false)
    call RemoveLocation(LQ)
    set LQ=null
    return(BZ)
endfunction
function JZ takes unit HL,integer KY,string ZY,unit XM returns boolean
    local player LY=V
    local integer PlayerID=GetPlayerId(LY)
    local boolean BZ
    call SetPlayerAbilityAvailable(LY,KY,true)
    set BZ=IssueTargetOrder(HL,ZY,XM)
    if BZ then
    endif
    call SetPlayerAbilityAvailable(LY,KY,false)
    return(BZ)
endfunction
function KZ takes unit HL,integer KY,integer ZY,unit XM returns boolean
    local player LY=V
    local integer PlayerID=GetPlayerId(LY)
    local boolean BZ
    call SetPlayerAbilityAvailable(LY,KY,true)
    set BZ=IssueTargetOrderById(HL,ZY,XM)
    if BZ then
    endif
    call SetPlayerAbilityAvailable(LY,KY,false)
    return(BZ)
endfunction
function LZ takes unit HL,integer KY,integer ZY,unit XM,real BT returns boolean
    local player LY=V
    local integer PlayerID=GetPlayerId(LY)
    local boolean BZ
    call SetPlayerAbilityAvailable(LY,KY,true)
    set BZ=IssueTargetOrderById(HL,ZY,XM)
    if BZ then
    endif
    call Sleep(BT)
    call SetPlayerAbilityAvailable(LY,KY,false)
    return(BZ)
endfunction
function MZ takes unit HL,integer KY,integer ZY returns boolean
    local player LY=V
    local integer PlayerID=GetPlayerId(LY)
    local boolean BZ
    call SetPlayerAbilityAvailable(LY,KY,true)
    set BZ=IssueImmediateOrderById(HL,ZY)
    if BZ then
    endif
    call SetPlayerAbilityAvailable(LY,KY,false)
    return(BZ)
endfunction
function PZ takes unit HL,integer KY,string ZY returns boolean
    local player LY=V
    local integer PlayerID=GetPlayerId(LY)
    local boolean BZ
    call SetPlayerAbilityAvailable(LY,KY,true)
    set BZ=IssueImmediateOrder(HL,ZY)
    if BZ then
    endif
    call SetPlayerAbilityAvailable(LY,KY,false)
    return(BZ)
endfunction
function QZ takes unit SZ,integer QP,unit ToUnit returns boolean
    local boolean rb=false
    set rb=(IssueNeutralImmediateOrderById(V,SZ,QP))or(IssueImmediateOrderById(SZ,QP))
    return rb
endfunction
function TZ takes nothing returns nothing
    set QI=CreateUnit(Player(13),WV,MF+'d',PF-'d',0)
    call SetHeroLevel(QI,25,false)
    call UnitAddAbility(QI,'Atru')
    call SetUnitInvulnerable(QI,true)
    call ShowUnit(QI,false)
    set SI=CreateUnit(Player(12),WV,MF+'d',PF-'d',0)
    call SetHeroLevel(SI,25,false)
endfunction
function UZ takes nothing returns nothing
    local integer OK=0
    loop
        exitwhen OK==6
        call SetItemVisible(UnitRemoveItemFromSlot(QI,OK),false)
        set OK=OK+1
    endloop
    call RemoveUnit(QI)
    call RemoveUnit(SI)
endfunction
function WZ takes nothing returns nothing
    local item TT=null
    local integer YZ=MF
    local integer ZZ=PF
    call TZ()
    set TT=CreateItem('ssan',YZ,ZZ)
    call SetItemVisible(TT,false)
    if TT!=null then
        call SetItemCharges(TT,1)
        call UnitAddItem(QI,TT)
        call FU(QI,'ssan',SI)
        call Sleep(.3)
        call UnitRemoveBuffs(SI,true,true)
        set XR=TT
    endif
    set TT=CreateItem(NX,YZ,ZZ)
    call SetItemVisible(TT,false)
    if TT!=null then
        call SetItemCharges(TT,1)
        call UnitAddItem(QI,TT)
        call IU(QI,NX)
        call Sleep(.3)
        call UnitRemoveBuffs(SI,true,true)
        set OR=TT
    endif
    set TT=CreateItem(AX,YZ,ZZ)
    call SetItemVisible(TT,false)
    if TT!=null then
        call SetItemCharges(TT,1)
        call UnitAddItem(QI,TT)
        call FU(QI,AX,SI)
        call Sleep(.3)
        call SetWidgetLife(SI,3000)
        set RR=TT
    endif
    set TT=CreateItem('I02C',YZ,ZZ)
    call SetItemVisible(TT,false)
    if TT!=null then
        call SetItemCharges(TT,1)
        call UnitAddItem(QI,TT)
        call IU(QI,'I02C')
        call Sleep(.5)
        call UnitRemoveBuffs(QI,true,true)
        set IR=TT
    endif
    call UZ()
endfunction
function V0 takes unit HL,integer WP returns nothing
    local integer OK=0
    local item TT=null
    local item UT=null
    local integer WT=0
    local integer YT=0
    set TT=TP(HL,WP)
    if TT!=null and GetItemUserData(TT)!=11 then
        if WP==PX then
            if IR==null then
                call WZ()
            endif
            call SetItemUserData(IR,11)
            call UnitRemoveItem(HL,TT)
            call SetItemPosition(TT,MF,PF)
            set NR=TT
            call SetItemVisible(TT,false)
            call UnitAddItem(HL,IR)
        endif
        if WP=='ssan' then
            if XR==null then
                call WZ()
            endif
            call SetItemUserData(XR,11)
            call UnitRemoveItem(HL,TT)
            call SetItemPosition(TT,MF,PF)
            set AR=TT
            call SetItemVisible(TT,false)
            call UnitAddItem(HL,XR)
        endif
    endif
endfunction
function E0 takes unit HL,integer WP returns nothing
    local integer OK=0
    local item TT=null
    local item UT=null
    local integer WT=0
    local integer YT=0
    set TT=TP(HL,WP)
    if TT!=null and GetItemUserData(TT)==11 then
        if WP==PX then
            call UnitRemoveItem(HL,TT)
            call SetItemPosition(TT,MF,PF)
            call SetItemVisible(TT,false)
            call UnitAddItem(HL,NR)
        endif
        if WP=='ssan' then
            call UnitRemoveItem(HL,TT)
            call SetItemPosition(TT,MF,PF)
            call SetItemVisible(TT,false)
            call UnitAddItem(HL,AR)
        endif
    endif
endfunction
function X0 takes unit HL returns nothing
    local integer OK=0
    local item TT=null
    local item UT=null
    local integer WT=0
    local integer YT=0
    loop
        exitwhen OK==6
        set TT=UnitItemInSlot(HL,OK)
        if TT!=null then
            set YT=GetItemTypeId(TT)
            set WT=OS(YT)
            if WT>-1 then
                if SF[WT]==null then
                    set SF[WT]=CreateItem(UF[WT],MF,PF)
                endif
                set UT=SF[WT]
                call SetItemCharges(UT,GetItemCharges(TT))
                set QF[WT]=TT
                call UnitRemoveItem(HL,TT)
                call PT(TT)
                call UnitAddItem(HL,UT)
            endif
        endif
        set OK=OK+1
    endloop
    call V0(NI,PX)
    call V0(NI,'ssan')
endfunction
function O0 takes unit HL returns nothing
    local integer OK=0
    local item TT=null
    local item UT=null
    local integer WT=0
    local integer YT=0
    loop
        exitwhen OK==6
        set UT=UnitItemInSlot(HL,OK)
        if UT!=null then
            set YT=GetItemTypeId(UT)
            set WT=RS(YT)
            if WT>-1 then
                set TT=QF[WT]
                if TT!=null then
                    call UnitRemoveItem(HL,UT)
                    call PT(UT)
                    call UnitAddItem(HL,TT)
                endif
            endif
        endif
        set OK=OK+1
    endloop
endfunction
function R0 takes nothing returns boolean
    return DN==HV
endfunction
function I0 takes nothing returns boolean
    return DN==PV
endfunction
function A0 takes nothing returns boolean
    return DN==JV
endfunction
function N0 takes nothing returns boolean
    return DN==WV
endfunction
function B0 takes nothing returns boolean
    return DN==KV
endfunction
function C0 takes nothing returns boolean
    return DN==LV
endfunction
function D0 takes nothing returns boolean
    return DN==MV
endfunction
function F0 takes nothing returns boolean
    return DN==QV
endfunction
function G0 takes nothing returns boolean
    return DN==SV
endfunction
function H0 takes nothing returns boolean
    return DN==TV
endfunction
function J0 takes nothing returns boolean
    return DN==UV
endfunction
function K0 takes nothing returns boolean
    return DN==YV
endfunction
function L0 takes nothing returns boolean
    return DN==ZV
endfunction
function M0 takes nothing returns boolean
    return DN==XE
endfunction
function P0 takes nothing returns boolean
    return DN==EE
endfunction
function Q0 takes nothing returns boolean
    return DN==VE
endfunction
function S0 takes nothing returns nothing
    if A0()or N0()or B0()or C0()or D0()or G0()or H0()or K0()or FG==2 then
        set VB=220
        set WN=WN-16
        set YN=YN-16
        set SC=PC-.5
        set IB=IB+80
        set AB=AB+80
        set TC=QC+1.6
    endif
endfunction
function T0 takes nothing returns nothing
    if FG==0 and GetUnitTypeId(NI)!=HV then
        set WN=72
        set YN=72
        set PC=1.5
        set ZN=1.58
    endif
endfunction
function U0 takes nothing returns nothing
    if R0()or I0()then
        set GN=1
        set HN=1
        set SA=true
        set GG=true
    endif
    if R0()or F0()then
        set NG=6
    endif
    if A0()or K0()or G0()then
        set GN=2
        set HN=2
        set NG=3
        set GG=true
    endif
    if D0()or J0()or H0()or N0()then
        set GN=2
        set HN=2
        set GG=true
    endif
    if B0()or C0()then
        set GN=0
        set HN=0
        set GG=true
    endif
    if F0()or G0()then
        set GN=0
        set HN=0
        set GG=true
    endif
    if M0()or P0()or L0()or Q0()then
        set GG=true
    endif
    if XH or IJ then
        if FG==0 or FG==1 then
            if CS("zhongehc"+AL(FN))==0 then
                set GN=1
                set HN=1
                set NG=6
                call BS("zhongehc"+AL(FN),1)
                set AJ=true
            endif
        endif
        if not AJ then
            if CS("shanghc"+AL(FN))<2 then
                set GN=0
                set HN=0
                call BS("shanghc"+AL(FN),1+CS("shanghc"+AL(FN)))
                set AJ=true
            endif
        endif
        if not AJ then
            if CS("xiahc"+AL(FN))<2 then
                set GN=2
                set HN=2
                call BS("xiahc"+AL(FN),1+CS("xiahc"+AL(FN)))
                set AJ=true
            endif
        endif
        if not AJ then
            if CS("zhongehc"+AL(FN))==0 then
                set GN=1
                set HN=1
                set NG=6
                call BS("zhongehc"+AL(FN),1)
                set AJ=true
            endif
        endif
    endif
    if HN==1 then
        set SA=true
    endif
    set PN=HN
endfunction
function W0 takes nothing returns nothing
    set UN[0]='A087'
    set UN[1]='A085'
    set UN[2]='A087'
    set UN[3]='A085'
    set UN[4]='A087'
    set UN[5]='A083'
    set UN[6]='A087'
    set UN[7]='A085'
    set UN[8]='A085'
    set UN[9]='A08I'
    set UN[10]='A083'
    set UN[11]='A08I'
    set UN[12]='A08I'
    set UN[13]='A08I'
    set UN[14]='A08I'
    set UN[15]='A083'
    set UN[16]='A08I'
    set UN[17]='A08I'
    set UN[18]='A08I'
    set UN[19]='A08A'
    set UN[20]='A08A'
    set UN[21]='A08A'
    set UN[22]='A08A'
    set UN[23]='A08I'
    set UN[24]='A08I'
endfunction
function Y0 takes nothing returns nothing
    set UN[0]='A07A'
    set UN[1]='A03O'
    set UN[2]='A07A'
    set UN[3]='A03O'
    set UN[4]='A07A'
    set UN[5]='A041'
    set UN[6]='A07A'
    set UN[7]='A03O'
    set UN[8]='A03O'
    set UN[9]='Aamk'
    set UN[10]='A041'
    set UN[11]='Aamk'
    set UN[12]='Aamk'
    set UN[13]='Aamk'
    set UN[14]='Aamk'
    set UN[15]='A041'
    set UN[16]='A03P'
    set UN[17]='A03P'
    set UN[18]='A03P'
    set UN[19]='A03P'
    set UN[20]='Aamk'
    set UN[21]='Aamk'
    set UN[22]='Aamk'
    set UN[23]='Aamk'
    set UN[24]='Aamk'
endfunction
function Z0 takes nothing returns nothing
    set UN[0]='A06K'
    set UN[1]='A019'
    set UN[2]='Aamk'
    set UN[3]='A019'
    set UN[4]='Aamk'
    set UN[5]='A01V'
    set UN[6]='A019'
    set UN[7]='Aamk'
    set UN[8]='A019'
    set UN[9]='Aamk'
    set UN[10]='A01V'
    set UN[11]='A06K'
    set UN[12]='A06K'
    set UN[13]='A06K'
    set UN[14]='A01B'
    set UN[15]='A01V'
    set UN[16]='A01B'
    set UN[17]='A01B'
    set UN[18]='A01B'
    set UN[19]='Aamk'
    set UN[20]='Aamk'
    set UN[21]='Aamk'
    set UN[22]='Aamk'
    set UN[23]='Aamk'
    set UN[24]='Aamk'
endfunction
function V1 takes nothing returns nothing
    set UN[0]='AOsh'
    set UN[1]='AHtb'
    set UN[2]='AOsh'
    set UN[3]='AHtb'
    set UN[4]='AOsh'
    set UN[5]='A00O'
    set UN[6]='AOsh'
    set UN[7]='AHtb'
    set UN[8]='AHtb'
    set UN[9]='Aamk'
    set UN[10]='A00O'
    set UN[11]='A00U'
    set UN[12]='A00U'
    set UN[13]='A00U'
    set UN[14]='A00U'
    set UN[15]='A00O'
    set UN[16]='Aamk'
    set UN[17]='Aamk'
    set UN[18]='Aamk'
    set UN[19]='Aamk'
    set UN[20]='Aamk'
    set UN[21]='Aamk'
    set UN[22]='Aamk'
    set UN[23]='Aamk'
    set UN[24]='Aamk'
endfunction
function E1 takes nothing returns nothing
    set UN[0]='A011'
    set UN[1]='A00R'
    set UN[2]='A011'
    set UN[3]='A00R'
    set UN[4]='A011'
    set UN[5]='A00A'
    set UN[6]='A011'
    set UN[7]='A00R'
    set UN[8]='A00R'
    set UN[9]='A00C'
    set UN[10]='A00A'
    set UN[11]='A00C'
    set UN[12]='A00C'
    set UN[13]='A00C'
    set UN[14]='Aamk'
    set UN[15]='A00A'
    set UN[16]='Aamk'
    set UN[17]='Aamk'
    set UN[18]='Aamk'
    set UN[19]='Aamk'
    set UN[20]='Aamk'
    set UN[21]='Aamk'
    set UN[22]='Aamk'
    set UN[23]='Aamk'
    set UN[24]='Aamk'
endfunction
function X1 takes nothing returns nothing
    set UN[0]='A04W'
    set UN[1]='Aamk'
    set UN[2]='A04W'
    set UN[3]='Aamk'
    set UN[4]='A04W'
    set UN[5]='A006'
    set UN[6]='A04W'
    set UN[7]='Amgr'
    set UN[8]='A009'
    set UN[9]='A009'
    set UN[10]='A006'
    set UN[11]='A009'
    set UN[12]='A009'
    set UN[13]='Amgr'
    set UN[14]='Amgr'
    set UN[15]='A006'
    set UN[16]='Amgr'
    set UN[17]='Aamk'
    set UN[18]='Aamk'
    set UN[19]='Aamk'
    set UN[20]='Aamk'
    set UN[21]='Aamk'
    set UN[22]='Aamk'
    set UN[23]='Aamk'
    set UN[24]='Aamk'
endfunction
function O1 takes nothing returns nothing
    set UN[0]='A02A'
    set UN[1]='Aamk'
    set UN[2]='A02A'
    set UN[3]='Aamk'
    set UN[4]='A02A'
    set UN[5]='A00H'
    set UN[6]='A02A'
    set UN[7]='A00D'
    set UN[8]='A00D'
    set UN[9]='A00D'
    set UN[10]='A00H'
    set UN[11]='A00D'
    set UN[12]='A01B'
    set UN[13]='A01B'
    set UN[14]='A01B'
    set UN[15]='A00H'
    set UN[16]='A01B'
    set UN[17]='Aamk'
    set UN[18]='Aamk'
    set UN[19]='Aamk'
    set UN[20]='Aamk'
    set UN[21]='Aamk'
    set UN[22]='Aamk'
    set UN[23]='Aamk'
    set UN[24]='Aamk'
endfunction
function R1 takes nothing returns nothing
    set UN[0]='A00W'
    set UN[1]='A022'
    set UN[2]='A00W'
    set UN[3]='A022'
    set UN[4]='A00W'
    set UN[5]='A01F'
    set UN[6]='A00W'
    set UN[7]='A022'
    set UN[8]='A022'
    set UN[9]='AUfu'
    set UN[10]='A01F'
    set UN[11]='AUfu'
    set UN[12]='AUfu'
    set UN[13]='AUfu'
    set UN[14]='Aamk'
    set UN[15]='A01F'
    set UN[16]='Aamk'
    set UN[17]='Aamk'
    set UN[18]='Aamk'
    set UN[19]='Aamk'
    set UN[20]='Aamk'
    set UN[21]='Aamk'
    set UN[22]='Aamk'
    set UN[23]='Aamk'
    set UN[24]='Aamk'
endfunction
function I1 takes nothing returns nothing
    set UN[0]='AUcs'
    set UN[1]='AUsl'
    set UN[2]='AUcs'
    set UN[3]='Aamk'
    set UN[4]='AUcs'
    set UN[5]='A030'
    set UN[6]='AUcs'
    set UN[7]='Aamk'
    set UN[8]='Aamk'
    set UN[9]='Aamk'
    set UN[10]='A030'
    set UN[11]='AUsl'
    set UN[12]='AUsl'
    set UN[13]='AUsl'
    set UN[14]='Aamk'
    set UN[15]='A030'
    set UN[16]='Auhf'
    set UN[17]='Auhf'
    set UN[18]='Auhf'
    set UN[19]='Auhf'
    set UN[20]='Aamk'
    set UN[21]='Aamk'
    set UN[22]='Aamk'
    set UN[23]='Aamk'
    set UN[24]='Aamk'
endfunction
function A1 takes nothing returns nothing
    set UN[0]='A04W'
    set UN[1]='A03R'
    set UN[2]='A04W'
    set UN[3]='A03R'
    set UN[4]='A04W'
    set UN[5]='A00L'
    set UN[6]='A04W'
    set UN[7]='A03R'
    set UN[8]='A03R'
    set UN[9]='A06D'
    set UN[10]='A00L'
    set UN[11]='A06D'
    set UN[12]='A06D'
    set UN[13]='A06D'
    set UN[14]='Aamk'
    set UN[15]='A00L'
    set UN[16]='Aamk'
    set UN[17]='Aamk'
    set UN[18]='Aamk'
    set UN[19]='Aamk'
    set UN[20]='Aamk'
    set UN[21]='Aamk'
    set UN[22]='Aamk'
    set UN[23]='Aamk'
    set UN[24]='Aamk'
endfunction
function N1 takes nothing returns nothing
    set UN[0]='A060'
    set UN[1]='A02E'
    set UN[2]='A060'
    set UN[3]='Aamk'
    set UN[4]='A060'
    set UN[5]='A065'
    set UN[6]='A060'
    set UN[7]='Aamk'
    set UN[8]='A02E'
    set UN[9]='A02E'
    set UN[10]='A065'
    set UN[11]='A02E'
    set UN[12]='AOhw'
    set UN[13]='AOhw'
    set UN[14]='AOhw'
    set UN[15]='A065'
    set UN[16]='AOhw'
    set UN[17]='Aamk'
    set UN[18]='Aamk'
    set UN[19]='Aamk'
    set UN[20]='Aamk'
    set UN[21]='Aamk'
    set UN[22]='Aamk'
    set UN[23]='Aamk'
    set UN[24]='Aamk'
endfunction
function B1 takes nothing returns nothing
    set UN[0]=DO
    set UN[1]=CO
    set UN[2]=DO
    set UN[3]=CO
    set UN[4]=DO
    set UN[5]=FO
    set UN[6]=BO
    set UN[7]=CO
    set UN[8]=CO
    set UN[9]=BO
    set UN[10]=FO
    set UN[11]=NO
    set UN[12]=NO
    set UN[13]=BO
    set UN[14]=BO
    set UN[15]=FO
    set UN[16]=DO
    set UN[17]=NO
    set UN[18]=NO
    set UN[19]=NO
    set UN[20]=NO
    set UN[21]=NO
    set UN[22]=NO
    set UN[23]=NO
    set UN[24]=NO
endfunction
function C1 takes nothing returns nothing
    set UN[0]=GO
    set UN[1]=HO
    set UN[2]=GO
    set UN[3]=HO
    set UN[4]=GO
    set UN[5]=KO
    set UN[6]=GO
    set UN[7]=HO
    set UN[8]=HO
    set UN[9]=NO
    set UN[10]=KO
    set UN[11]=JO
    set UN[12]=JO
    set UN[13]=JO
    set UN[14]=JO
    set UN[15]=KO
    set UN[16]=NO
    set UN[17]=NO
    set UN[18]=NO
    set UN[19]=NO
    set UN[20]=NO
    set UN[21]=NO
    set UN[22]=NO
    set UN[23]=NO
    set UN[24]=NO
endfunction
function D1 takes nothing returns nothing
    set UN[0]=PO
    set UN[1]=NO
    set UN[2]=PO
    set UN[3]=NO
    set UN[4]=PO
    set UN[5]=QO
    set UN[6]=PO
    set UN[7]=LO
    set UN[8]=LO
    set UN[9]=MO
    set UN[10]=QO
    set UN[11]=MO
    set UN[12]=MO
    set UN[13]=MO
    set UN[14]=LO
    set UN[15]=QO
    set UN[16]=LO
    set UN[17]=NO
    set UN[18]=NO
    set UN[19]=NO
    set UN[20]=NO
    set UN[21]=NO
    set UN[22]=NO
    set UN[23]=NO
    set UN[24]=NO
endfunction
function F1 takes nothing returns nothing
    set UN[0]=TO
    set UN[1]=UO
    set UN[2]=TO
    set UN[3]=UO
    set UN[4]=TO
    set UN[5]=WO
    set UN[6]=TO
    set UN[7]=UO
    set UN[8]=UO
    set UN[9]=NO
    set UN[10]=WO
    set UN[11]=NO
    set UN[12]=NO
    set UN[13]=NO
    set UN[14]=NO
    set UN[15]=WO
    set UN[16]=SO
    set UN[17]=SO
    set UN[18]=SO
    set UN[19]=SO
    set UN[20]=NO
    set UN[21]=NO
    set UN[22]=NO
    set UN[23]=NO
    set UN[24]=NO
endfunction
function G1 takes nothing returns nothing
    set UN[0]=VR
    set UN[1]=ZO
    set UN[2]=VR
    set UN[3]=ZO
    set UN[4]=VR
    set UN[5]=ER
    set UN[6]=VR
    set UN[7]=ZO
    set UN[8]=ZO
    set UN[9]=NO
    set UN[10]=ER
    set UN[11]=NO
    set UN[12]=NO
    set UN[13]=YO
    set UN[14]=YO
    set UN[15]=ER
    set UN[16]=YO
    set UN[17]=YO
    set UN[18]=NO
    set UN[19]=NO
    set UN[20]=NO
    set UN[21]=NO
    set UN[22]=NO
    set UN[23]=NO
    set UN[24]=NO
endfunction
function H1 takes nothing returns nothing
    if DN=='H008' then
        call W0()
    endif
    if DN=='U00A' then
        call Y0()
    endif
    if DN=='E000' then
        call Z0()
    endif
    if DN=='H005' then
        call V1()
    endif
    if F0()then
        call R1()
    endif
    if J0()then
        call N1()
    endif
    if G0()then
        call I1()
    endif
    if H0()then
        call A1()
    endif
    if B0()then
        call E1()
    endif
    if C0()then
        call X1()
    endif
    if D0()then
        call O1()
    endif
    if K0()then
        call B1()
    endif
    if M0()then
        call D1()
    endif
    if P0()then
        call F1()
    endif
    if L0()then
        call C1()
    endif
    if Q0()then
        call G1()
    endif
endfunction
function J1 takes nothing returns nothing
    local location AM=null
    set AM=ZM(FI,NI,600,GetRandomInt(-1,1)*90)
    call XQ(NI,AM,50)
    call RemoveLocation(AM)
    set AM=null
    call Sleep(1.1)
endfunction
function K1 takes location L1 returns boolean
    local location AM=null
    local integer OK=-1
    local real M1=0
    local integer VP=-2
    loop
        exitwhen OK==2
        set AM=ZM(FI,NI,500,OK*90)
        if VM(AM,L1)>M1 then
            set VP=OK
            set M1=VM(AM,L1)
        endif
        call RemoveLocation(AM)
        set AM=null
        set OK=OK+1
    endloop
    set AM=ZM(FI,NI,300,VP*90)
    if VM(AM,L1)>230 then
        call RemoveLocation(AM)
        set AM=null
        set AM=ZM(FI,NI,600,VP*90)
        call XQ(NI,AM,50)
        call Sleep(1.1)
        call RemoveLocation(AM)
        set AM=null
        return true
    endif
    return false
endfunction
function P1 takes nothing returns nothing
    local location AM=null
    local integer Q1=1
    if GetRandomInt(0,1)==1 then
        set Q1=-1
    endif
    set AM=ZM(NI,FI,600,Q1*'x')
    call XQ(NI,AM,50)
    call RemoveLocation(AM)
    set AM=null
    call Sleep(1.2)
    set AM=ZM(NI,FI,600,Q1*'x')
    call XQ(NI,AM,50)
    call RemoveLocation(AM)
    set AM=null
    call Sleep(1.2)
endfunction
function S1 takes nothing returns nothing
    if GetAIDifficulty(V)==AI_DIFFICULTY_NEWBIE then
        set GV=""
    endif
    if GetAIDifficulty(V)==AI_DIFFICULTY_NORMAL then
        set GV=""
    endif
    if GetAIDifficulty(V)==AI_DIFFICULTY_INSANE then
        set GV=""
    endif
    if R0()then
        set GV=GV+""
    endif
    if D0()then
        set GV=GV+""
    endif
    if B0()then
        set GV=GV+""
    endif
    if C0()then
        set GV=GV+""
    endif
    if A0()then
        set GV=GV+""
    endif
    if I0()then
        set GV=GV+""
    endif
    if H0()then
        set GV=GV+""
    endif
    if N0()then
        set GV=GV+""
    endif
    if F0()then
        set GV=GV+""
    endif
    if J0()then
        set GV=GV+""
    endif
    if G0()then
        set GV=GV+""
    endif
    if K0()then
        set GV=GV+""
    endif
    if Q0()then
        set GV=GV+""
    endif
    if M0()then
        set GV=GV+""
    endif
    if P0()then
        set GV=GV+""
    endif
    if L0()then
        set GV=GV+""
    endif
    call SetPlayerName(V,GV)
endfunction
function T1 takes integer id,real U1 returns boolean
    if TimerGetElapsed(HR)-JR[id]>U1 then
        set JR[id]=TimerGetElapsed(HR)
        return true
    endif
    return false
endfunction
function W1 takes group g returns integer
    local integer SS=0
    local integer OK=0
    local unit u=null
    local group rg=null
    if g==null then
        return-1
    endif
    set rg=CreateGroup()
    loop
        set u=FirstOfGroup(g)
        exitwhen OK>=13
        if u!=null and JL(u)then
            call SetUnitAcquireRange(u,61)
            set SS=SS+1
            call GroupAddUnit(rg,u)
        endif
        set OK=OK+1
        call GroupRemoveUnit(g,u)
    endloop
    if g==VF then
        set VF=rg
    endif
    if g==ZD then
        set ZD=rg
    endif
    call DestroyGroup(g)
    set g=null
    return SS
endfunction
function Y1 takes player LY,integer Z1 returns group
    local unit u=null
    local group g=CreateGroup()
    local group rg=CreateGroup()
    call GroupEnumUnitsOfPlayer(g,LY,null)
    loop
        set u=FirstOfGroup(g)
        exitwhen u==null
        if(GetUnitTypeId(u)==Z1 and JL(u))then
            call SetUnitAcquireRange(u,61)
            call GroupAddUnit(rg,u)
        endif
        call GroupRemoveUnit(g,u)
    endloop
    call DestroyGroup(g)
    set g=null
    return rg
endfunction
function V2 takes player LY returns group
    return Y1(LY,IE)
endfunction
function E2 takes player LY returns group
    local unit u=null
    local group g=CreateGroup()
    local group rg=CreateGroup()
    call GroupEnumUnitsOfPlayer(g,LY,null)
    loop
        set u=FirstOfGroup(g)
        exitwhen u==null
        if(IsUnitIllusion(u)and JL(u))then
            call GroupAddUnit(rg,u)
        endif
        call GroupRemoveUnit(g,u)
    endloop
    call DestroyGroup(g)
    set g=null
    return rg
endfunction
function X2 takes player LY returns group
    local unit u=null
    local group g=CreateGroup()
    local group rg=CreateGroup()
    call GroupEnumUnitsOfPlayer(g,LY,null)
    loop
        set u=FirstOfGroup(g)
        exitwhen u==null
        if(GetUnitTypeId(u)=='o00H' or GetUnitTypeId(u)=='o00I' or GetUnitTypeId(u)=='o00J')and JL(u)then
            call GroupAddUnit(rg,u)
        endif
        call GroupRemoveUnit(g,u)
    endloop
    call DestroyGroup(g)
    set g=null
    return rg
endfunction
function R2 takes integer DP returns nothing
    local integer OK=0
    loop
        exitwhen OK==NH
        if AH[OK]==DP then
            return
        endif
        set OK=OK+1
    endloop
    set AH[NH]=DP
    set NH=NH+1
endfunction
function I2 takes nothing returns nothing
    local integer OK=0
    local string ds=""
    loop
        exitwhen OK==NH
        set AH[OK]=0
        set OK=OK+1
    endloop
    set NH=0
endfunction
function A2 takes unit CY,integer N2 returns integer
    local integer OK=0
    loop
        exitwhen OK==NH
        if AH[OK]>=SM(NI,CY)and AH[OK]<=N2 then
            return AH[OK]
        endif
        set OK=OK+1
    endloop
    return-1
endfunction
function B2 takes unit u,string id returns nothing
    call StoreInteger(CV,"units",id,AK(u))
endfunction
function C2 takes string id returns unit
    if GetStoredInteger(CV,"units",id)<1 then
        return null
    endif
    return NK(GetStoredInteger(CV,"units",id))
endfunction
function D2 takes location AM returns nothing
    local unit F2=FirstOfGroup(VF)
    if F2!=null then
        call GroupPointOrderByIdLoc(VF,851986,AM)
    endif
endfunction
function G2 takes nothing returns nothing
    local unit H2=null
    local integer OK=0
    loop
        set H2=FirstOfGroup(VF)
        exitwhen OK>=20
        if H2!=null and JL(H2)then
            call GroupAddUnit(ZD,H2)
        endif
        set OK=OK+1
        call GroupRemoveUnit(VF,H2)
    endloop
    call DestroyGroup(VF)
    set VF=null
endfunction
function J2 takes nothing returns nothing
    local unit K2=OF[2]
    local unit H2=null
    local location L2=null
    local group rg=CreateGroup()
    local integer OK=0
    local unit M2=null
    if YD<1 then
        return
    endif
    set M2=FirstOfGroup(ZD)
    if M2==null then
        set M2=NI
    endif
    if(GL(OF[2])or MU(OF[2])>'d')or(OF[0]!=null and JL(OF[0])and SM(M2,OF[0])<=SM(M2,OF[2]))then
        set K2=OF[0]
    endif
    if GL(K2)or MU(K2)>'d' then
        set K2=GF
    endif
    set YD=0
    call G2()
    set VF=CreateGroup()
    loop
        set H2=FirstOfGroup(ZD)
        exitwhen OK>=20
        if H2!=null and JL(H2)then
            set YD=YD+1
            if(NW(H2)>40 and SM(H2,K2)>1100)or NW(H2)>96 then
                call SetUnitAcquireRange(H2,61)
                call GroupAddUnit(rg,H2)
            else
                call GroupAddUnit(VF,H2)
            endif
        endif
        set OK=OK+1
        call GroupRemoveUnit(ZD,H2)
    endloop
    call DestroyGroup(ZD)
    set ZD=null
    set ZD=rg
    set L2=GetUnitLoc(K2)
    call D2(L2)
    call RemoveLocation(L2)
    set L2=null
endfunction
function P2 takes location AM returns boolean
    local unit F2=FirstOfGroup(ZD)
    if F2!=null then
        if QM(F2,AM)<800 then
            return true
        endif
        call J2()
        call GroupPointOrderByIdLoc(ZD,851986,AM)
    endif
    return false
endfunction
function Q2 takes nothing returns nothing
    local integer S2=GetStoredInteger(CV,"zs_itemNearHero","playerid"+AL(GetPlayerId(V)))
    set GD=null
    if S2>0 then
        set GD=CK(S2)
    endif
endfunction
function T2 takes nothing returns nothing
    set GD=null
    call StoreInteger(CV,"zs_itemNearHero","playerid"+AL(GetPlayerId(V)),-1)
endfunction
function U2 takes integer JT,integer HS,integer cd,integer mp,integer DP,integer W2 returns nothing
    call FS(JT,HS,cd)
    call ET(JT,HS,mp)
    call OT(JT,DP)
    call RT(JT,W2)
endfunction
function Z2 takes unit HL,location AM returns real
    local real YM
    local location BU=null
    if(HL!=null)and(JL(HL))then
        set BU=GetUnitLoc(HL)
        set YM=TM(AM,BU)
        call RemoveLocation(BU)
        set BU=null
        return(YM)
    endif
    return-.001
endfunction
function V3 takes unit HL returns real
    local real YM
    local location XM=null
    local location BU=null
    return Z2(HL,IN)
    if(HL!=null)and(JL(HL))then
        set XM=VN
        set BU=GetUnitLoc(HL)
        set YM=TM(XM,BU)
        call RemoveLocation(BU)
        set BU=null
        set XM=null
        return(YM)
    endif
    return-.001
endfunction
function E3 takes unit XM,real JM returns location
    local real OP
    if(XM!=null)and(JL(XM))then
        set OP=Deg2Rad(V3(XM)+180)
        return(Location(JM*Cos(OP)+GetUnitX(XM),JM*Sin(OP)+GetUnitY(XM)))
    endif
    return null
endfunction
function X3 takes unit XM,real JM returns location
    local real OP
    local real KP=0
    set KP=GetRandomInt(-1,1)*FB
    if(XM!=null)and(JL(XM))then
        set OP=Deg2Rad(V3(XM)+180+KP)
        return(Location(JM*Cos(OP)+GetUnitX(XM),JM*Sin(OP)+GetUnitY(XM)))
    endif
    return null
endfunction
function O3 takes nothing returns integer
    if(GetPlayerId(V)<6)then
        return 1
    endif
    return 2
endfunction
function R3 takes nothing returns location
    if(FN==1)then
        return MR
    endif
    return PR
endfunction
function I3 takes nothing returns location
    if(FN==2)then
        return MR
    endif
    return PR
endfunction
function A3 takes nothing returns location
    if(FN==1)then
        return Location(-4110,-5100)
    endif
    return Location(3300,3700)
endfunction
function N3 takes integer B3,location AM,real C3 returns unit
    local real JM
    local real D3=999999
    local unit u=null
    local unit ru=null
    local group g=CreateGroup()
    call GroupEnumUnitsInRangeOfLoc(g,AM,C3,null)
    loop
        set u=FirstOfGroup(g)
        exitwhen u==null
        if(GetUnitTypeId(u)==B3)then
            set JM=QM(u,AM)
            if JM<D3 then
                set D3=JM
                set ru=u
            endif
        endif
        call GroupRemoveUnit(g,u)
    endloop
    call DestroyGroup(g)
    set g=null
    if(ru==null)then
    endif
    return ru
endfunction
function F3 takes nothing returns nothing
    local unit u=null
    local group g=CreateGroup()
    call GroupEnumUnitsInRangeOfLoc(g,TH,600,null)
    loop
        set u=FirstOfGroup(g)
        exitwhen u==null
        if GetUnitTypeId(u)==HE and JL(u)then
            set SH=u
        endif
        call GroupRemoveUnit(g,u)
    endloop
    call DestroyGroup(g)
    set g=null
endfunction
function G3 takes unit HL,real H3,boolean J3 returns unit
    local real JM
    local location LQ=null
    local real D3=999999
    local unit u=null
    local unit ru=null
    local group g=CreateGroup()
    if(HL==null)and(not JL(HL))then
        return null
    endif
    set LQ=GetUnitLoc(HL)
    call GroupEnumUnitsInRangeOfLoc(g,LQ,H3,null)
    call RemoveLocation(LQ)
    set LQ=null
    loop
        set u=FirstOfGroup(g)
        exitwhen u==null
        if IsUnitEnemy(u,V)and JL(u)then
            if GetUnitTypeId(u)==JE or GetUnitTypeId(u)==KE or GetUnitTypeId(u)==LE or GetUnitTypeId(u)==ME then
                set EJ=u
            endif
            if GetUnitTypeId(u)==PE then
                set XJ=u
            endif
            if GetUnitTypeId(u)==QE or GetUnitTypeId(u)==SE or GetUnitTypeId(u)==TE then
                set OJ=u
            endif
        endif
        if IsUnitEnemy(u,V)and JL(u)then
            if(J3)or(IsUnitInvisible(u,V)==false)then
                set JM=SM(HL,u)
                if JM<D3 then
                    set D3=JM
                    set ru=u
                endif
            endif
        endif
        call GroupRemoveUnit(g,u)
    endloop
    call DestroyGroup(g)
    set g=null
    if(ru!=null)then
    endif
    set u=null
    return ru
endfunction
function K3 takes unit HL,real H3,boolean J3 returns unit
    local location LQ=null
    local unit u=null
    local unit ru=null
    local group g=CreateGroup()
    if(HL==null)and(not JL(HL))then
        return null
    endif
    set LQ=GetUnitLoc(HL)
    call GroupEnumUnitsInRangeOfLoc(g,LQ,H3,null)
    call RemoveLocation(LQ)
    set LQ=null
    loop
        set u=FirstOfGroup(g)
        exitwhen u==null or ru!=null
        if IsUnitEnemy(u,V)and JL(u)then
            if(J3)or(IsUnitInvisible(u,V)==false)then
                if GetUnitTypeId(u)==NE or GetUnitTypeId(u)==BE or GetUnitTypeId(u)==CE or GetUnitTypeId(u)==DE then
                    set ru=u
                endif
            endif
        endif
        call GroupRemoveUnit(g,u)
    endloop
    call DestroyGroup(g)
    set g=null
    set u=null
    if ru==null then
        if NF!=null and SM(HL,NF)<2800 then
            set ru=NF
        endif
    endif
    return ru
endfunction
function L3 takes unit HL,real H3 returns unit
    local real JM
    local location LQ=null
    local real D3=999999
    local unit u=null
    local unit ru=null
    local group g=CreateGroup()
    if(HL==null)and(not JL(HL))then
        return null
    endif
    set LQ=GetUnitLoc(HL)
    call GroupEnumUnitsInRangeOfLoc(g,LQ,H3,null)
    call RemoveLocation(LQ)
    set LQ=null
    loop
        set u=FirstOfGroup(g)
        exitwhen u==null
        if(TW(u))then
            set JM=SM(HL,u)
            if JM<D3 then
                set D3=JM
                set ru=u
            endif
        endif
        call GroupRemoveUnit(g,u)
    endloop
    call DestroyGroup(g)
    set g=null
    if(ru!=null)then
    endif
    set u=null
    return ru
endfunction
function M3 takes location LQ,real H3,boolean J3 returns integer
    local integer P3=0
    local unit u=null
    local group g=CreateGroup()
    call GroupEnumUnitsInRangeOfLoc(g,LQ,H3,null)
    loop
        set u=FirstOfGroup(g)
        exitwhen u==null
        if(QW(u)and JL(u))then
            if(J3)or(IsUnitInvisible(u,V)==false)then
                set P3=P3+1
            endif
        endif
        call GroupRemoveUnit(g,u)
    endloop
    call DestroyGroup(g)
    set g=null
    set u=null
    return P3
endfunction
function Q3 takes location LQ,real H3,boolean J3 returns integer
    local integer P3=0
    local unit u=null
    local group g=CreateGroup()
    call GroupEnumUnitsInRangeOfLoc(g,LQ,H3,null)
    loop
        set u=FirstOfGroup(g)
        exitwhen u==null
        if(WW(u)and JL(u))then
            if(J3)or(IsUnitInvisible(u,V)==false)then
                set P3=P3+1
            endif
        endif
        call GroupRemoveUnit(g,u)
    endloop
    call DestroyGroup(g)
    set g=null
    set u=null
    return P3
endfunction
function S3 takes location LQ,real H3,boolean J3 returns integer
    local integer P3=0
    local unit u=null
    local group g=CreateGroup()
    call GroupEnumUnitsInRangeOfLoc(g,LQ,H3,null)
    loop
        set u=FirstOfGroup(g)
        exitwhen u==null
        if(CL(u)and JL(u))then
            if(J3)or(IsUnitInvisible(u,V)==false)then
                set P3=P3+1
            endif
        endif
        call GroupRemoveUnit(g,u)
    endloop
    call DestroyGroup(g)
    set g=null
    set u=null
    return P3
endfunction
function T3 takes unit HL,real H3,boolean J3 returns unit
    local real JM
    local location LQ=null
    local real U3=0
    local unit u=null
    local unit ru=null
    local group g=CreateGroup()
    if(HL==null)or(not JL(HL))then
        return null
    endif
    set LQ=GetUnitLoc(HL)
    call GroupEnumUnitsInRangeOfLoc(g,LQ,H3,null)
    call RemoveLocation(LQ)
    set LQ=null
    loop
        set u=FirstOfGroup(g)
        exitwhen u==null
        if(WW(u)and VY(u))then
            if(J3)or(IsUnitInvisible(u,V)==false)then
                set JM=QM(u,VN)
                if JM>U3 then
                    set U3=JM
                    set ru=u
                endif
            endif
        endif
        call GroupRemoveUnit(g,u)
    endloop
    call DestroyGroup(g)
    set g=null
    if(ru!=null)then
    endif
    set u=null
    return ru
endfunction
function W3 takes nothing returns unit
    local real JM
    local real Y3=0
    local unit u=null
    local unit ru=null
    local group g=CreateGroup()
    call GroupEnumUnitsInRangeOfLoc(g,VN,999999,null)
    loop
        set u=FirstOfGroup(g)
        exitwhen u==null
        if(OY(u)and MM(u))then
            set JM=QM(u,VN)
            if JM>Y3 then
                set Y3=JM
                set ru=u
            endif
        endif
        call GroupRemoveUnit(g,u)
    endloop
    call DestroyGroup(g)
    set g=null
    if(ru==null)then
    endif
    set u=null
    return ru
endfunction
function Z3 takes nothing returns unit
    local real JM
    local real V4=999999
    local unit u=null
    local unit ru=null
    local group g=CreateGroup()
    call GroupEnumUnitsInRangeOfLoc(g,VN,999999,null)
    loop
        set u=FirstOfGroup(g)
        exitwhen u==null
        if(RY(u)and MM(u))then
            set JM=QM(u,VN)
            if JM<V4 then
                set V4=JM
                set ru=u
            endif
        endif
        call GroupRemoveUnit(g,u)
    endloop
    call DestroyGroup(g)
    set g=null
    if(ru==null)then
    endif
    set u=null
    return ru
endfunction
function getFireMiddleLineLoc takes nothing returns location
    local unit E4=null
    local unit X4=null
    local location O4=null
    set E4=W3()
    set X4=Z3()
    if E4==null or X4==null then
        return null
    endif
    set O4=Location((GetUnitX(E4)+GetUnitX(X4))/2,(GetUnitY(E4)+GetUnitY(X4))/2)
    set E4=null
    set X4=null
    return O4
endfunction
function R4 takes nothing returns boolean
    if MB==null then
        return false
    endif
    return PL(NI)<PL(MB)
endfunction
function I4 takes nothing returns location
    local real VP=-'x'
    local location A4=null
    if AV==null then
        return null
    endif
    loop
        exitwhen VP>'x'
        set A4=RP(IN,AV,400,VP)
        if KL(A4)>=PL(MB)then
            return A4
        endif
        call RemoveLocation(A4)
        set A4=null
        set VP=VP+15
    endloop
    return null
endfunction
function N4 takes nothing returns unit
    local real r1=999999
    local real r2=999999
    local real r3=999999
    local real B4=999999
    local unit ru=D
    if D!=null then
        set r1=T
        set B4=r1
    endif
    if G!=null then
        set r2=SM(NI,G)
    endif
    if GI!=null then
        set r3=KH
    endif
    if r2<r1 then
        set ru=G
        set B4=r2
    endif
    if r3<B4 then
        set ru=GI
        set B4=r3
    endif
    return ru
endfunction
function C4 takes nothing returns unit
    local real r1=999999
    local real r2=999999
    local real r3=999999
    local real B4=999999
    local unit ru=D
    if D!=null then
        set r1=T-DB
        set B4=r1
    endif
    if G!=null then
        set r2=SM(NI,G)-CB
    endif
    if GI!=null then
        set r3=KH-900
    endif
    if r2<r1 then
        set ru=G
        set B4=r2
    endif
    if r3<B4 then
        set ru=GI
        set B4=r3
    endif
    return ru
endfunction
function D4 takes nothing returns location
    local location IP=null
    local unit ru=C4()
    if ru==null then
        return null
    endif
    if MW(ru)then
        set IP=X3(ru,900)
    else
        if LW(ru)then
            set IP=X3(ru,DB)
        else
            set IP=X3(ru,CB)
        endif
    endif
    return IP
endfunction
function F4 takes real DP returns location
    local unit u=null
    local unit uTower=null
    local location IP=null
    local location AP=null
    local location MP=null
    set u=N4()
    if u==null then
        return null
    endif
    set IP=E3(u,DP)
    return IP
endfunction
function G4 takes unit HL,real H3,boolean J3 returns unit
    local real JM
    local location LQ=null
    local real U3=999999
    local unit u=null
    local unit ru=null
    local group g=CreateGroup()
    if(HL==null)or(not JL(HL))then
        return null
    endif
    set LQ=GetUnitLoc(HL)
    call GroupEnumUnitsInRangeOfLoc(g,LQ,H3,null)
    call RemoveLocation(LQ)
    set LQ=null
    loop
        set u=FirstOfGroup(g)
        exitwhen u==null
        if(QW(u)and JL(u))then
            if(J3)or(IsUnitInvisible(u,V)==false)then
                set JM=SM(NI,u)
                if JM<U3 then
                    set U3=JM
                    set ru=u
                endif
            endif
        endif
        call GroupRemoveUnit(g,u)
    endloop
    call DestroyGroup(g)
    set g=null
    if(ru!=null)then
    endif
    set u=null
    return ru
endfunction
function H4 takes unit HL,real H3,boolean J3 returns unit
    local real JM
    local location LQ=null
    local real U3=999999
    local unit u=null
    local unit ru=null
    local group g=CreateGroup()
    if(HL==null)or(not JL(HL))then
        call OL(" unit null")
        return null
    endif
    set LQ=GetUnitLoc(HL)
    call GroupEnumUnitsInRangeOfLoc(g,LQ,H3,null)
    call RemoveLocation(LQ)
    set LQ=null
    loop
        set u=FirstOfGroup(g)
        exitwhen u==null
        if(QW(u)and JL(u))then
            if(J3)or(IsUnitInvisible(u,V)==false)then
                set JM=LU(u)
                if JM<U3 then
                    set U3=JM
                    set ru=u
                endif
            endif
        endif
        call GroupRemoveUnit(g,u)
    endloop
    call DestroyGroup(g)
    set g=null
    if(ru!=null)then
    endif
    set u=null
    return ru
endfunction
function initlifearry takes nothing returns nothing
    local integer i=0
    loop
        exitwhen i==60
        set TD[i]=-1
        set UD[i]=-1
        set i=i+1
    endloop
endfunction
function J4 takes nothing returns integer
    local integer OK=0
    local unit CY=null
    local integer SS=0
    loop
        exitwhen OK==20
        set CY=QD[OK]
        if CY!=null and JL(CY)and QM(CY,AV)<601 then
            set SS=SS+1
        endif
        set OK=OK+1
    endloop
    set CY=null
    return SS
endfunction
function K4 takes nothing returns integer
    local integer OK=0
    local unit CY=null
    local integer SS=0
    loop
        exitwhen OK==20
        set CY=SD[OK]
        if CY!=null and JL(CY)and QM(CY,AV)<601 then
            set SS=SS+1
        endif
        set OK=OK+1
    endloop
    set CY=null
    return SS
endfunction
function L4 takes nothing returns nothing
    local integer OK=0
    local real M4=999999
    local unit P4=null
    local unit CY=null
    loop
        exitwhen OK==20
        set CY=QD[OK]
        if CY!=null and LU(CY)<M4 and JL(CY)and LU(CY)>0 then
            set P4=CY
            set M4=LU(CY)
        endif
        set OK=OK+1
    endloop
    set TB=M4
    set MB=P4
    set P4=null
    set CY=null
endfunction
function Q4 takes nothing returns nothing
    local integer OK=0
    local real M4=999999
    local unit P4=null
    local unit CY=null
    loop
        exitwhen OK==20
        set CY=SD[OK]
        if CY!=null and LU(CY)<M4 and JL(CY)and LU(CY)>0 then
            set P4=CY
            set M4=LU(CY)
        endif
        set OK=OK+1
    endloop
    set SB=M4
    set LB=P4
    set P4=null
    set CY=null
endfunction
function S4 takes nothing returns nothing
    local real M4=999999
    local real BT=0
    local unit P4=null
    local unit CY=null
    local integer OK=0
    if CN then
        return
    endif
    set LC=99999
    loop
        exitwhen OK==20
        set CY=SD[OK]
        if CY!=null and LU(CY)>0 and TD[OK]>0 then
            if GK(TD[OK]-LU(CY))>3 then
                set BT=LU(CY)/(TD[OK]-LU(CY))
                set BT=GK(BT)
                if BT<M4 then
                    set P4=CY
                    set M4=BT
                endif
            endif
        endif
        if CY!=null then
            set TD[OK]=LU(CY)
        endif
        set OK=OK+1
    endloop
    set LC=M4
    set LB=P4
    if NW(LB)>90 then
        set LC=999999
        set LB=null
    endif
    set ZC=Q-YC
    set YC=Q
    set P4=null
    set CY=null
endfunction
function T4 takes nothing returns integer
    local integer OK=0
    local real U4=999999
    local integer ri=0
    loop
        exitwhen OK==20
        if R0()and OK<5 then
        endif
        if QD[OK]==null or GL(QD[OK])then
            set WD[OK]=999999
        endif
        if WD[OK]<U4 and WD[OK]>0 then
            set U4=WD[OK]
            set ri=OK
        endif
        set OK=OK+1
    endloop
    return ri
endfunction
function W4 takes nothing returns nothing
    local real M4=999999
    local real BT=0
    local unit P4=null
    local unit CY=null
    local integer OK=0
    local real Y4=0
    local real Z4=0
    local integer V5=0
    if CN then
        return
    endif
    set DD=null
    set KC=999999
    loop
        exitwhen OK==20
        set CY=QD[OK]
        if CY!=null and LU(CY)>0 and UD[OK]>0 then
            set Y4=GK(UD[OK]-LU(CY))
            if Y4==0 then
            else
                set BT=LU(CY)/(Y4)
                if BT>=BD then
                endif
            endif
            if GK(Y4)>0 then
                set BT=LU(CY)/(Y4)
                set WD[OK]=BT
            endif
        endif
        if CY!=null then
            set UD[OK]=LU(CY)
        endif
        set OK=OK+1
    endloop
    set V5=T4()
    set KC=WD[V5]
    set MB=QD[V5]
    if MB==null then
        set KC=999999
    endif
    if R0()then
        if KC<5 then
        endif
    endif
    set P4=null
    set CY=null
endfunction
function E5 takes nothing returns nothing
    set XV=0
    set VV=0
    set EV=0
    set UB=999999
    set WB=999999
    set YB=999999
    set ZB=999999
    set VC=0
    set EC=0
    set XC=9999999
    set B=null
    set A=null
    set C=null
    set N=null
    set YH=null
    set ZH=null
    set VJ=null
    set RJ=null
    set OC=9999999
    set RC=null
    set IC=0
    set AC=null
    set NC=9999999
    set BC=null
    set CC=0
    set DC=null
    set FC=9999999
    set GC=null
    set HC=0
    set JC=null
    set JI=null
    set LI=null
    set HI=null
    set BF=null
    if GL(NF)then
        set NF=null
    endif
    if FI!=null then
        if T1(96,5)then
            set FI=null
            set GI=null
        endif
        if IsUnitInvisible(FI,V)and HY(FI)then
            set FI=null
        endif
        if GL(FI)then
            set FI=null
        endif
    endif
    set D=null
    set F=null
    if GL(LB)then
        set LB=null
    endif
    if GL(MB)then
        set MB=null
    endif
    set G=null
    set J=null
    set H=null
    set PB=null
    set QB=null
    set CD=null
    set BG=null
    set CG=999999
endfunction
function X5 takes nothing returns nothing
    if GL(B)then
        set B=null
    endif
    if GL(A)then
        set A=null
    endif
    if GL(C)then
        set C=null
    endif
    if GL(FI)then
        set FI=null
    endif
    if GL(N)then
        set N=null
    endif
endfunction
function O5 takes unit HL returns nothing
    if(WW(HL))then
        if SM(NI,HL)<=1200 then
            if LU(HL)<600 and XV<20 then
                set SD[XV]=HL
            endif
            set XV=XV+1
        endif
        if LU(HL)<SB then
            set SB=LU(HL)
            set LB=HL
        endif
        if SM(HL,NI)>VC then
            set VC=SM(HL,NI)
            set H=HL
        endif
    endif
endfunction
function R5 takes unit HL returns nothing
    if(WW(HL))then
        if QM(HL,IN)>EC then
            set EC=QM(HL,IN)
            set PB=HL
        endif
    endif
endfunction
function I5 takes unit HL returns nothing
    if(QW(HL))then
        if QM(HL,IN)<XC then
            set XC=QM(HL,IN)
            set QB=HL
        endif
    endif
endfunction
function A5 takes nothing returns nothing
    local integer OK=0
    loop
        exitwhen OK==20
        if GL(QD[OK])or SM(NI,QD[OK])>1200 then
            set QD[OK]=null
        endif
        set OK=OK+1
    endloop
endfunction
function debugenemyhp takes nothing returns nothing
    local integer OK=0
    local string ds=""
    local integer SS=0
    loop
        exitwhen OK==20
        if QD[OK]!=null then
            set SS=SS+1
            set ds=ds+"_id"+AL(OK)+":"+AL(R2I(LU(QD[OK])))
        endif
        set OK=OK+1
    endloop
    call OL(AL(SS)+"#"+ds)
endfunction
function N5 takes unit u returns integer
    local integer OK=0
    local integer ri=-1
    local boolean B5=false
    loop
        exitwhen OK==20
        if QD[OK]==null and ri==-1 then
            set ri=OK
        endif
        if QD[OK]!=null then
            if QD[OK]==u then
                set B5=true
            endif
        endif
        set OK=OK+1
    endloop
    if not B5 then
        return ri
    endif
    return-1
endfunction
function C5 takes unit HL returns nothing
    local integer D5=0
    if(SW(HL))then
        if SM(NI,HL)<=800 then
            set EV=EV+1
            set J=HL
        endif
    endif
    if IsUnitEnemy(HL,V)and GetUnitTypeId(HL)=='orai' then
        set RJ=HL
    endif
    if(QW(HL))then
        if SM(NI,HL)<=1200 then
            if LU(HL)<800 then
                set D5=N5(HL)
                if D5>-1 then
                    set QD[D5]=HL
                    set UD[D5]=LU(HL)
                    set WD[D5]=999999
                endif
            endif
        endif
        if IY(HL)and SM(NI,HL)<=1200 and GetUnitTypeId(HL)!=IE then
            set VV=VV+1
        endif
        if SM(HL,NI)<ZB and GetUnitTypeId(HL)!=IE then
            set ZB=SM(HL,NI)
            set G=HL
        endif
        if LU(HL)>ND and(CD==null or SM(HL,NI)<SM(CD,NI))then
            if not CL(HL)then
                set TB=LU(HL)
                set CD=HL
            endif
        endif
        if GetUnitTypeId(HL)==IE and SM(NI,HL)<CG then
            set BG=HL
            set CG=SM(NI,HL)
        endif
    endif
endfunction
function F5 takes unit HL returns nothing
    if IsUnitEnemy(HL,V)and JL(HL)then
        if GetUnitTypeId(HL)==JE or GetUnitTypeId(HL)==KE or GetUnitTypeId(HL)==LE or GetUnitTypeId(HL)==ME then
            set YH=HL
        endif
        if GetUnitTypeId(HL)==PE then
            set ZH=HL
        endif
        if GetUnitTypeId(HL)==QE or GetUnitTypeId(HL)==SE or GetUnitTypeId(HL)==TE then
            set VJ=HL
        endif
    endif
endfunction
function G5 takes unit HL returns nothing
    if(TW(HL))then
        if SM(HL,NI)<WB then
            set WB=SM(HL,NI)
            set D=HL
        endif
    endif
endfunction
function H5 takes unit HL returns nothing
    if(UW(HL))then
        if SM(HL,NI)<YB then
            set YB=SM(HL,NI)
            set F=HL
        endif
    endif
endfunction
function J5 takes unit HL returns nothing
    if(MW(HL)and IsUnitEnemy(HL,V)and(not IsUnitHidden(HL)))then
        if SM(HL,NI)<UB then
            set UB=SM(HL,NI)
            set GI=HL
        endif
    endif
endfunction
function K5 takes unit HL returns nothing
    if(IsUnitEnemy(HL,V)and JL(HL)and IsUnitVisible(HL,V))then
        if SM(HL,NI)<1300 then
            if GetUnitTypeId(HL)==FE then
                set BF=HL
            endif
        endif
        if SM(HL,NI)<1300 then
            if GetUnitTypeId(HL)==CE or GetUnitTypeId(HL)==NE or GetUnitTypeId(HL)==BE or GetUnitTypeId(HL)==DE then
                set LI=HL
            endif
            if GetUnitTypeId(HL)==NE or GetUnitTypeId(HL)==BE then
                set JI=HL
            endif
            if GetUnitTypeId(HL)==RE or GetUnitTypeId(HL)==OE then
                set HI=HL
            endif
        endif
    endif
endfunction
function initUnitsArrayNearHero takes nothing returns nothing
    local integer OK=0
    loop
        exitwhen OK==20
        set QD[OK]=null
        set SD[OK]=null
        set OK=OK+1
    endloop
endfunction
function L5 takes nothing returns nothing
    local unit u=null
    local group g=CreateGroup()
    local integer i=0
    call GroupEnumUnitsInRange(g,GetUnitX(NI),GetUnitY(NI),GB,null)
    loop
        set u=FirstOfGroup(g)
        exitwhen u==null
        if(JL(u)and HW(u))then
            if not IsUnitInvisible(u,V)then
                call O5(u)
                call J5(u)
                call H5(u)
                call R5(u)
            endif
            call I5(u)
            call C5(u)
            call G5(u)
        endif
        if(JL(u))then
            call K5(u)
        endif
        call F5(u)
        call GroupRemoveUnit(g,u)
    endloop
    call DestroyGroup(g)
    set g=null
    set u=null
endfunction
function M5 takes unit P5,integer Q5,integer S5 returns integer
    local integer ri=0
    local boolean T5=false
    local boolean U5=false
    local location LQ=null
    local unit W5=null
    set W5=N3(Q5,VN,8888)
    if Q5==GE then
        set W5=UH
    endif
    if W5!=null then
        set LQ=GetUnitLoc(W5)
        set U5=XQ(P5,LQ,SN)
        call RemoveLocation(LQ)
        set LQ=null
        if(U5)then
            set ri=1
            set T5=QZ(W5,S5,P5)
            set W5=null
        endif
    else
        call OL("no Itemshop found")
    endif
    if T5 then
        set ri=2
    endif
    set W5=null
    return ri
endfunction
function Y5 takes unit P5,integer S5 returns boolean
    local boolean T5=false
    local boolean U5=false
    local location LQ=null
    local unit W5=null
    set W5=N3('u005',VN,8888)
    if W5!=null then
        if FN==2 and SM(NI,W5)>QM(NI,RD)then
            set U5=XQ(P5,RD,26)
        else
            set LQ=GetUnitLoc(W5)
            set U5=XQ(P5,LQ,SN)
            call RemoveLocation(LQ)
            set LQ=null
        endif
        if(U5)then
            if QM(P5,RD)<200 then
                call SetUnitPositionLoc(P5,RD)
            endif
            set T5=QZ(W5,S5,P5)
            set W5=null
        endif
    endif
    if T5 then
    endif
    set W5=null
    return T5
endfunction
function Z5 takes player p returns unit
    local unit u=null
    local unit ru=null
    local group g=CreateGroup()
    call GroupEnumUnitsOfPlayer(g,p,null)
    loop
        set u=FirstOfGroup(g)
        exitwhen u==null or ru!=null
        if(IsUnitType(u,UNIT_TYPE_HERO) and GetUnitUserData(u)<'d')then
            set ru=u
        endif
        call GroupRemoveUnit(g,u)
    endloop
    call DestroyGroup(g)
    set g=null
    set u=null
    return ru
endfunction
function V6 takes unit u returns integer
    if not YQ(u)then
        return 2
    endif
    if YQ(u)then
        if GetHeroInt(u,false)>GetHeroAgi(u,false)then
            return 0
        else
            return 1
        endif
    endif
    return 0
endfunction
function E6 takes nothing returns unit
    local unit ru=Z5(V)
    if(ru!=null)then
        set NI=ru
        set DN=GetUnitTypeId(NI)
        if G0()then
            set PI=ru
        endif
        set FG=V6(NI)
        call ES(NI,false)
        call UnitRemoveAbility(NI,'A088')
        call H1()
        call SetUnitAcquireRange(NI,60)
        call U0()
        //if not XH then
            //call S1()
        //endif
        call S0()
        call T0()
    endif
    return ru
endfunction
function X6 takes unit u returns boolean
    if u==null or GL(u)then
        return false
    endif
    if FD>-1 then
        return false
    endif
    set FD=GetPlayerId(GetOwningPlayer(u))
    set NI=u
    set V=GetOwningPlayer(u)
    set DN=GetUnitTypeId(NI)
    set FG=V6(NI)
    call ES(NI,false)
    call UnitRemoveAbility(NI,'A088')
    call H1()
    call SetUnitAcquireRange(NI,60)
    call U0()
    call S0()
    call X0(NI)
    return true
endfunction
function O6 takes integer OK returns nothing
    local integer i=0
    if NI==null or GL(NI)then
        return
    endif
    if FD!=OK then
        return
    endif
    if R0()then
        call UnitAddAbility(NI,'A088')
    endif
    call ES(NI,true)
    call SetUnitAcquireRange(NI,600)
    call O0(NI)
    call SetItemCharges(TP(NI,PX),0)
    call SetItemCharges(TP(NI,'ssan'),0)
    loop
        exitwhen i>24 or UN[i]==null
        call SetPlayerAbilityAvailable(V,UN[i],true)
        set i=i+1
    endloop
    set FD=-1
endfunction
function R6 takes player p returns unit
    local unit u=null
    local unit ru=null
    local group g=CreateGroup()
    call GroupEnumUnitsOfPlayer(g,p,null)
    loop
        set u=FirstOfGroup(g)
        exitwhen u==null or ru!=null
        if(GW(u)and PW(u)and UnitHasBuffsEx(u,false,false,false,false,true,false,false))then
            set ru=u
        endif
        call GroupRemoveUnit(g,u)
    endloop
    call DestroyGroup(g)
    set g=null
    set u=null
    return ru
endfunction
function I6 takes nothing returns nothing
    local integer OK
    local player A6=null
    local integer N6=0
    local integer B6=0
    local unit P4=null
    if FA+GA>=HA and HA>0 then
        return
    endif
    set OK=1
    set HA=0
    loop
        set A6=Player(OK)
        if((GetPlayerSlotState(A6)==PLAYER_SLOT_STATE_PLAYING)and(OK!=6))then
            set HA=HA+1
            set P4=Z5(A6)
            if P4!=null then
                if IsPlayerAlly(V,A6)then
                    set TI[N6]=P4
                    set N6=N6+1
                else
                    set UI[B6]=P4
                    set B6=B6+1
                endif
            endif
        endif
        set OK=OK+1
        exitwhen OK==12
    endloop
    set FA=N6
    set GA=B6
    set A6=null
    set P4=null
endfunction
function C6 takes nothing returns nothing
    local integer OK=0
    set JA=0
    set KA=0
    set MA=999999
    set LA=null
    set PA=null
    set QA=999999
    set DA=999999
    set CA=null
    set WI=0
    set YI=0
    set ZI=0
    set VA=0
    set EA=0
    set XA=0
    set OA=0
    set RA=0
    set IA=0
    set AA=0
    set NA=0
    set BA=0
    loop
        exitwhen OK==6
        if TI[OK]!=null and UnitAlive(TI[OK])and TI[OK]!=NI then
            if((SM(NI,TI[OK])<1200)or(FI!=null and SM(FI,TI[OK])<1300)or(GI!=null and SM(GI,TI[OK])<1300))and LU(TI[OK])>EH then
                set JA=JA+1
            endif
            if KM(TI[OK])then
                set VA=VA+1
            endif
            if MM(TI[OK])then
                set EA=EA+1
            endif
            if LM(TI[OK])then
                set XA=XA+1
            endif
            if QM(TI[OK],AN[0])<2000 then
                set OA=OA+1
            endif
            if QM(TI[OK],AN[1])<2000 then
                set RA=RA+1
            endif
            if QM(TI[OK],AN[2])<2000 then
                set IA=IA+1
            endif
            if FI!=null and SM(FI,TI[OK])<MA then
                set MA=SM(FI,TI[OK])
                set LA=TI[OK]
            endif
            if SM(NI,TI[OK])<QA then
                set QA=SM(NI,TI[OK])
                set PA=TI[OK]
            endif
        endif
        if UI[OK]!=null and UnitAlive(UI[OK])then
            if SM(NI,UI[OK])<1300 then
                set KA=KA+1
            endif
            if KM(UI[OK])then
                set WI=WI+1
            endif
            if MM(UI[OK])then
                set YI=YI+1
            endif
            if LM(UI[OK])then
                set ZI=ZI+1
            endif
            if QM(UI[OK],AN[0])<2000 then
                set AA=AA+1
            endif
            if QM(UI[OK],AN[1])<2000 then
                set NA=NA+1
            endif
            if QM(UI[OK],AN[2])<2000 then
                set BA=BA+1
            endif
            if LU(UI[OK])<DA then
                set DA=LU(UI[OK])
                set CA=UI[OK]
            endif
        endif
        set OK=OK+1
    endloop
endfunction
function D6 takes unit HL returns unit
    local integer OK=0
    local real F6=999999
    local unit ru=null
    local unit G6=null
    loop
        exitwhen OK==6
        if IsUnitEnemy(HL,V)then
            set G6=TI[OK]
            if G6!=null and UnitAlive(G6)then
                if SM(HL,G6)<F6 then
                    set ru=G6
                    set F6=SM(HL,G6)
                endif
            endif
        endif
        if not IsUnitEnemy(HL,V)then
            set G6=UI[OK]
            if G6!=null and UnitAlive(G6)then
                if SM(HL,G6)<F6 then
                    set ru=G6
                    set F6=SM(HL,G6)
                endif
            endif
        endif
        set OK=OK+1
    endloop
    set G6=null
    return ru
endfunction
function H6 takes unit HL returns unit
    local integer OK=0
    local real F6=999999
    local unit ru=null
    local unit G6=null
    loop
        exitwhen OK==6
        if not IsUnitEnemy(HL,V)then
            set G6=TI[OK]
            if G6!=null and UnitAlive(G6)and G6!=HL then
                if SM(HL,G6)<F6 then
                    set ru=G6
                    set F6=SM(HL,G6)
                endif
            endif
        endif
        if IsUnitEnemy(HL,V)then
            set G6=UI[OK]
            if G6!=null and UnitAlive(G6)and G6!=HL then
                if SM(HL,G6)<F6 then
                    set ru=G6
                    set F6=SM(HL,G6)
                endif
            endif
        endif
        set OK=OK+1
    endloop
    set G6=null
    return ru
endfunction
function J6 takes location BU,real JM returns integer
    local integer OK=0
    local integer SS=0
    local unit G6=null
    loop
        exitwhen OK==6
        set G6=UI[OK]
        if G6!=null and UnitAlive(G6)then
            if QM(G6,BU)<JM then
                set SS=SS+1
            endif
        endif
        set OK=OK+1
    endloop
    return SS
endfunction
function K6 takes unit CY,real JM returns integer
    local integer OK=0
    local integer SS=0
    local unit G6=null
    loop
        exitwhen OK==6
        set G6=UI[OK]
        if G6!=null and UnitAlive(G6)then
            if SM(G6,CY)<JM then
                set SS=SS+1
            endif
        endif
        set OK=OK+1
    endloop
    return SS
endfunction
function L6 takes unit CY,real JM returns integer
    local integer OK=0
    local integer SS=0
    local unit G6=null
    loop
        exitwhen OK==6
        set G6=TI[OK]
        if G6!=null and UnitAlive(G6)then
            if SM(G6,CY)<JM then
                set SS=SS+1
            endif
        endif
        set OK=OK+1
    endloop
    set G6=null
    return SS
endfunction
function M6 takes nothing returns nothing
    local integer OK=0
    local real P6=999999
    loop
        exitwhen OK==6
        if TI[OK]!=null and UnitAlive(TI[OK])and TI[OK]!=NI then
        endif
        if UI[OK]!=null and UnitAlive(UI[OK])and not IsUnitInvisible(UI[OK],V)then
            if SM(NI,UI[OK])<1000 and(not IsUnitHidden(UI[OK]))then
                if LU(UI[OK])<P6 then
                    set P6=LU(UI[OK])
                    set FI=UI[OK]
                endif
            endif
        endif
        set OK=OK+1
    endloop
endfunction
function Q6 takes nothing returns boolean
    if not IsUnitEnemy(PG,V)then
        return false
    endif
    return UG==852592and GetUnitTypeId(PG)==HV
endfunction
function S6 takes nothing returns boolean
    if not IsUnitEnemy(PG,V)then
        return false
    endif
    return UG==852127 and GetUnitTypeId(PG)==HV
endfunction
function T6 takes nothing returns boolean
    if not IsUnitEnemy(PG,V)then
        return false
    endif
    return UG==852224 and GetUnitTypeId(PG)==PV
endfunction
function U6 takes nothing returns boolean
    if not IsUnitEnemy(PG,V)then
        return false
    endif
    if UG==852127and SM(NI,PG)<280 then
        return true
    endif
    return false
endfunction
function W6 takes nothing returns boolean
    if PG==null then
        return false
    endif
    if SM(NI,PG)>800 then
        return false
    endif
    if not IsUnitEnemy(PG,V)then
        return false
    endif
    if UG==852555and QG==NI then
        return true
    endif
    if UG==852127and SM(NI,PG)<280 then
        return true
    endif
    if UG==852095and QG==NI then
        return true
    endif
    if UG==852592and GetUnitTypeId(PG)==HV then
        return true
    endif
    return false
endfunction
function Y6 takes nothing returns boolean
    if PG==null then
        return false
    endif
    if SM(NI,PG)>1100 then
        return false
    endif
    if not IsUnitEnemy(PG,V)then
        return false
    endif
    if S6()or T6()then
        return true
    endif
    if UG==852504and GetUnitTypeId(PG)==UV then
        return true
    endif
    if UG==852555and GetUnitTypeId(PG)==QV then
        return true
    endif
    return false
endfunction
function Z6 takes nothing returns boolean
    return(S6()or T6())or(UG==852504and GetUnitTypeId(PG)==UV)or(UG==852555and GetUnitTypeId(PG)==QV)or(BY(GI)and M>300 and GW(GI))or(GW(GI)and GetUnitTypeId(GI)==KV and SM(GI,NI)<300)
endfunction
function V7 takes integer Q5,integer E7 returns boolean
    local unit W5=N3(Q5,VN,9999999)
    local boolean X7=false
    if W5==null then
        return false
    endif
    set X7=IssueNeutralImmediateOrderById(V,W5,E7)
    if(X7)then
        call E6()
    endif
    set W5=null
    return X7
endfunction
function O7 takes integer Q5,integer WP,integer R7 returns nothing
    local integer WT=0
    local integer I7=0
    local integer i=0
    loop
        exitwhen WT==R7 or i==20
        set I7=M5(NI,Q5,WP)
        if I7==2 then
            set WT=WT+1
            call Sleep(.5)
        endif
        call Sleep(.3)
        if I7==1 then
            set i=i+1
        endif
    endloop
endfunction
function A7 takes integer WP,integer R7 returns nothing
    local integer WT=0
    local boolean b=false
    loop
        exitwhen WT==R7
        set b=Y5(NI,WP)
        if b then
            set WT=WT+1
            call Sleep(1)
        endif
        call Sleep(.3)
    endloop
endfunction
function N7 takes integer Q5,integer WP returns boolean
    local unit W5=null
    local location LQ=null
    if VQ(NI,WP)==0 then
        return false
    endif
    set W5=N3(Q5,VN,8888)
    if W5==null then
        return false
    endif
    set LQ=GetUnitLoc(W5)
    call AQ(NI,LQ,200)
    call RemoveLocation(LQ)
    set LQ=null
    if SQ(NI,WP,W5)then
        set W5=null
        return true
    endif
    set W5=null
    return false
endfunction
function B7 takes integer C7,unit PQ returns item
    local item D7=UnitItemInSlot(NI,C7)
    local boolean rb=false
    if D7==null then
        return null
    endif
    set rb=UnitDropItemPoint(NI,D7,GetUnitX(PQ),GetUnitY(PQ))
    call Sleep(.5)
    if rb then
        call SetItemPlayer(D7,V,false)
        call SetItemDropID(D7,GetUnitTypeId(NI))
        return D7
    endif
    return null
endfunction
function F7 takes unit PQ returns nothing
    local integer i=3
    local location LQ=null
    if PQ==null then
        return
    endif
    set LQ=GetUnitLoc(PQ)
    call AQ(NI,LQ,400)
    call RemoveLocation(LQ)
    set LQ=null
    loop
        exitwhen i==6
        set HB[i]=B7(i,NI)
        set i=i+1
    endloop
endfunction
function G7 takes nothing returns nothing
    local integer i=3
    loop
        exitwhen i==6
        call MQ(NI,HB[i])
        set i=i+1
    endloop
endfunction
function H7 takes nothing returns nothing
    if N7('n00R','I01R')then
        return
    endif
    if N7('n00R','pclr')then
        return
    endif
    if N7('n00R','rde1')then
        return
    endif
    if N7('n00R','rst1')then
        return
    endif
    if N7('n00R','I004')then
        return
    endif
    if N7('n00R','hslv')then
        return
    endif
    if N7('n00R','sor2')then
        return
    endif
    if N7('n00R',XX)then
        return
    endif
endfunction
function can_buy_xie takes nothing returns boolean
    return(KR>=500 and VQ(NI,'bspd')<1 and VQ(NI,'desc')<1)
endfunction
function can_BuyItems_fashi takes nothing returns boolean
    local unit W5=null
    local item J7=null
    local boolean rb=false
    if EL(NI)==6 then
        set rb=true
    endif
    set KR=YW(V)
    set LR=ZW(V)
    if KR>=500 and VQ(NI,'bspd')<1 and VQ(NI,'desc')<1 then
        set rb=true
    endif
    if KR>=55 and UP(NI,'hslv')<4 then
        set rb=true
        call OL("can-buy- hp")
    endif
    if KR>=45 and VQ(NI,'I01S')<1 and UP(NI,'sneg')<1 and VQ(NI,'ssan')<1 and UP(NI,'pclr')<3 then
        set rb=true
        call OL("can-buy- mp")
    endif
    if KR>=505 and VQ(NI,'I004')<2 and(VQ(NI,'sneg')>0 or VQ(NI,'ssan')>0)then
        if EL(NI)<1 then
            if VQ(NI,'I01R')>0 or VQ(NI,'pclr')>0 then
                set rb=true
                call OL("can-buy- liliang")
            endif
        endif
        if EL(NI)>0 then
            call OL("can-buy- liliang")
            set rb=true
        endif
    endif
    if KR>=1050 and VQ(NI,'wneg')<1 and VQ(NI,'sneg')<1 and VQ(NI,'ssan')<1 then
        set rb=true
        call OL("can-buy- fujue")
    endif
    if KR>=950 and VQ(NI,'I01S')<1 and VQ(NI,'sneg')<1 and VQ(NI,'ssan')<1 then
        set rb=true
        call OL("can-buy- huodan")
    endif
    if KR>=450 and VQ(NI,'I01S')>0 and VQ(NI,'wneg')>0 then
        call OL("can-buy- fengzhang")
        set rb=true
    endif
    if KR>=2350 and VQ(NI,'bspd')>0 and VQ(NI,'desc')<1 then
        call OL("can-buy- feixie")
        set rb=true
    endif
    if KR>=1100 and VQ(NI,'I00F')<1 and VQ(NI,'sneg')>0 and VQ(NI,'ssan')<1 then
        set rb=true
        call OL("can-buy- zhuanshi")
    endif
    if KR>=950 and VQ(NI,'I01S')<1 and VQ(NI,'I00F')>0 and VQ(NI,'sneg')>0 and VQ(NI,'ssan')<1 then
        set rb=true
        call OL("can-buy- huodan2")
    endif
    if KR>=900 and VQ(NI,'I01S')>0 and VQ(NI,'I00F')>0 and VQ(NI,'sneg')>0 then
        call OL("can-buy- bianyang")
        set rb=true
    endif
    if KR>=1700 and VQ(NI,'I00U')<1 and VQ(NI,'I010')<1 then
        set rb=true
        call OL("can-buy- 1700")
    endif
    if KR>=3200 and VQ(NI,'I001')<1 and VQ(NI,'I010')<1 then
        set rb=true
        call OL("can-buy- 3200")
    endif
    if KR>=1350 and VQ(NI,'I001')>0 and VQ(NI,'I00U')>0 then
        call OL("can-buy- 1350")
        set rb=true
    endif
    set W5=null
    set J7=null
    return rb
endfunction
function K7 takes integer L7,integer Q5,integer WP,integer M7 returns nothing
    set KR=YW(V)
    if KR<L7 or VQ(NI,WP)>0 or(M7>0 and VQ(NI,M7)>0)then
        return
    endif
    if EL(NI)<1 then
        call H7()
    endif
    if EL(NI)>0 then
        call O7(Q5,WP,1)
    endif
endfunction
function P7 takes integer L7,integer Q7 returns boolean
    set KR=YW(V)
    if KR<=L7 then
        return false
    endif
    if not UnitDropItemSlot(NI,TP(NI,Q7),0)then
        call UnitDropItemSlot(NI,TP(NI,Q7),1)
    endif
    call F7(NI)
    return true
endfunction
function S7 takes integer L7,integer WP,integer M7 returns nothing
    set KR=YW(V)
    if KR<L7 or VQ(NI,WP)>0 or VQ(NI,M7)>0 then
        return
    endif
    if EL(NI)<1 then
        call H7()
    endif
    if EL(NI)>0 then
        call A7(WP,1)
    endif
endfunction
function T7 takes integer L7,integer U7,integer W7,integer Y7,integer Q5,integer Z7 returns nothing
    local boolean V8=true
    local item J7=null
    set KR=YW(V)
    if KR<L7 then
        return
    endif
    if U7>0 then
        set V8=V8 and VQ(NI,U7)>0
        if not UnitDropItemSlot(NI,TP(NI,U7),0)then
            call UnitDropItemSlot(NI,TP(NI,U7),4)
        endif
        call Sleep(.1)
    endif
    if W7>0 then
        set V8=V8 and VQ(NI,W7)>0
        if not UnitDropItemSlot(NI,TP(NI,W7),1)then
            call UnitDropItemSlot(NI,TP(NI,W7),4)
        endif
        call Sleep(.1)
    endif
    if Y7>0 then
        set V8=V8 and VQ(NI,Y7)>0
        if not UnitDropItemSlot(NI,TP(NI,Y7),2)then
            call UnitDropItemSlot(NI,TP(NI,Y7),4)
        endif
        call Sleep(.1)
    endif
    if V8 then
        set JB=N3(Q5,VN,8888)
        call BQ(NI,JB,400)
        set J7=B7(5,NI)
        if EL(NI)>0 then
            call O7(Q5,Z7,1)
        endif
        if J7!=null then
            call MQ(NI,J7)
        endif
    endif
endfunction
function E8 takes nothing returns nothing
    set KR=YW(V)
    if KR>=500 and VQ(NI,'bspd')<1 and VQ(NI,'desc')<1 then
        if EL(NI)<1 then
            call N7('n00S','I01R')
        endif
        if EL(NI)>0 then
            call O7('n00S','bspd',1)
        endif
    endif
endfunction
function X8 takes integer R7 returns nothing
    local item J7=null
    set KR=YW(V)
    if KR>=55 and UP(NI,'hslv')<R7 then
        if EL(NI)>0 then
            call O7('n013','hslv',1)
        else
            if EL(NI)<1 and VQ(NI,'hslv')>0 then
                set JB=N3('n013',VN,8888)
                call BQ(NI,JB,400)
                call UnitDropItemSlot(NI,TP(NI,'hslv'),4)
                set J7=B7(5,NI)
                if EL(NI)>0 then
                    call O7('n013','hslv',1)
                endif
            endif
            if EL(NI)<1 and VQ(NI,'hslv')<1 then
                if VQ(NI,'I01R')>0 or VQ(NI,'pclr')>0 or VQ(NI,'rde1')>0 or VQ(NI,'rst1')>0 then
                    if(N7('n013','I01R')or N7('n013','pclr')or N7('n013','rde1')or N7('n013','rst1'))then
                        if EL(NI)>0 then
                            call O7('n013','hslv',1)
                        endif
                    endif
                endif
            endif
            if J7!=null then
                call MQ(NI,J7)
            endif
        endif
    endif
endfunction
function O8 takes integer R7 returns nothing
    local item J7=null
    set KR=YW(V)
    if KR>=45 and VQ(NI,'I01S')<1 and UP(NI,'sneg')<1 and VQ(NI,'ssan')<1 and UP(NI,'pclr')<R7 then
        if EL(NI)<1 and VQ(NI,'pclr')>0 then
            set JB=N3('n013',VN,8888)
            call BQ(NI,JB,400)
            call UnitDropItemSlot(NI,TP(NI,'pclr'),4)
            set J7=B7(5,NI)
        endif
        if EL(NI)<1 and VQ(NI,'pclr')<1 then
            if VQ(NI,'I01R')>0 then
                call N7('n00S','I01R')
            endif
        endif
        if EL(NI)>0 then
            call O7('n013','pclr',1)
        endif
        if J7!=null then
            call MQ(NI,J7)
        endif
    endif
endfunction
function R8 takes integer R7 returns nothing
    set KR=YW(V)
    if KR>=50 and VQ(NI,'I01R')<R7 then
        if EL(NI)>0 then
            call O7('n00R','I01R',1)
        endif
    endif
endfunction
function I8 takes integer R7 returns nothing
    set KR=YW(V)
    if KR>=150 and VQ(NI,'rst1')<R7 then
        if VQ(NI,'I01R')>0 and EL(NI)<1 then
            call N7('n003','I01R')
        endif
        if EL(NI)>0 then
            call O7('n00R','rst1',1)
        endif
    endif
endfunction
function A8 takes integer R7 returns nothing
    set KR=YW(V)
    if KR>=175 and VQ(NI,'rde1')<R7 then
        if VQ(NI,'I01R')>0 and EL(NI)<1 then
            call N7('n003','I01R')
        endif
        if EL(NI)>0 then
            call O7('n003','rde1',1)
        endif
    endif
endfunction
function N8 takes integer R7 returns nothing
    set KR=YW(V)
    if KR>=505 and VQ(NI,'I004')<R7 then
        if EL(NI)<1 then
            if VQ(NI,'I01R')>0 or VQ(NI,'pclr')>0 or VQ(NI,'rde1')>0 or VQ(NI,'rst1')>0 then
                if N7('n013','I01R')or N7('n013','pclr')or N7('n013','rde1')or N7('n013','rst1')then
                endif
            endif
        endif
        if EL(NI)>0 then
            call UnitDropItemSlot(NI,TP(NI,'rde1'),0)
            call UnitDropItemSlot(NI,TP(NI,'rst1'),1)
            set JB=N3('n003',VN,8888)
            call F7(JB)
            if VQ(NI,'rde1')<1 then
                call O7('n003','rde1',1)
            endif
            if VQ(NI,'rst1')<1 then
                call O7('n00R','rst1',1)
            endif
            call O7('n007','sor2',1)
            call G7()
        endif
    endif
endfunction
function B8 takes nothing returns nothing
    set KR=YW(V)
    if KR>=1050 and VQ(NI,'wneg')<1 and VQ(NI,'sneg')<1 and VQ(NI,'ssan')<1 then
        if EL(NI)<1 then
            call H7()
        endif
        if EL(NI)>0 then
            call O7('n00R','wneg',1)
            call UnitDropItemSlot(NI,TP(NI,'wneg'),0)
        endif
    endif
endfunction
function C8 takes nothing returns nothing
    set KR=YW(V)
    if KR>=950 and VQ(NI,'I01S')<1 and VQ(NI,'sneg')<1 and VQ(NI,'ssan')<1 then
        if EL(NI)<1 then
            call H7()
        endif
        if EL(NI)>0 then
            call O7('n00S','I01S',1)
            call UnitDropItemSlot(NI,TP(NI,'I01S'),1)
        endif
    endif
endfunction
function D8 takes nothing returns nothing
    set KR=YW(V)
    if KR>=450 and VQ(NI,'I01S')>0 and VQ(NI,'wneg')>0 then
        set JB=N3('n014',VN,8888)
        if not UnitDropItemSlot(NI,TP(NI,'wneg'),0)then
            call UnitDropItemSlot(NI,TP(NI,'wneg'),2)
        endif
        if not UnitDropItemSlot(NI,TP(NI,'I01S'),1)then
            call UnitDropItemSlot(NI,TP(NI,'I01S'),2)
        endif
        call F7(JB)
        call O7('n014','glsk',1)
        call G7()
    endif
endfunction
function F8 takes nothing returns boolean
    local item J7=null
    set KR=YW(V)
    if KR>=2350 and VQ(NI,'bspd')>0 and VQ(NI,'desc')<1 then
        if EL(NI)<1 then
            set JB=N3('n014',VN,8888)
            call BQ(NI,JB,400)
            call UnitDropItemSlot(NI,TP(NI,'bspd'),4)
            set J7=B7(5,NI)
        endif
        if EL(NI)>0 then
            call O7('n014','ktrm',1)
        endif
        if J7!=null then
            call MQ(NI,J7)
        endif
    endif
    if VQ(NI,'desc')>0 then
        return true
    endif
    return false
endfunction
function G8 takes nothing returns nothing
    set KR=YW(V)
    if KR>=1100 and VQ(NI,'I00F')<1 and VQ(NI,'sneg')>0 and VQ(NI,'ssan')<1 then
        if EL(NI)<1 then
            call H7()
        endif
        if EL(NI)>0 then
            call O7('n013','I00F',1)
            call UnitDropItemSlot(NI,TP(NI,'I00F'),0)
        endif
    endif
endfunction
function H8 takes nothing returns nothing
    set KR=YW(V)
    if KR>=950 and VQ(NI,'I01S')<1 and VQ(NI,'I00F')>0 and VQ(NI,'sneg')>0 and VQ(NI,'ssan')<1 then
        if EL(NI)<1 then
            call H7()
        endif
        if EL(NI)>0 then
            call O7('n00S','I01S',1)
            call UnitDropItemSlot(NI,TP(NI,'I01S'),1)
            call UnitDropItemSlot(NI,TP(NI,'sneg'),2)
        endif
    endif
endfunction
function J8 takes integer L7,integer Q5,integer id,integer K8,integer M7 returns boolean
    local item J7=null
    set KR=YW(V)
    if KR>=L7 and VQ(NI,M7)<1 then
        call H7()
        if EL(NI)<1 and(VQ(NI,id)>0 or VQ(NI,K8)>0)then
            set JB=N3(Q5,VN,8888)
            if JB!=null then
                call BQ(NI,JB,400)
            endif
            if VQ(NI,id)>0 then
                call UnitDropItemSlot(NI,TP(NI,id),4)
            endif
            if VQ(NI,K8)>0 then
                call UnitDropItemSlot(NI,TP(NI,K8),3)
            endif
            set J7=B7(5,NI)
        endif
        if EL(NI)>0 then
            call O7(Q5,id,1)
        endif
        if J7!=null then
            call MQ(NI,J7)
        endif
    endif
    if VQ(NI,M7)>0 then
        return true
    endif
    return false
endfunction
function L8 takes nothing returns nothing
    call T7(900,'I01S','I00F','sneg','n008','cnhn')
endfunction
function M8 takes nothing returns nothing
    call K7(1700,'n013','I00U','I010')
endfunction
function P8 takes nothing returns nothing
    call K7(3200,'n00R','I001','I010')
endfunction
function Q8 takes nothing returns nothing
    call T7(1350,'I001','I00U',-1111,'n008','dphe')
endfunction
function S8 takes unit u returns boolean
    return VQ(NI,IO)>0
    return false
endfunction
function T8 takes nothing returns nothing
    if EL(NI)==0 then
        if UnitDropItemPoint(NI,TP(NI,'I01R'),GetUnitX(NI),GetUnitY(NI))then
            call Sleep(.5)
        endif
        if UnitDropItemPoint(NI,TP(NI,TF[4]),GetUnitX(NI),GetUnitY(NI))then
            call Sleep(.5)
        endif
        if UnitDropItemPoint(NI,TP(NI,UF[4]),GetUnitX(NI),GetUnitY(NI))then
            call Sleep(.5)
        endif
        if UnitDropItemPoint(NI,TP(NI,TF[5]),GetUnitX(NI),GetUnitY(NI))then
            call Sleep(.5)
        endif
        if UnitDropItemPoint(NI,TP(NI,UF[5]),GetUnitX(NI),GetUnitY(NI))then
            call Sleep(.5)
        endif
    endif
    if EL(NI)==0 then
        if UnitDropItemPoint(NI,TP(NI,'I004'),GetUnitX(NI),GetUnitY(NI))then
            call Sleep(.5)
        endif
    endif
    call K7(620,GE,IO,0)
endfunction
function U8 takes nothing returns nothing
    call K7(1000,'n00R','I000','I02C')
endfunction
function W8 takes nothing returns nothing
    call K7(1150,'n003','I00X','I02C')
endfunction
function Y8 takes nothing returns nothing
    call T7(1450,'I00X','I000',-1111,'n014','kygh')
endfunction
function Z8 takes nothing returns nothing
    call K7(1550,'n003','I024','I01N')
endfunction
function VVV takes nothing returns nothing
    call K7(870,'n00S','I00G','I01N')
endfunction
function VEV takes nothing returns nothing
    call T7(750,'I024','I00G',0,'n008','kybl')
endfunction
function VXV takes nothing returns nothing
    call K7(1200,'n003','I01B','I01C')
endfunction
function VOV takes nothing returns nothing
    call K7(2600,'u005','I012','I01C')
endfunction
function VRV takes nothing returns nothing
    call T7(1650,'I01B','I012',-1111,'n008','dkfw')
endfunction
function VIV takes nothing returns nothing
    call K7(1600,'n003','I011','I014')
endfunction
function VAV takes nothing returns nothing
    call K7(2600,'u005','I012','I014')
endfunction
function VNV takes nothing returns nothing
    call T7(850,'I011','I012',-1111,'n008','sorf')
endfunction
function VBV takes nothing returns boolean
    return J8(1400,'n00U','tmmt','oflg','rnsp')
endfunction
function VCV takes nothing returns boolean
    return J8(1500,'n00U','gobm','tels','stwa')
endfunction
function VDV takes nothing returns nothing
    call K7(1000,'n00R',EX,RX)
endfunction
function VFV takes nothing returns nothing
    call K7(450,'n00S',XX,RX)
endfunction
function VGV takes nothing returns nothing
    call T7(1500,EX,XX,-1111,'n014',OX)
endfunction
function VHV takes nothing returns nothing
    call T7(1500,RX,-1111,-1111,'n014',OX)
endfunction
function VJV takes nothing returns nothing
    call K7(1400,'n013',UX,YX)
endfunction
function VKV takes nothing returns nothing
    call K7(1700,'n013',WX,YX)
endfunction
function VLV takes nothing returns nothing
    call T7(1400,YX,'sneg',0,'n013',UX)
endfunction
function VMV takes nothing returns boolean
    return(VQ(NI,ZX)>0)
endfunction
function VPV takes nothing returns boolean
    if VQ(NI,ZX)>0 then
        return true
    endif
    call VJV()
    call VKV()
    call VLV()
    return false
endfunction
function VQV takes nothing returns nothing
    call K7(3000,'u005',VO,RO)
endfunction
function VSV takes nothing returns nothing
    call K7(2300,'n003',EO,RO)
endfunction
function VTV takes nothing returns boolean
    if VQ(NI,RO)>0 then
        return true
    endif
    call VQV()
    if VQ(NI,XO)>0 then
        call VSV()
    else
        call F8()
    endif
    return false
endfunction
function VUV takes nothing returns boolean
    return(UP(NI,RX)<1)
endfunction
function VWV takes nothing returns boolean
    call VDV()
    call VFV()
    call VGV()
    if VUV()then
        call VHV()
    endif
    if VQ(NI,RX)>0 then
        return true
    endif
    return false
endfunction
function VYV takes nothing returns nothing
    call K7(1650,'n003',DX,HX)
endfunction
function VZV takes nothing returns nothing
    call K7(150,'n00R',FX,HX)
endfunction
function V_V takes nothing returns nothing
    call T7(1350,DX,FX,-1111,'n014',GX)
endfunction
function zs_eguizhui takes nothing returns boolean
    call VYV()
    call VZV()
    call V_V()
    if VQ(NI,HX)>0 then
        return true
    endif
    return false
endfunction
function V0V takes nothing returns nothing
    call K7(3600,'n00R',QX,TX)
endfunction
function V1V takes nothing returns nothing
    call T7(1500,'I01B',QX,0,'n00S',SX)
endfunction
function V2V takes nothing returns boolean
    if VQ(NI,TX)>0 then
        return true
    endif
    call VXV()
    call V0V()
    call V1V()
    if P7(5100,'I01B')then
        call V0V()
        call V1V()
        call G7()
    endif
    if VQ(NI,TX)>0 then
        return true
    endif
    if P7(2700,QX)then
        call VXV()
        call V1V()
        call G7()
    endif
    if VQ(NI,TX)>0 then
        return true
    endif
    return false
endfunction
function V3V takes nothing returns nothing
    call K7(2400,'n013',KX,JX)
endfunction
function V4V takes nothing returns nothing
    call K7(2600,'u005',LX,JX)
endfunction
function V5V takes nothing returns nothing
    call T7(1650,KX,LX,0,'n008',MX)
endfunction
function V6V takes nothing returns boolean
    if VQ(NI,JX)>0 then
        return true
    endif
    call V3V()
    call V4V()
    call V5V()
    if P7(4250,KX)then
        call VOV()
        call V5V()
        call G7()
    endif
    return false
endfunction
function V7V takes nothing returns nothing
    call S7(2100,IX,-1111)
endfunction
function V8V takes nothing returns nothing
    call S7(3000,AX,-1111)
endfunction
function V9V takes nothing returns nothing
    call S7(1100,NX,-1111)
endfunction
function zs_shennongbencao takes nothing returns nothing
    call S7(2100,BX,-1111)
endfunction
function EVV takes nothing returns boolean
    call U8()
    call W8()
    call Y8()
    if VQ(NI,'I02C')>0 then
        return true
    endif
    return false
endfunction
function EEV takes nothing returns boolean
    call Z8()
    call VVV()
    call VEV()
    if VQ(NI,'I01N')>0 then
        return true
    endif
    return false
endfunction
function EXV takes nothing returns boolean
    if VQ(NI,'I01C')>0 then
        return true
    endif
    call VXV()
    call VOV()
    call VRV()
    if P7(4250,'I01B')then
        call VOV()
        call VRV()
        call G7()
    endif
    if VQ(NI,'I01C')>0 then
        return true
    endif
    return false
endfunction
function EOV takes nothing returns boolean
    call VIV()
    call VAV()
    call VNV()
    if VQ(NI,'I014')>0 then
        return true
    endif
    return false
endfunction
function ERV takes nothing returns boolean
    call M8()
    call P8()
    call Q8()
    if VQ(NI,'I010')>0 then
        return true
    endif
    return false
endfunction
function EIV takes nothing returns boolean
    call B8()
    call C8()
    call D8()
    if VQ(NI,'sneg')>0 then
        return true
    endif
    return false
endfunction
function EAV takes nothing returns boolean
    call G8()
    call H8()
    call L8()
    if VQ(NI,'ssan')>0 then
        return true
    endif
    return false
endfunction
function ENV takes nothing returns nothing
    if EL(NI)==6 then
        if F0()or J0()then
            call Sleep(21)
        endif
        call X8(4)
        call O8(2)
        call R8(4)
        call R8(4)
        call R8(4)
        call R8(4)
    endif
    call E8()
    call X8(4)
    call O8(2)
    if VQ(NI,'sneg')>0 or VQ(NI,'ssan')>0 then
        call N8(2)
    endif
    if not EIV()then
        return
    endif
    call V7V()
    if not F8()then
        return
    endif
    if not EAV()then
        return
    endif
    if not ERV()then
        return
    endif
    if J0()or R0()then
        call V9V()
    else
        call V8V()
    endif
    set BR=false
endfunction
function EBV takes nothing returns nothing
    if EL(NI)==6 then
        call Sleep(21)
        call X8(4)
        call R8(4)
        call R8(4)
        call R8(4)
        call R8(4)
        call I8(2)
    endif
    call E8()
    call X8(4)
    if VQ(NI,'sneg')>0 or VQ(NI,'ssan')>0 then
        call N8(2)
    endif
    call V7V()
    if not VMV()and not EIV()then
        return
    endif
    if not VPV()then
        return
    endif
    if not F8()then
        return
    endif
    if not EIV()then
        return
    endif
    if not EAV()then
        return
    endif
    if not ERV()then
        return
    endif
    call V9V()
    set BR=false
endfunction
function ECV takes nothing returns nothing
    if EL(NI)==6 then
        call X8(4)
        call O8(2)
        call R8(4)
        call R8(4)
        call R8(4)
        call R8(4)
    endif
    if VQ(NI,'sneg')>0 or VQ(NI,'ssan')>0 then
        call N8(2)
    endif
    call X8(4)
    call O8(2)
    if not EIV()then
        return
    endif
    call E8()
    if not F8()then
        return
    endif
    if not EAV()then
        return
    endif
    if not ERV()then
        return
    endif
    if not EVV()then
        return
    endif
    if not VWV()then
        return
    endif
    call V9V()
    set BR=false
endfunction
function EDV takes nothing returns nothing
    set NI=PI
    if EL(NI)==6 then
        //call Sleep(18)
        call X8(4)
        call O8(2)
        call R8(4)
        call R8(4)
        call R8(4)
        call R8(4)
    endif
    call E8()
    call X8(4)
    call O8(2)
    if VQ(NI,'sneg')>0 or VQ(NI,'ssan')>0 then
        call N8(2)
    endif
    call V7V()
    call V8V()
    if not EEV()then
        return
    endif
    if not F8()then
        return
    endif
    if not ERV()then
        return
    endif
    call V9V()
    set BR=false
endfunction
function EFV takes nothing returns nothing
    call E8()
    call X8(4)
    if not EVV()then
        return
    endif
    if not EEV()then
        return
    endif
    if not VWV()then
        return
    endif
    if not EOV()then
        return
    endif
    if not F8()then
        return
    endif
    set BR=false
endfunction
function EGV takes nothing returns nothing
    if EL(NI)==6 then
        //call Sleep(13)
        call I8(2)
        call I8(2)
        call R8(4)
        call R8(4)
        call X8(4)
        call O8(2)
        call X8(4)
        call O8(2)
        call A8(2)
    endif
    call E8()
    call X8(3)
    call O8(2)
    call N8(3)
    if not F8()then
        return
    endif
    if not EEV()then
        return
    endif
    if not ERV()then
        return
    endif
    if not EXV()then
        return
    endif
    if not V6V()then
        return
    endif
    if not VBV()then
        return
    endif
    set BR=false
endfunction
function EHV takes nothing returns nothing
    if EL(NI)==6 then
        //call Sleep(16)
        call R8(4)
        call R8(4)
        call X8(4)
        call O8(2)
        call I8(2)
        call I8(2)
        call X8(4)
        call X8(4)
        call A8(2)
    endif
    call E8()
    call X8(4)
    call O8(2)
    call N8(3)
    if not F8()then
        return
    endif
    if not VBV()then
        return
    endif
    if not EEV()then
        return
    endif
    if not ERV()then
        return
    endif
    if not EXV()then
        return
    endif
    set BR=false
endfunction
function EJV takes nothing returns nothing
    if EL(NI)==6 then
        call R8(4)
        call R8(4)
        call R8(4)
        call I8(2)
        call X8(4)
        call X8(4)
        call X8(4)
        call R8(4)
    endif
    call E8()
    call X8(4)
    call N8(2)
    if not VBV()then
        return
    endif
    if not V6V()then
        return
    endif
    if not F8()then
        return
    endif
    if not EXV()then
        return
    endif
    if not EEV()then
        return
    endif
    if not V2V()then
        return
    endif
    set BR=false
endfunction
function EKV takes nothing returns nothing
    if EL(NI)==6 then
        call R8(4)
        call R8(4)
        call R8(4)
        call I8(2)
        call X8(4)
        call X8(4)
        call X8(4)
        call R8(4)
    endif
    call E8()
    call X8(4)
    call N8(2)
    if not EXV()then
        return
    endif
    if not V6V()then
        return
    endif
    if not F8()then
        return
    endif
    if not EEV()then
        return
    endif
    if not ERV()then
        return
    endif
    if not V2V()then
        return
    endif
    set BR=false
endfunction
function ELV takes nothing returns nothing
    if EL(NI)==6 then
        // call Sleep(16)
        call R8(4)
        call I8(2)
        call I8(2)
        call X8(4)
        call O8(2)
        call X8(4)
        call O8(4)
        call A8(2)
    endif
    call E8()
    call X8(4)
    call O8(2)
    call N8(3)
    if not VWV()then
        return
    endif
    if not VTV()then
        return
    endif
    if not F8()then
        return
    endif
    if not EEV()then
        return
    endif
    if not ERV()then
        return
    endif
    if not V6V()then
        return
    endif
    set BR=false
endfunction
function EMV takes nothing returns nothing
    if EL(NI)==6 then
        //call Sleep(17)
        call R8(4)
        call I8(2)
        call I8(2)
        call X8(4)
        call O8(4)
        call X8(4)
        call X8(4)
        call A8(2)
    endif
    call E8()
    call X8(4)
    call O8(2)
    call N8(3)
    if not F8()then
        return
    endif
    if not EVV()then
        return
    endif
    if not VBV()then
        return
    endif
    if not EEV()then
        return
    endif
    if not ERV()then
        return
    endif
    if not EXV()then
        return
    endif
    set BR=false
endfunction
function EPV takes nothing returns nothing
    if EL(NI)==6 then
        //call Sleep(18)
        call R8(4)
        call I8(2)
        call I8(2)
        call X8(4)
        call O8(4)
        call X8(4)
        call O8(2)
        call A8(2)
    endif
    call E8()
    call X8(4)
    call O8(2)
    call N8(3)
    if not VCV()then
        return
    endif
    if not EEV()then
        return
    endif
    if not ERV()then
        return
    endif
    if not F8()then
        return
    endif
    if not EXV()then
        return
    endif
    set BR=false
endfunction
function EQV takes nothing returns nothing
    if EL(NI)==6 then
        //call Sleep(17)
        call R8(2)
        call I8(2)
        call I8(2)
        call X8(4)
        call X8(4)
        call X8(4)
        call A8(2)
    endif
    call E8()
    call X8(4)
    call N8(3)
    if not F8()then
        return
    endif
    if not EVV()then
        return
    endif
    if not ERV()then
        return
    endif
    call Z8()
    if not V6V()then
        return
    endif
    call V2V()
    set BR=false
endfunction
function ESV takes integer OK returns nothing
    local integer i=0
    if OK==81 then
        if EL(NI)<1 then
            call B7(PP(NI,'I01R'),NI)
        endif
        if EL(NI)>0 then
            call V7V()
        endif
    endif
    if OK==82 then
        if I[82]==68 then
            call QZ(OF[0],'I00O',NI)
        endif
        if I[82]==69 then
            call QZ(OF[2],'I00O',NI)
        endif
    endif
    if OK!=80 then
        return
    endif
    if Z>1 then
        call O0(NI)
        call EU(NI)
    endif
    loop
        exitwhen i==5
        if not GG then
            if FG==0 then
                call ENV()
            endif
            if FG==1 then
                call EGV()
            endif
            if FG==2 then
                call EFV()
            endif
        endif
        if F0()then
            if IG then
                call ECV()
            else
                call EBV()
            endif
        endif
        if R0()or I0()or J0()then
            if IG then
                call ECV()
            else
                call ENV()
            endif
        endif
        if A0()then
            call EFV()
        endif
        if N0()then
            call EGV()
        endif
        if C0()then
            call EHV()
        endif
        if B0()then
            call ELV()
        endif
        if D0()then
            call EPV()
        endif
        if H0()then
            call EMV()
        endif
        if G0()then
            call EDV()
        endif
        if K0()then
            call EQV()
        endif
        if M0()then
            call EJV()
        endif
        if P0()or L0()or Q0()then
            call EKV()
        endif
        set i=i+1
    endloop
    set KB=false
    set JB=null
    call X0(NI)
endfunction
function ETV takes nothing returns nothing
    if QM(NI,VN)<1200 and KB then
        set I[80]=89
    endif
    if R0()or I0()or F0()then
        if YW(V)>=2100 and VQ(NI,IX)<1 and(EL(NI)>0)and not IG then
            set I[81]=88
        endif
    endif
    if QM(NI,VN)>2000 then
        set KB=true
    endif
    if T1(62,20)then
        if MU(NI)>300 and JL(OF[0])and SM(NI,OF[0])<1200 then
            set I[82]=68
        endif
        if MU(NI)>300 and JL(OF[2])and SM(NI,OF[2])<1200 then
            set I[82]=69
        endif
    endif
endfunction
function EUV takes nothing returns nothing
    local unit K2=OF[2]
    if SM(NI,OF[0])<=SM(NI,OF[2])then
        set K2=OF[0]
    endif
    call IssueNeutralImmediateOrderById(V,K2,IE)
    call Sleep(.3)
    call DestroyGroup(ZD)
    set ZD=null
    set ZD=V2(V)
    set YD=W1(ZD)
    set YD=YD+W1(VF)
    set K2=null
endfunction
function EWV takes nothing returns nothing
    local integer EYV=0
    local integer EZV=0
    local location AM=null
    set KR=YW(V)
    set LR=ZW(V)
    if VG==null then
        if FN==1 then
            set VG=N3('h00S',VN,6666)
        endif
        if FN==2 then
            set VG=N3('h00Z',VN,6666)
        endif
    endif
    if KR>=300 and LR>=30 then
        set AM=CF[0]
        if VM(AM,AN[0])<1500 then
            set EYV=M3(AM,1800,false)
            set EZV=Q3(AM,1800,false)
            if EYV+1>=EZV then
                call IssueNeutralImmediateOrderById(V,VG,'nbds')
                call IssueNeutralImmediateOrderById(V,VG,'nfor')
            endif
        endif
    endif
    set KR=YW(V)
    set LR=ZW(V)
    if KR>=300 and LR>=30 then
        set AM=CF[1]
        if VM(AM,AN[1])<1200 then
            set EYV=M3(AM,1800,false)
            set EZV=Q3(AM,1800,false)
            if EYV+1>=EZV then
                call IssueNeutralImmediateOrderById(V,VG,'nfot')
                call IssueNeutralImmediateOrderById(V,VG,'nbdo')
            endif
        endif
    endif
    set KR=YW(V)
    set LR=ZW(V)
    if KR>=300 and LR>=30 then
        set AM=CF[2]
        if VM(AM,AN[2])<1200 then
            set EYV=M3(AM,1800,false)
            set EZV=Q3(AM,1800,false)
            if EYV+1>=EZV then
                call IssueNeutralImmediateOrderById(V,VG,'nenc')
                call IssueNeutralImmediateOrderById(V,VG,'nfod')
            endif
        endif
    endif
    set AM=null
    if(not BR)and KR>=960 and LR>=80 then
        set I[85]=91
    endif
    if KR>=220 and LR>=12 then
        if NG>0 and AG then
            set YD=W1(ZD)
            set YD=YD+W1(VF)
            if YD<NG then
                call EUV()
            endif
        endif
    endif
endfunction
function E_V takes integer OK returns nothing
    local unit W5=null
    if OK==85 then
        set KR=YW(V)
        set LR=ZW(V)
        if FN==1 then
            set W5=N3('h00S',VN,6666)
            if W5!=null then
                call IssueNeutralImmediateOrderById(V,W5,'h019')
                call IssueNeutralImmediateOrderById(V,W5,'nfot')
                call IssueNeutralImmediateOrderById(V,W5,'nbdo')
            endif
        endif
        if FN==2 then
            set W5=N3('h00Z',VN,6666)
            if W5!=null then
                call IssueNeutralImmediateOrderById(V,W5,'h01C')
                call IssueNeutralImmediateOrderById(V,W5,'nfot')
                call IssueNeutralImmediateOrderById(V,W5,'nbdo')
            endif
        endif
    endif
    set W5=null
endfunction
function E0V takes unit E1V returns nothing
    if XQ(E1V,VI,300)then
        if S3(VI,600,false)>0 then
            call AQ(E1V,EI,200)
            call CM(E1V)
            call Sleep(2)
            set UA=false
            call XQ(E1V,XI,300)
            call Sleep(6)
        endif
    else
        call Sleep(.2)
    endif
endfunction
function E2V takes unit E1V returns nothing
    local integer SS=0
    call AQ(E1V,UR,50)
    set SS=Q3(ZR,700,false)
    if SS>0 then
        call AQ(E1V,WR,50)
        call AQ(E1V,YR,50)
        set TA=false
    endif
endfunction
function E3V takes location LQ returns boolean
    local integer E4V=0
    local unit P4=null
    local location E5V=null
    set E4V=VV
    if E4V>0 or FI!=null then
        set SA=false
        return false
    endif
    if F!=null and QM(F,AV)<1000 then
        set SA=false
        return false
    endif
    if FN==1 then
        if QM(NI,VN)-VM(WA[2],VN)>400 then
            set TN=187
        else
            set TN=261
        endif
    endif
    set P4=T3(NI,900,false)
    if P4==null then
        call XQ(NI,LQ,20)
        call Sleep(.8)
    endif
    if P4!=null then
        call RemoveLocation(E5V)
        set E5V=null
        set E5V=BP(P4,TN)
        call XQ(NI,E5V,20)
        call Sleep(.3)
    endif
    set P4=null
    return true
endfunction
function E6V takes nothing returns nothing
    local integer pt=0
    set pt=GetHeroSkillPoints(NI)
    if pt<1 then
        return
    endif
    call WY(NI,UN[GetHeroLevel(NI)-pt])
    if GetUnitTypeId(NI)=='H008' then
    endif
endfunction
function E7V takes unit E8V returns boolean
    return(VQ(E8V,'I01V')>0 or VQ(E8V,'hslv')>0)
endfunction
function E9V takes unit E8V returns boolean
    return(VQ(E8V,'I01G')>0 or VQ(E8V,'pclr')>0)
endfunction
function XVV takes unit E8V returns boolean
    return VQ(E8V,'sneg')>0 or VQ(E8V,'I00N')>0
endfunction
function XEV takes unit E8V returns boolean
    return VQ(E8V,AX)>0 or VQ(E8V,'I005')>0
endfunction
function XXV takes unit PM returns boolean
    local boolean P3=false
    set P3=LT(PM,PX)
    return P3
endfunction
function XOV takes nothing returns boolean
    local boolean P3=false
    set P3=RU(NI,'I02C',.16)
    return P3
endfunction
function XRV takes unit u returns boolean
    local boolean P3=false
    set P3=RU(u,'I02C',.1)
    return P3
endfunction
function XIV takes unit PM returns boolean
    local boolean P3=false
    return LT(PM,ZX)
endfunction
function XAV takes unit PM returns boolean
    return XU(PM,ZX,.3)
endfunction
function XNV takes unit PM returns boolean
    local boolean P3=false
    return LT(PM,IX)
    if TP(PM,IX)!=null then
        if T1(81,20)then
            return true
        endif
    endif
    return false
    set P3=GU(PM,IX)
    if P3 then
    endif
    return P3
endfunction
function XBV takes nothing returns boolean
    local boolean P3=false
    set P3=XU(NI,IX,.1)
    if P3 then
        set CR=false
    endif
    return P3
endfunction
function XCV takes unit PM returns boolean
    local boolean P3=false
    return LT(PM,NX)
    if VQ(PM,NX)>0 or VQ(PM,'I00A')>0 then
        if T1(80,20)then
            return true
        endif
    endif
    return false
    set P3=GU(PM,NX)
    if P3 then
    endif
    return P3
endfunction
function XDV takes nothing returns boolean
    local boolean P3=false
    set P3=XU(NI,NX,.2)
    return P3
endfunction
function XFV takes unit PM returns boolean
    local boolean P3=false
    if not MD then
        return false
    endif
    return UP(NI,'sneg')>0 or UP(NI,'I00N')>0
    set P3=JU(PM,'sneg')
    if P3 then
    endif
    return P3
endfunction
function XGV takes unit PQ returns boolean
    local boolean P3=false
    if SM(NI,PQ)>600 then
        return false
    endif
    call SetUnitLookAt(NI,"head",PQ,0,0,0)
    set P3=CU(NI,'sneg',PQ,.06)
    call Sleep(.45)
    return P3
endfunction
function XHV takes unit PQ returns boolean
    local boolean P3=false
    call SetUnitLookAt(NI,"head",PQ,0,0,0)
    set P3=CU(NI,'sneg',PQ,.06)
    call Sleep(.45)
    return P3
endfunction
function XJV takes unit PM returns boolean
    local boolean P3=false
    if not MD then
        return false
    endif
    if not XEV(NI)then
        return false
    endif
    set P3=LT(PM,AX)
    return P3
endfunction
function XKV takes unit PQ returns boolean
    local boolean P3=false
    set P3=CU(NI,AX,PQ,.46)
    return P3
endfunction
function XLV takes unit PM returns boolean
    local boolean P3=false
    set P3=JU(PM,BX)
    if P3 then
    endif
    return P3
endfunction
function XMV takes unit PQ returns boolean
    local boolean P3=false
    set P3=CU(NI,BX,PQ,.4)
    return P3
endfunction
function XPV takes unit PM returns boolean
    local boolean P3=false
    if not MD then
        return false
    endif
    return UP(NI,RX)>0 or UP(NI,'I00R')>0
    set P3=JU(PM,RX)
    if P3 then
    endif
    return P3
endfunction
function XQV takes unit PQ returns boolean
    local boolean P3=false
    set P3=CU(NI,RX,PQ,.1)
    return P3
endfunction
function XSV takes unit E8V returns boolean
    return VQ(E8V,'I00Q')>0 or VQ(E8V,'ssan')>0
endfunction
function XTV takes unit PM returns boolean
    local boolean P3=false
    if not MD then
        return false
    endif
    set P3=LT(PM,CX)
    return P3
endfunction
function XUV takes unit PQ returns boolean
    local boolean P3=false
    if not MD then
        return false
    endif
    set P3=DU(NI,'ssan',PQ,.44)
    return P3
endfunction
function XWV takes unit E8V returns boolean
    return VQ(E8V,'desc')>0
endfunction
function XYV takes unit PM returns boolean
    local boolean P3=false
    set P3=KU(PM,'desc')
    return P3
endfunction
function XZV takes location PQ returns boolean
    local boolean P3=false
    set P3=NU(NI,'desc',PQ,.2)
    return P3
endfunction
function X_V takes location PQ returns boolean
    local boolean P3=false
    set P3=NU(NI,IO,PQ,.8)
    return P3
endfunction
function X0V takes unit PQ returns boolean
    local boolean P3=false
    local location AM=LP(PQ,NI,-160)
    set P3=XZV(AM)
    call RemoveLocation(AM)
    set AM=null
    return P3
endfunction
function X1V takes unit PQ,real DP returns boolean
    local location AM=null
    local boolean rb=false
    local real rl=999999
    if PQ==null then
        return false
    endif
    set rl=SM(NI,PQ)
    if rl<DP then
        set HG=0
        return true
    endif
    set HG=R2I(DP)
    set AM=LP(PQ,NI,-DP)
    call XQ(NI,AM,30)
    call RemoveLocation(AM)
    set AM=null
    if rl-DP>80 then
        call EZ(.4)
    else
        call EZ(.2)
    endif
    set rl=SM(NI,PQ)
    if rl<DP then
        set HG=0
        return true
    endif
    return false
endfunction
function X2V takes unit PQ,real DP returns boolean
    local real rl=999999
    if PQ==null then
        return false
    endif
    set rl=SM(NI,PQ)
    if rl<=DP then
        set KG=-1
        return true
    endif
    set KG=R2I(DP)
    call R2(KG)
    return false
endfunction
function X3V takes nothing returns boolean
    local boolean b1=RZ(NI,'A07A',"impale")
    local boolean b2=RZ(NI,'A03O',"rainoffire")
    if(b1==false or b2==false)then
        return false
    endif
    return true
endfunction
function X4V takes nothing returns boolean
    return RZ(NI,'A07A',"impale")
endfunction
function X5V takes unit XM returns boolean
    local boolean rb=false
    set rb=JZ(NI,'A07A',"impale",XM)
    call Sleep(.77)
    return rb
endfunction
function X6V takes nothing returns boolean
    return RZ(NI,'A03O',"rainoffire")
endfunction
function X7V takes location LQ returns boolean
    local boolean rb=false
    set rb=NZ(NI,'A03O',"rainoffire",LQ)
    call Sleep(.5)
    return rb
endfunction
function X8V takes unit u returns boolean
    local boolean rb=false
    local location AM=GetUnitLoc(u)
    set rb=X7V(AM)
    call RemoveLocation(AM)
    set AM=null
    return rb
endfunction
function X9V takes unit u returns boolean
    local boolean rb=false
    local location AM=BP(u,300)
    set rb=X7V(AM)
    call RemoveLocation(AM)
    set AM=null
    return rb
endfunction
function OVV takes unit u returns boolean
    local boolean rb=false
    local location AM=LP(u,NI,-200)
    set rb=X7V(AM)
    call RemoveLocation(AM)
    set AM=null
    return rb
endfunction
function OEV takes nothing returns boolean
    return OZ(NI,'A041',852224)
endfunction
function OXV takes unit HL returns boolean
    local boolean rb=false
    if HL==null or GL(HL)then
        return false
    endif
    call SetUnitLookAt(NI,"head",HL,0,0,0)
    set rb=DZ(NI,'A041',852224,HL,2.)
    call Sleep(.3)
    return rb
endfunction
function OOV takes unit HL returns boolean
    local boolean rb=false
    if HL==null or GL(HL)then
        return false
    endif
    call SetUnitLookAt(NI,"head",HL,0,0,0)
    set rb=HZ(NI,'A041',852224,HL,2.3)
    return rb
endfunction
function ORV takes unit XM returns boolean
    local location AM=null
    if not X3V()then
        return false
    endif
    call X5V(XM)
    set AM=GetUnitLoc(XM)
    call X7V(AM)
    call RemoveLocation(AM)
    set AM=null
    return true
endfunction
function OIV takes nothing returns boolean
    return(OEV()and X3V()and S>800)
endfunction
function OAV takes unit PQ returns nothing
    local location AM=null
    if OOV(PQ)then
        call CQ(PQ)
        call Sleep(1.5)
        call ORV(PQ)
    endif
endfunction
function ONV takes nothing returns boolean
    return(XFV(NI)and OEV()and X3V()and S>800)
endfunction
function OBV takes unit PQ returns nothing
    local location AM=null
    if PQ==null then
        return
    endif
    set AM=LP(PQ,NI,800)
    if XGV(PQ)then
        call XQ(NI,AM,20)
        call Sleep(1.955)
        call OXV(PQ)
        call Sleep(.25)
        call X1V(FI,600)
        call Sleep(.15)
        call CQ(FI)
        call Sleep(1)
        call ORV(PQ)
        call CQ(FI)
        call Sleep(.9)
    endif
    call RemoveLocation(AM)
    set AM=null
endfunction
function OCV takes nothing returns boolean
    return(XTV(NI)and OEV()and X3V()and S>700)
endfunction
function ODV takes unit PQ returns nothing
    local location AM=null
    if(not XSV(NI))or(not OEV())then
        return
    endif
    set AM=LP(PQ,NI,700)
    if XUV(PQ)then
        call XQ(NI,AM,20)
        call OOV(PQ)
        call ORV(PQ)
    endif
    call RemoveLocation(AM)
    set AM=null
endfunction
function OFV takes nothing returns boolean
    return(XFV(NI)and OEV()and X3V()and S>950)
endfunction
function OGV takes unit PQ returns nothing
    local location AM=null
    if PQ==null then
        return
    endif
    set AM=LP(PQ,NI,820)
    call ORV(PQ)
    call CQ(PQ)
    call Sleep(.84)
    if XGV(PQ)then
        call XQ(NI,AM,30)
        call Sleep(1.79)
        call OXV(PQ)
        call Sleep(.3)
        call RQ(NI,FI,600)
        call Sleep(.4)
        call CQ(PQ)
        call Sleep(1.6)
        if XHV(PQ)then
            call Sleep(4.52)
            if X4V()then
                call X5V(PQ)
            endif
            if X6V()then
                call X8V(PQ)
            endif
            call CQ(PQ)
            call Sleep(.9)
        endif
    endif
    call RemoveLocation(AM)
    set AM=null
endfunction
function OHV takes nothing returns boolean
    return OZ(NI,'A087',852119)
endfunction
function OJV takes unit XM returns nothing
    call KZ(NI,'A087',852119,XM)
    call Sleep(.5)
endfunction
function OKV takes nothing returns boolean
    return RZ(NI,'A085',"silence")
endfunction
function OLV takes unit XM returns boolean
    local location AM=null
    local boolean rb=false
    set AM=GetUnitLoc(XM)
    call SetUnitLookAt(NI,"head",XM,0,0,0)
    call NZ(NI,'A085',"silence",AM)
    call Sleep(.44)
    if QM(XM,AM)<220 then
        set rb=true
    endif
    call RemoveLocation(AM)
    set AM=null
    return rb
endfunction
function OMV takes unit XM returns boolean
    local location AM=null
    local boolean rb=false
    set AM=GetUnitLoc(XM)
    call SetUnitLookAt(NI,"head",XM,0,0,0)
    call NZ(NI,'A085',"silence",AM)
    call Sleep(.45)
    call CQ(XM)
    call Sleep(.8)
    if QM(XM,AM)<220 then
        set rb=true
    endif
    call RemoveLocation(AM)
    set AM=null
    return rb
endfunction
function OPV takes nothing returns boolean
    return OKV()and OHV()
endfunction
function OQV takes nothing returns boolean
    return OZ(NI,'A083',852127)
endfunction
function OSV takes nothing returns nothing
    if not OQV()then
        return
    endif
    call UnitAddAbility(NI,'A089')
    call Sleep(.1)
    call IssueImmediateOrderById(NI,852100)
    call Sleep(.2)
    call IssueImmediateOrderById(NI,852127)
    call Sleep(.3)
    call UnitRemoveAbility(NI,'A089')
endfunction
function OTV takes nothing returns nothing
    if not OQV()then
        return
    endif
    call UnitAddAbility(NI,'A082')
    call Sleep(.1)
    call IssueImmediateOrderById(NI,852520)
    call Sleep(.2)
    call IssueImmediateOrderById(NI,852127)
    call Sleep(.3)
    call UnitRemoveAbility(NI,'A082')
endfunction
function OUV takes nothing returns nothing
    if not OQV()then
        return
    endif
    call UnitAddAbility(NI,'A08B')
    call Sleep(.1)
    call IssueImmediateOrderById(NI,852164)
    call Sleep(.2)
    call IssueImmediateOrderById(NI,852127)
    call Sleep(.3)
    call UnitRemoveAbility(NI,'A08B')
endfunction
function OWV takes unit PQ returns nothing
    call SetUnitLookAt(NI,"head",PQ,0,0,0)
    call MZ(NI,'A083',852127)
    call Sleep(.36)
endfunction
function OYV takes unit PQ returns nothing
    local location AM=null
    call OWV(PQ)
    set AM=LP(PQ,NI,150)
    call XQ(NI,AM,20)
    call RemoveLocation(AM)
    set AM=null
    call Sleep(.8)
    set AM=LP(PQ,NI,150)
    call XQ(NI,AM,20)
    call Sleep(.8)
    call RemoveLocation(AM)
    set AM=null
    call CQ(PQ)
    call Sleep(1.6)
endfunction
function OZV takes nothing returns boolean
    return OQV()and OHV()
endfunction
function O_V takes unit PQ returns nothing
    call OYV(PQ)
    call OJV(PQ)
endfunction
function O0V takes nothing returns boolean
    return(XYV(NI)and OQV()and OKV()and OHV()and S>700)
endfunction
function O1V takes unit PQ returns nothing
    local location AM=null
    if(not XWV(NI))or(not OQV())then
        return
    endif
    set AM=LP(PQ,NI,'d')
    if XTV(NI)then
        call XUV(PQ)
    endif
    call XZV(AM)
    call OLV(PQ)
    call OWV(PQ)
    call OJV(PQ)
    call CQ(PQ)
    call Sleep(1)
    call RemoveLocation(AM)
    set AM=null
endfunction
function O2V takes nothing returns boolean
    return(XFV(NI)and OQV()and OKV()and OHV()and S>700)
endfunction
function O3V takes unit PQ returns nothing
    local location AM=null
    if XGV(PQ)then
        set AM=LP(PQ,NI,'d')
        call XQ(NI,AM,10)
        call Sleep(4.35)
        call OLV(PQ)
        call OWV(PQ)
        call OJV(PQ)
        call CQ(PQ)
        call Sleep(1)
        call RemoveLocation(AM)
        set AM=null
    endif
endfunction
function O4V takes nothing returns boolean
    return(XTV(NI)and OQV()and OKV()and OHV()and S>700)
endfunction
function O5V takes unit PQ returns nothing
    local location AM=null
    if(not XSV(NI))or(not OQV())then
        return
    endif
    call XUV(PQ)
    set AM=LP(PQ,NI,'d')
    call XQ(NI,AM,10)
    call Sleep(1)
    call OLV(PQ)
    call OWV(PQ)
    set AM=LP(PQ,NI,'d')
    call XQ(NI,AM,10)
    set AM=LP(PQ,NI,'d')
    call OJV(PQ)
    call XQ(NI,AM,10)
    call Sleep(.5)
    call CQ(PQ)
    call Sleep(1)
    call RemoveLocation(AM)
    set AM=null
endfunction
function O6V takes nothing returns boolean
    return RZ(NI,'AOsh',"shockwave")
endfunction
function O7V takes location AM returns nothing
    call CZ(NI,'AOsh',"shockwave",AM,.7)
endfunction
function O8V takes unit u returns nothing
    local location AM=GetUnitLoc(u)
    call O7V(AM)
    call RemoveLocation(AM)
    set AM=null
endfunction
function O9V takes nothing returns boolean
    return RZ(NI,'AHtb',"thunderbolt")
endfunction
function RVV takes unit REV returns nothing
    call JZ(NI,'AHtb',"thunderbolt",REV)
    call Sleep(1.2)
endfunction
function RXV takes nothing returns boolean
    return O6V()and O9V()
endfunction
function ROV takes unit REV returns nothing
    call RVV(REV)
    call Sleep(1.1)
    call CQ(REV)
    call Sleep(1.2)
    if JL(REV)then
        if SM(NI,REV)<300 then
            call O8V(REV)
        endif
    endif
endfunction
function RRV takes nothing returns boolean
    return RZ(NI,'A06K',"thunderbolt")
endfunction
function RIV takes unit REV returns nothing
    call JZ(NI,'A06K',"thunderbolt",REV)
    call Sleep(.3)
endfunction
function RAV takes nothing returns boolean
    return RZ(NI,'A01V',"frenzy")
endfunction
function RNV takes nothing returns nothing
    call PZ(NI,'A01V',"frenzy")
    call Sleep(.3)
endfunction
function RBV takes nothing returns boolean
    if GW(NI)then
        return false
    endif
    return OZ(NI,'A011',852231)
endfunction
function RCV takes unit REV returns nothing
    call KZ(NI,'A011',852231,REV)
    call Sleep(1.1)
endfunction
function RDV takes nothing returns boolean
    if GW(NI)then
        return false
    endif
    return RZ(NI,'A00R',"blizzard")
endfunction
function RFV takes location AM returns nothing
    call NZ(NI,'A00R',"blizzard",AM)
    call Sleep(.7)
endfunction
function RGV takes unit u returns nothing
    local location AM=GetUnitLoc(u)
    call RFV(AM)
    call RemoveLocation(AM)
    set AM=null
endfunction
function RHV takes nothing returns boolean
    return RBV()and RDV()
endfunction
function RJV takes unit REV returns nothing
    call RCV(REV)
    call RGV(REV)
endfunction
function RKV takes nothing returns boolean
    local boolean rb=false
    if GW(NI)then
        return false
    endif
    if PH then
        set rb=HT(NI,'A02V')
    else
        set rb=HT(NI,'A00A')
    endif
    if rb then
    endif
    return rb
endfunction
function RLV takes nothing returns nothing
    if not PZ(NI,'A00A',"whirlwind")then
        call PZ(NI,'A02V',"whirlwind")
    endif
    call Sleep(.1)
endfunction
function RMV takes nothing returns boolean
    return HT(NI,'A04W')
endfunction
function RPV takes nothing returns nothing
    call PZ(NI,'A04W',"stomp")
    call Sleep(.5)
endfunction
function RQV takes nothing returns boolean
    return HT(NI,'A009')
    return YY(NI,'A009',"berserk")
endfunction
function RSV takes nothing returns nothing
    call PZ(NI,'A009',"berserk")
    call Sleep(.4)
endfunction
function RTV takes nothing returns boolean
    return HT(NI,'A006')
    return YY(NI,'A006',"avatar")
endfunction
function RUV takes nothing returns nothing
    call PZ(NI,'A006',"avatar")
    call Sleep(.3)
endfunction
function RWV takes nothing returns boolean
    return RZ(NI,'A02A',"thunderbolt")
endfunction
function RYV takes unit REV returns nothing
    call JZ(NI,'A02A',"thunderbolt",REV)
    call Sleep(.68)
endfunction
function RZV takes nothing returns boolean
    return RZ(NI,'A00H',"mirrorimage")
endfunction
function R_V takes nothing returns nothing
    call PZ(NI,'A00H',"mirrorimage")
    call Sleep(.6)
endfunction
function R0V takes nothing returns boolean
    return RZ(NI,'A00W',"frostnova")
endfunction
function R1V takes unit REV returns nothing
    call JZ(NI,'A00W',"frostnova",REV)
    call Sleep(.8)
endfunction
function R2V takes nothing returns boolean
    return RZ(NI,'A01F',"impale")
endfunction
function R3V takes unit REV returns nothing
    call JZ(NI,'A01F',"impale",REV)
    call Sleep(.7)
endfunction
function R4V takes nothing returns boolean
    return RZ(NI,'AUfu',"frostarmor")
endfunction
function R5V takes unit REV returns nothing
    call JZ(NI,'AUfu',"frostarmor",REV)
    call Sleep(.5)
endfunction
function R6V takes nothing returns boolean
    return HT(NI,'A04W')
    return RZ(NI,'A04W',"stomp")
endfunction
function R7V takes nothing returns nothing
    call PZ(NI,'A04W',"stomp")
    call Sleep(.5)
endfunction
function R8V takes nothing returns boolean
    return RZ(NI,'A00L',"faeriefire")
endfunction
function R9V takes unit REV returns nothing
    call JZ(NI,'A00L',"faeriefire",REV)
    call Sleep(.76)
endfunction
function IVV takes nothing returns boolean
    return AZ(NI,'AUcs',"carrionswarm")
endfunction
function IEV takes unit REV returns nothing
    call JZ(NI,'AUcs',"carrionswarm",REV)
    call Sleep(.39)
endfunction
function IXV takes nothing returns boolean
    return AZ(NI,'AUsl',"sleep")
endfunction
function IOV takes unit REV returns nothing
    call JZ(NI,'AUsl',"sleep",REV)
    call Sleep(.39)
endfunction
function IRV takes nothing returns boolean
    return AZ(NI,'AUhf',"unholyfrenzy")
endfunction
function IIV takes unit REV returns nothing
    call JZ(NI,'AUhf',"unholyfrenzy",REV)
    call Sleep(.55)
endfunction
function IAV takes nothing returns boolean
    return AZ(NI,'A030',"silence")
endfunction
function INV takes location AM returns nothing
    call SetPlayerAbilityAvailable(V,'Awrs',true)
    call NZ(NI,'A030',"silence",AM)
    call Sleep(1.5)
    call SetPlayerAbilityAvailable(V,'Awrs',false)
    if G0()then
        if IsUnitHidden(PI)then
            set LF=true
            if MI==null then
                set MI=R6(V)
            endif
            set NI=MI
        endif
        if not IsUnitHidden(PI)then
            set NI=PI
            set LF=false
            set MI=null
        endif
        if GL(NI)then
            set NI=PI
        endif
    endif
endfunction
function IBV takes unit XM returns nothing
    local location AM=GetUnitLoc(XM)
    call INV(AM)
    call RemoveLocation(AM)
    set AM=null
endfunction
function ICV takes nothing returns boolean
    return RZ(NI,'Awrs',"stomp")
endfunction
function IDV takes nothing returns nothing
    call PZ(NI,'Awrs',"stomp")
    call Sleep(.5)
endfunction
function IFV takes nothing returns boolean
    return RZ(NI,'A060',"healingward")
endfunction
function IGV takes location AM returns nothing
    call NZ(NI,'A060',"healingward",AM)
    call Sleep(.4)
endfunction
function IHV takes unit u returns nothing
    local location AM=null
    set AM=GetUnitLoc(u)
    call IGV(AM)
    call RemoveLocation(AM)
    set AM=null
endfunction
function IJV takes nothing returns boolean
    return RZ(NI,'A02E',"stasistrap")
endfunction
function IKV takes location AM returns nothing
    call NZ(NI,'A02E',"stasistrap",AM)
    call Sleep(.5)
endfunction
function ILV takes nothing returns boolean
    return RZ(NI,'A065',"ward")
endfunction
function IMV takes location AM returns nothing
    call NZ(NI,'A065',"ward",AM)
    call Sleep(.6)
endfunction
function IPV takes nothing returns boolean
    return RZ(NI,'AOhw',"healingwave")
endfunction
function IQV takes unit REV returns nothing
    call JZ(NI,'AOhw',"healingwave",REV)
    call Sleep(.7)
endfunction
function ISV takes nothing returns boolean
    return OZ(NI,BO,852520)
endfunction
function ITV takes nothing returns nothing
    call MZ(NI,BO,852520)
    call Sleep(.5)
endfunction
function IUV takes nothing returns boolean
    return OZ(NI,FO,852581)
endfunction
function IWV takes nothing returns nothing
    call MZ(NI,FO,852581)
    call Sleep(.5)
endfunction
function IYV takes unit u returns nothing
    if(L==null)then
        call XQ(u,RN,50)
        call EZ(.8)
    else
        if not XQ(u,L,50)then
            call EZ(.8)
        else
            call EZ(.5)
        endif
    endif
endfunction
function IZV takes unit PQ,real DP returns boolean
    local location AM=null
    local boolean rb=false
    if PQ==null then
        return false
    endif
    if X1V(PQ,DP)then
        call CQ(PQ)
        call EZ(.9)
        set AM=X3(NI,500)
        call XQ(NI,AM,20)
        call RemoveLocation(AM)
        set AM=null
        call EZ(.8)
    endif
    return true
endfunction
function I_V takes unit PQ,real DP returns boolean
    local location AM=null
    local boolean rb=false
    if PQ==null then
        return false
    endif
    if X1V(PQ,DP)then
        call CQ(PQ)
        call EZ(1)
        set AM=X3(NI,500)
        call XQ(NI,AM,20)
        call RemoveLocation(AM)
        set AM=null
        call EZ(.6)
    endif
    return true
endfunction
function I0V takes unit PQ returns boolean
    local location AM=null
    local boolean rb=false
    if PQ==null then
        return false
    endif
    if X1V(PQ,600)then
        call CQ(PQ)
        call EZ(.9)
    endif
    if VB>=500 then
        if SM(NI,PQ)<=330 then
            return true
        endif
    endif
    set AM=LP(NI,PQ,600)
    call XQ(NI,AM,50)
    call RemoveLocation(AM)
    set AM=null
    call EZ(.5)
    return true
endfunction
function I1V takes unit PQ returns boolean
    local location AM=null
    local boolean rb=false
    if PQ==null then
        return false
    endif
    if X1V(PQ,600)then
        call CQ(PQ)
        call EZ(.9)
    endif
    if VB>=500 then
        if SM(NI,PQ)<=390 and(G==null or SM(NI,G)>500)then
            return true
        endif
    endif
    if G==null then
        set AM=LP(NI,PQ,600)
    endif
    if G!=null then
        set AM=LP(PQ,G,-500)
    endif
    call XQ(NI,AM,50)
    call RemoveLocation(AM)
    set AM=null
    call EZ(.5)
    return true
endfunction
function I2V takes unit PQ returns boolean
    local location AM=null
    local boolean rb=false
    if PQ==null then
        return false
    endif
    if X1V(PQ,220)then
        call CQ(PQ)
        call EZ(.9)
    endif
    if SM(NI,PQ)<180 then
        return true
    endif
    set AM=ZM(NI,PQ,220,30)
    call XQ(NI,AM,50)
    call RemoveLocation(AM)
    set AM=null
    call EZ(.5)
    return true
endfunction
function AlterDefendRange takes nothing returns nothing
    if UU(NI)or WU(NI)then
        set CB=NB
    else
        set CB=BB
    endif
endfunction
function I3V takes unit CY,location I4V,location I5V returns boolean
    if QM(CY,I4V)<=700 then
        return true
    endif
    if QM(CY,I5V)<700 then
        return false
    endif
    return QM(CY,I4V)<VM(I4V,I5V)and QM(CY,I5V)<VM(I4V,I5V)
endfunction
function I6V takes integer I7V,unit PM returns integer
    local integer i=0
    local integer i2=0
    local location AM=null
    local real Z4=999999
    if I7V==0 then
        loop
            exitwhen(YA[i+1]==null or i==20)
            if I3V(PM,YA[i],YA[i+1])then
                return i
            endif
            if QM(PM,YA[i])<Z4 then
                set i2=i
                set Z4=QM(PM,YA[i])
            endif
            set i=i+1
        endloop
    endif
    if I7V==1 then
        loop
            exitwhen(WA[i+1]==null or i==20)
            if I3V(PM,WA[i],WA[i+1])then
                return i
            endif
            if QM(PM,WA[i])<Z4 then
                set i2=i
                set Z4=QM(PM,WA[i])
            endif
            set i=i+1
        endloop
    endif
    if I7V==2 then
        loop
            exitwhen(ZA[i+1]==null or i==20)
            if I3V(PM,ZA[i],ZA[i+1])then
                return i
            endif
            if QM(PM,ZA[i])<Z4 then
                set i2=i
                set Z4=QM(PM,ZA[i])
            endif
            set i=i+1
        endloop
    endif
    return i2
endfunction
function I8V takes unit HL returns nothing
    if AO>99 or GN>99 then
        set IN=VN
    endif
    if GN>99 then
        set RN=AN[GN]
        return
    endif
    set NN=I6V(GN,HL)
    if GN==0 and NN>-1 then
        set RN=YA[NN+1]
        set IN=YA[NN]
        if QM(HL,IN)<800 and NN-1>-1 then
            set IN=YA[NN-1]
        endif
    endif
    if GN==1 and NN>-1 then
        set RN=WA[NN+1]
        set IN=WA[NN]
        if QM(HL,IN)<800 and NN-1>-1 then
            set IN=WA[NN-1]
        endif
    endif
    if GN==2 and NN>-1 then
        set RN=ZA[NN+1]
        set IN=ZA[NN]
        if QM(HL,IN)<800 and NN-1>-1 then
            set IN=ZA[NN-1]
        endif
    endif
endfunction
function I9V takes unit CY returns integer
    local integer OK=0
    local real M4=999999
    local integer ri=1
    loop
        exitwhen OK==3
        if QM(CY,AN[OK])<M4 then
            set ri=OK
            set M4=QM(CY,AN[OK])
        endif
        set OK=OK+1
    endloop
    return ri
endfunction
function AVV takes unit HL returns nothing
    local integer AEV=0
    set KN=I9V(HL)
    set AEV=I6V(KN,HL)
    if KN==0 and AEV>-1 then
        set JF=YA[AEV+1]
        set KF=YA[AEV]
        if QM(HL,KF)<800 and AEV-1>-1 then
            set KF=YA[AEV-1]
        endif
    endif
    if KN==1 and AEV>-1 then
        set JF=WA[AEV+1]
        set KF=WA[AEV]
        if QM(HL,KF)<800 and AEV-1>-1 then
            set KF=WA[AEV-1]
        endif
    endif
    if KN==2 and AEV>-1 then
        set JF=ZA[AEV+1]
        set KF=ZA[AEV]
        if QM(HL,KF)<800 and AEV-1>-1 then
            set KF=ZA[AEV-1]
        endif
    endif
endfunction
function AXV takes nothing returns nothing
    call RemoveLocation(AN[0])
    set AN[0]=null
    set AN[0]=Location(HD[0],HD[1])
endfunction
function AOV takes nothing returns nothing
    call RemoveLocation(AN[1])
    set AN[1]=null
    set AN[1]=Location(JD[0],JD[1])
endfunction
function ARV takes nothing returns nothing
    call RemoveLocation(AN[2])
    set AN[2]=null
    set AN[2]=Location(KD[0],KD[1])
endfunction
function AIV takes nothing returns nothing
    local integer AAV=0
    set GR=false
    if W6()then
        set GR=true
    endif
    if Y6()then
        set GR=true
    endif
    if GR and not GW(NI)then
        set FR=3
        set MG=3
    endif
endfunction
function ANV takes nothing returns nothing
    local integer i=0
    local integer ABV=-1
    local integer ACV=-1
    local unit P4=null
    local integer ADV=0
    local integer AFV=0
    loop
        exitwhen CommandsWaiting()==0 or GetLastCommand()<1
        set ABV=GetLastCommand()
        set ACV=GetLastData()
        if ABV==1000 and ACV>-1 and ACV<16 then
            set P4=Z5(Player(ACV))
            if X6(P4)then
                call DK("!")
            else
                call DK("!!")
            endif
            set P4=null
        endif
        if ABV==1001 then
            call O6(ACV)
        endif
        if ABV==2000 and ACV>0 then
        endif
        if ABV==2001 then
        endif
        if ABV==3000 then
            set HD[0]=ACV
        endif
        if ABV==3001 then
            set HD[1]=ACV
        endif
        if ABV==3002 then
            set JD[0]=ACV
        endif
        if ABV==3003 then
            set JD[1]=ACV
        endif
        if ABV==3004 then
            set KD[0]=ACV
        endif
        if ABV==3005 then
            set KD[1]=ACV
        endif
        if ABV==4000 then
            set LD=true
            call DK("!")
        endif
        if ABV==4001 then
            set LD=false
            call U0()
            call DK("!")
        endif
        if ABV==4002 then
            set IG=true
            set AG=false
            call DK("1v1!")
        endif
        if ABV==4003 then
            set IG=false
            call DK("1v1!")
        endif
        if ABV==4004 then
            set AG=false
            call DK("!")
        endif
        if ABV==4005 then
            set AG=true
            call DK("!")
        endif
        if ABV==4006 then
            set IJ=true
        endif
        if ABV==4007 then
            set BJ=true
            call DK("")
        endif
        if ABV==5000 then
        endif
        if NI!=null and JL(NI)then
            if ABV==6000 then
                set PG=NK(ACV)
            endif
            if ABV==6001 then
                set QG=NK(ACV)
            endif
            if ABV==6004 then
                set SG=BK(ACV)
            endif
            if ABV==6005 then
                set UG=ACV
            endif
            if ABV==6006 then
                set WG=ACV
                call AIV()
            endif
        endif
        if ABV==6200 then
            call Sleep(.1)
            set XH=true
            set FR=1
            call E6()
        endif
        if ABV==6300 then
            set ADV=ACV
        endif
        if ABV==6301 then
            set AFV=ACV
        endif
        if ABV==6302 then
            if(FN==1 and ACV<=5)or(FN==2 and ACV>=6)then
                if ADV!=0 and AFV!=0 then
                    if WH!=null then
                        call RemoveLocation(WH)
                        set WH=null
                    endif
                    if OI then
                    endif
                    set WH=Location(ADV,AFV)
                    if AO!='e' and AO!='f' then
                        set AO='g'
                        set AN['g']=WH
                    endif
                endif
            endif
        endif
        if ABV>=3000 and ABV<=3100 then
        endif
        call PopLastCommand()
        set i=i+1
    endloop
endfunction
function AGV takes integer DP returns nothing
    local location AHV=F4(DP)
    if(AHV==null)then
        call XQ(NI,RN,50)
        call EZ(1)
    else
        call XQ(NI,AHV,50)
        call EZ(.8)
    endif
    call RemoveLocation(AHV)
    set AHV=null
endfunction
function AJV takes nothing returns nothing
    if B==null then
        set I[0]=0
    else
        set I[0]=50
    endif
endfunction
function AKV takes integer OK returns nothing
    if OK!=0 then
        return
    endif
    if B==null then
        return
    else
        call CQ(B)
        call Sleep(.9)
    endif
endfunction
function ALV takes nothing returns nothing
    if A==null or FI==null then
        set I[1]=0
    else
        set I[1]=48
    endif
endfunction
function AMV takes integer OK returns nothing
    if OK!=1 then
        return
    endif
    if A==null then
        return
    else
        call CQ(A)
        call EZ(.9)
    endif
endfunction
function APV takes nothing returns nothing
    if not E7V(NI)then
        set I[2]=0
        return
    endif
    if UU(NI)then
        set I[2]=0
        return
    endif
    if MU(NI)>500 then
        set I[2]=56
    endif
    if Q<300 then
        set I[2]=60
    endif
    if FI!=null and Q<500 and P>320 and Y>5 then
        set I[2]=63
    endif
    if MU(NI)>800 and not X2V(FI,760)then
        set I[2]=70
    endif
endfunction
function AQV takes integer OK returns nothing
    if OK!=2 then
        return
    endif
    call AGV(1600)
    if(G==null or(not X2V(G,500)and XV>0))and(D==null or not X2V(D,900))and(FI==null or not X2V(FI,800))then
        call CU(NI,'hslv',NI,.15)
    endif
endfunction
function ASV takes nothing returns nothing
    if not E9V(NI)then
        set I[3]=0
        return
    endif
    if WU(NI)then
        set I[3]=0
        return
    endif
    if ZU(NI)>180 then
        set I[3]=49
    endif
endfunction
function ATV takes integer OK returns nothing
    if OK!=3 then
        return
    endif
    call AGV(1600)
    if(G==null or not X2V(G,500))and(D==null or not X2V(D,900))and(FI==null or not X2V(FI,800))then
        call XU(NI,'pclr',.15)
    endif
endfunction
function AUV takes nothing returns nothing
    local integer AWV=8
    set EH=0
    if Y<8 then
        set AWV=Y
    endif
    if FI==null then
        if Z<8 then
            set AWV=Z
        endif
    endif
    if P>145 and P<=290 then
        set EH=(AWV/2)*70+50
    endif
    if P>295 then
        set EH=AWV*70+50
    endif
    set EH=EH+Y*10
    if V6(FI)!=0 then
        set EH=R2I(EH*.8)
    endif
    if V6(FI)==0 and GetUnitTypeId(FI)!=PV and GetUnitTypeId(GI)!=PV then
        set EH=R2I(EH*.9)
    endif
    if FI!=null then
        set ZG=R2I((GetUnitMoveSpeed(NI)-GetUnitMoveSpeed(FI))/49)
        set RG=OG
        if(YG<-6)or(W>800 and ZG<=0)or Q<EH then
            set OG=false
        endif
        if(YG<-6)or(W>400 and ZG<=0)or Q<EH then
            set RG=false
        endif
        if(YG>1)and(W<800 and QM(NI,IN)-QM(FI,IN)>-200)and Q>EH then
            set OG=true
        endif
        if(YG>1)and(W<800 and QM(NI,IN)-QM(FI,IN)>-200)and Q>EH then
            set RG=true
        endif
        if YG<-3 and T<BV and FI!=null and NV>600 then
            set RG=false
            set OG=false
        endif
        if YG<0 and Q<EH*1.5 and KA>1 then
            set RG=false
            set OG=false
        endif
        if UU(NI)and Q<EH*1.5 and KA>1 then
            set RG=false
            set OG=false
        endif
        if PD<-1 then
            set OG=false
            set RG=false
        endif
        if PD<0 and(ZG<0 or(K6(NI,800)>1 and Y>3))then
            set OG=false
            set RG=false
        endif
        if PD>1 and YG>-5 and Q>EH then
            set OG=true
            set RG=true
        endif
        if(PD==1 and YG>-2 and MA<630)and Q>EH and(D==null or SM(D,FI)>800)then
            set OG=true
            set RG=true
        endif
        if(PD==1 and YG>-5 and JA>0)and(MA<700 or not WL(NI,LA,FI))and Q>EH and(D==null or SM(D,FI)>700)then
            set OG=true
            set RG=true
        endif
        if(PD>0 and YG>-5 and(VS(FI)or ZG>0))and Q>EH then
            set OG=true
            set RG=true
        endif
        if PD<2 and MA>1000 and ZG<=0 then
            set OG=false
            set RG=false
        endif
        if GW(NI)and Q>EH+200 and YG>-4 and PD>-1 then
            set OG=true
            set RG=true
        endif
        if CW(NI)then
            set OG=false
            set RG=false
        endif
        if CW(FI)and(W<620 or ZG>0)then
            set OG=true
            set RG=true
        endif
    endif
endfunction
function AYV takes nothing returns nothing
    local location AM=null
    local location AP=null
    if QM(NI,VN)<700 then
        return
        set DI=false
    endif
    if B0()then
        if RDV()then
            set AP=GetUnitLoc(NI)
            set AM=GP(AP,IN,700)
            call RemoveLocation(AP)
            set AP=null
            if QM(NI,IN)<700 then
                call RFV(RN)
            else
                call RFV(AM)
                call RemoveLocation(AM)
                set AM=null
                set DI=false
                return
            endif
        endif
    endif
    if XYV(NI)then
        call XZV(IN)
        set DI=false
    endif
endfunction
function AZV takes nothing returns nothing
    local location AM=null
    if GL(SH)then
        call OL("no!!!! huanglong")
    endif
    if XQ(NI,TH,500)then
        call OL("nearhuanglong")
        call CQ(SH)
        call EZ(.8)
    else
        call EZ(.8)
        call OL("go1")
        return
    endif
    if(NW(NI)<75 or(QA<700 and NW(PA)<75))and S8(NI)and T1(58,20)then
        set AM=NP(NI,200)
        call X_V(AM)
        call RemoveLocation(AM)
        set AM=null
    endif
    if JA>0 and KA==0 then
        if B0()then
            if RBV()then
                call RCV(SH)
            endif
        endif
        if D0()then
            if RWV()then
                call RYV(SH)
            endif
            if RZV()then
                call R_V()
            endif
        endif
        if R0()then
            if OHV()then
                call OJV(SH)
            endif
            if OKV()then
                call OLV(SH)
            endif
        endif
        if A0()then
            if RRV()then
                call RIV(SH)
            endif
            if RAV()then
                call RAV()
            endif
        endif
        if C0()then
            if RQV()then
                call RSV()
            endif
        endif
    endif
endfunction
function A_V takes nothing returns nothing
    local integer A0V=0
    set BH=false
    set BH=T<BV and(PD<1 or Q<800 or Z<11)
    if not BH and PD<2 and YG<-4 then
        set BH=true
    endif
    set I[4]=10
    set YG=0
    set FV=0
    if Z>7 then
        set YG=YG+JA*2
    endif
    set YG=YG+R2I(Q/700)
    if K0()then
        set YG=YG+5
    endif
    if SM(NI,G)<260 and VB>=500 then
        set FV=FV-1
        set I[4]=38
        set YG=YG-1
    endif
    if Q<EH-'d' then
        set I[2]=60
    endif
    if VB>=500 and XV>1 and R4()then
        set FV=FV-2
        call RemoveLocation(WF)
        set WF=null
        set WF=I4()
        if WF!=null then
            set I[19]=46
        endif
        set YG=YG-2
    endif
    if NV>300 and VV>0 then
        set FV=FV-3
        set I[4]=42
        set YG=YG-3
    endif
    if NV<-300 and XV>0 then
        set FV=FV+3
        set YG=YG+3
    endif
    if FI!=null and W<1000 and G!=null and SM(NI,G)<400 then
        set I[4]=47
    endif
    set FV=FV+(XV-VV)/3
    set YG=YG+(XV-VV)/3
    if XV==0 then
        set FV=FV+(XV-VV)/2
        set YG=YG+(XV-VV)/2
    endif
    if VV>XV+2 and XV<2 then
        set I[5]=44
    endif
    if QB!=null and PB!=null and SM(NI,QB)<SM(QB,PB)then
        set I[5]=40
        set FV=FV-2
        set YG=YG-2
    endif
    if VV>XV+3 and FI!=null then
        set I[5]=45
    endif
    if VV>2 and XV==1 and LU(PB)<200 then
        set I[5]=49
        set FV=FV-2
        set YG=YG-2
    endif
    if FI==null and(ZC<-10 or(XV==0 and VV>0 and J==null))then
        set I[5]=47
    endif
    if Q<500 and FI!=null and P>350 and Y>5 and W<900 then
        set I[5]=49
    endif
    if VB<=400 and T<600 and Z<11 then
        set I[8]=51
        set FV=FV-2
        set YG=YG-2
    endif
    if T<BV then
        if(PB==null or(PB!=null and SM(PB,D)>500))then
            set FV=FV-6
            set YG=YG-6
        else
            set FV=FV-3
            set YG=YG-3
        endif
    endif
    if U<600 then
        set FV=FV+2
        set YG=YG+2
    endif
    if FI!=null then
        set FV=FV+Z/5
        set FV=FV+R2I((Z-Y)/2)
        set FV=FV+R2I((Q-M)/'d')
        set A0V=R2I((S-P)/200)
        if A0V>3 then
            set A0V=3
        endif
        if P<'x' then
            set A0V=A0V+1
        endif
        if S<'x' then
            set A0V=A0V-1
        endif
        if P<300 then
            set A0V=A0V+1
        endif
        if S<300 then
            set A0V=A0V-1
        endif
        set FV=FV+A0V
        set FV=FV
        set FV=FV+(PD)*5
        if Q<600 and Y>5 then
            set FV=FV-4
        endif
        if M<600 and Z>5 then
            set FV=FV+4
        endif
        if CW(NI)then
            set FV=FV-10
        endif
        if CW(FI)then
            set FV=FV+11
        endif
        if ZG<0 then
            set FV=FV-2
        endif
        if ZG>0 then
            set FV=FV+2
        endif
    endif
    if XV==0 and J!=null and Z<10 then
        set FV=FV-1
    endif
    if Q<400 and T<BV then
        set I[8]=55
    endif
    if XV==0 and VV>0 then
        set I[5]=50
    endif
    if YH!=null and SM(NI,YH)<500 then
        set I[5]=50
    endif
    if XV==0 and VV>2 and Q<600 then
        set I[5]=58
    endif
    if FI!=null and VV>2 and XV==1 and LU(PB)<200 then
        set I[5]=59
    endif
    if FI!=null and NV>500 and VV>2 and Z<10 and Q<800 and PD<1 then
        set I[5]=60
    endif
    if Q<400 and FI!=null and(P>280 or AW(FI))and W<800 and Y>3 then
        set I[5]=62
    endif
    if JA==0 and KA==2 and KH<900 then
        set I[5]=64
    endif
    if Q<400 and FI!=null and(P>350 or AW(FI))and W<800 and Y>3 then
        set I[5]=65
    endif
    if FI!=null and((XV==0 and VV>2)or(XV==1 and VV>5))and Q<600 then
        set I[5]=65
    endif
    if Q<300 and FI!=null and(P>260 or AW(FI))and W<800 and Y>1 then
        set I[5]=66
    endif
    if Q<600 and FI!=null and(P>290 or AW(FI))and Y>7 and W<1000 then
        set I[5]=67
    endif
    if PD<0 and Y>6 and KH<600 then
        set I[5]=69
    endif
    if FI==null and ZC<-80 and Q<1000 then
        set I[5]=70
    endif
    if FI!=null and Q+300<M and Q<800 and P>350 and Y>4 and W<1000 then
        set I[5]=69
    endif
    if XV==0 and VV>2 and Q<500 then
        set I[5]=70
    endif
    if FI==null and ZC<-'d' and ZC>-200 and Q<1000 then
        set I[5]=70
    endif
    if FI!=null and W>700 and ZG<=0 and MA>600 and(VV>XV+2 or ZC<-30)then
        set I[5]=71
    endif
    if FI!=null and BH then
        if ZC<-80 then
            set I[8]=72
        endif
    endif
    if PD<-1 and Y>7 and KH<900 then
        set I[8]=72
    endif
    if Q<EH and FI!=null and(P>300 or AW(FI))and X2V(FI,800)then
        set I[5]=73
    endif
    if Q<600 and FI!=null and(P>290 or AW(FI))and Y>10 and W<1000 then
        set I[5]=74
    endif
    if Q<300 and FI!=null and W<800 and Y>4 then
        set I[5]=74
    endif
    if ZC<-80 and BH then
        set I[8]=74
    endif
    if FI!=null and((XV==0 and VV>5)or(XV==1 and VV>8))and Q<600 then
        set I[5]=74
    endif
    if Q<500 and FI!=null and Q<M-200 and W<800 and Y>5 then
        set I[5]=74
    endif
    if Q<600 and FI!=null and W<800 and Y>7 and P>290 then
        set I[5]=74
    endif
    if Q<Y*75 and FI!=null and W<700 and Y<8 and P>290 then
        set I[5]=74
    endif
    if VJ!=null and SM(NI,VJ)<930 then
        set I[5]=73
    endif
    if ZH!=null and SM(NI,ZH)<530 and KH<1500 then
        set I[5]=77
    endif
    if BH and VB<500 and GN!=1 then
        set I[8]=75
    endif
    if PD<-2 and Y>7 then
        set I[8]=78
        if ZG<0 then
            set I[8]='d'
        endif
        if KH<800 then
            set CR=true
            set VH=1
        endif
    endif
    if FI!=null and VV>XV+5 and Q<500 and W<900 then
        set I[5]=76
    endif
    if JA==0 and KA>=2 and Q<600 and KH<660 then
        set I[5]=77
        set CR=true
        set VH=1
    endif
    if CW(NI)and FI!=null then
        set I[8]=78
        set CR=true
        set VH=1
    endif
    if GI!=null and(BY(GI)or(GW(GI)and GetUnitTypeId(GI)==KV))and(not CW(GI))and W<430 then
        set I[5]=79
        set CR=true
        set VH=1
    endif
    if BH and(PB==null or(PB!=null and SM(PB,D)>500))then
        set I[8]=60
        if FI!=null and W<800 and GetUnitMoveSpeed(NI)<=GetUnitMoveSpeed(FI)+50 then
            set I[8]=79
            if Q<700 then
                set I[8]=99
            endif
        endif
    endif
    if BH then
        if FI!=null and W>600 and GetUnitMoveSpeed(NI)<=GetUnitMoveSpeed(FI)+50 then
            set I[8]=79
            if Q<700 and W>600 then
                set I[8]=99
            endif
        endif
    endif
    if PD<-1 and Y>10 then
        set I[8]=82
        if KH<800 then
            set CR=true
            set VH=1
        endif
    endif
    if PD<-2 and Y>11 then
        set I[8]=92
        if KH<900 then
            set CR=true
            set VH=1
        endif
    endif
    if FI!=null and VV-XV>5 and Q<600 and W>600 and GetUnitMoveSpeed(NI)<=GetUnitMoveSpeed(FI)+50 then
        set I[5]=83
    endif
    if FI!=null and XV==0 and VV>5 and Q<500 and PD<2 then
        set I[5]=85
        set CR=true
        set VH=1
    endif
    if FI!=null and VV-XV>10 and Q<1000 and PD<2 then
        set I[8]=86
        set CR=true
        set VH=1
    endif
    if FI!=null and XV==0 and VV>6 and(Q<800)and PD<2 then
        set I[5]=88
        set CR=true
        set VH=1
    endif
    if FI==null and ZC<-260 then
        set I[5]=99
        set CR=true
        set VH=1
    endif
    if FI!=null and Q<1000 and GW(FI)and not CW(FI)and V6(NI)==0 then
        set I[8]=99
    endif
    if FI!=null and Q<800 and GW(FI)and not CW(FI)and V6(NI)==0 and V6(FI)==1 and Y>15 then
        set I[8]=99
    endif
    if IG and T1(31,10)then
        if YW(V)>=2450 and BR and KB and(not XVV(NI)and not XSV(NI))then
            set I[6]=59
        endif
        if(not XVV(NI)and not XSV(NI))and((YW(V)>1450 and(VQ(NI,'I01S')>0 or VQ(NI,'wneg')>0))or(YW(V)>=450 and VQ(NI,'I01S')>0 and VQ(NI,'wneg')>0))then
            set I[6]=59
        endif
    endif
    if PD<0 and YW(V)>=1600 and BR then
        set I[6]=60
    endif
    if(not BW(NI)or not AW(NI))and QM(NI,VN)<1600 then
        set I[6]=63
    endif
    if FI!=null and(NW(NI)<40)and S<130 and not E9V(NI)then
        set I[6]=65
    endif
    if PD<0 and(NW(NI)<60)and S<130 and not E9V(NI)then
        set I[6]=65
    endif
    if PD<-1 and(NW(NI)<80)then
        set I[6]=68
    endif
    if PD<0 and(NW(NI)<60 and MU(NI)>1000)then
        set I[6]=68
    endif
    if JA==0 and KA>2 then
        set I[6]=69
    endif
    if CW(NI)and(not LF)and(not E7V(NI))and not UU(NI)then
        set I[6]=82
    endif
    if Q<300 and(not LF)and(not E7V(NI))and not UU(NI)and Y>4 then
        set I[6]=83
    endif
    if Q<600 and(not LF)and(not E7V(NI))and not UU(NI)and P>350 and Y>7 then
        set I[6]=84
    endif
    if Q<800 and Z>13 and(not E7V(NI))and not UU(NI)and PD<1 then
        set I[6]=84
    endif
    if Q<700 and MU(NI)>1000 then
        set I[6]=84
    endif
    if W>800 then
        if T1(30,'x')then
            if YW(V)>=3200 and BR and KB then
                set I[6]=70
            endif
        endif
    endif
    if RJ!=null and SM(NI,RJ)<500 then
        set I[8]=77
    endif
    if D!=null and FI!=null then
        if Z<6 and Q<700 and T<BV and(PB==null or(PB!=null and SM(PB,D)>600))and ZC<-20 then
            set I[8]=78
        endif
    endif
    if(FI!=null and YG<-7 and ZG<=0 and W>650)then
        set I[8]=78
    endif
    if T<BV and FI!=null and Q<700 and ZC<-60 then
        set I[8]=78
    endif
    if JA==0 and KA>1 and KH<800 then
        set I[8]=77
    endif
    if(FI!=null and YG<-5 and(ZG<0 or(ZG==0 and MA>600))and W>650)then
        set I[8]=89
    endif
    if JA==0 and KA>2 and KH<900 then
        set CR=true
        set VH=1
        set I[8]=90
    endif
    if Z<3 and(not LF)and T<BV and Q<600 then
        set I[8]=90
    endif
    if QM(NI,EN)<1300 then
        set I[8]='n'
    endif
    if(UU(NI)or WU(NI))and XV==0 and VV>0 then
        set I[9]=73
    endif
    if(UU(NI)or WU(NI))then
        if((FI!=null and X2V(FI,930))or T<BV or SM(NI,G)<600)then
            set I[9]=73
        endif
        if PD<0 then
            set I[9]=76
        endif
    endif
    if VV==0 then
        if SA and GN==1 and Z<10 then
            set I[11]=42
        endif
        if(SA and GN==1 and Z<11 and(PB!=null and QM(PB,VN)-QM(NI,VN)<1600))then
            set I[11]=43
        endif
    endif
    if FI!=null and AV!=null and(VV>XV+3 or XV<2)and(D!=null and QM(D,AV)<800)then
        set I[12]=54
    endif
    if C!=null then
        set I[13]=41
    endif
    if FI!=null and N!=null then
        set I[14]=40
    endif
    if TA and HN==2 and FN==1 and Z<10 and not D0()then
        set I[15]=62
    endif
    if UA and HN==2 and FN==2 and Z<10 then
        set I[16]=62
    endif
    set LH=W>800 and(PD>1 or(PD==1 and KA==1))and ZG<=0 and LA!=null and MA>700 and KH>700 and Q>EH-50 and S>135
    if HN!=GN and LH and WL(NI,LA,FI)then
        if T1(50,2)then
            if FP(LA,FI)!=null then
                set CH=1
            endif
        endif
    endif
    if KH<700 or YG<-4 or KH>1800 then
        set CH=0
    endif
    if CH==1 then
        set I[17]=80
    endif
    if Z>10 then
        set NJ=3600
    endif
    if Z>18 then
        set NJ=4600
    endif
    if KH>900 and Q>EH and S>135 and HH==0 and T1(52,2)then
        set FH=H6(NI)
        if FH!=null and SM(NI,FH)<NJ then
            set GH=D6(FH)
            if GH!=null and SM(GH,FH)<1300 and not WL(NI,FH,GH)then
                set HH=1
            endif
        endif
        if HH==0 then
            set GH=D6(NI)
            if GH!=null and SM(NI,GH)<NJ then
                set FH=D6(GH)
                if FH!=null and FH!=NI then
                    if SM(GH,FH)<1300 and not WL(NI,FH,GH)then
                        set HH=1
                    endif
                    if SM(GH,FH)<NJ and SM(GH,FH)>1300 and SM(GH,NI)>1300 and QM(GH,TH)>900 then
                        set HH=1
                    endif
                endif
            endif
        endif
    endif
    if HH>=1 and((FI!=null and W<800)or GL(GH)or SM(NI,GH)>NJ or Q<EH or LU(FH)<EH or YG<-4)then
        set HH=0
    endif
    if HH>=1 then
        set I[18]=55
    endif
    if GN=='g' or GN=='e' then
        if GN==AO then
            set AO=-1
            set GN=I9V(NI)
        endif
    endif
    if GN!=AO then
        if(AO<'d' and(KH<800 or YG<-5 or BH))or(AO>99 and(PD<-1 or YG<-11))then
            set GN=I9V(NI)
            set AO=-1
            set YF=false
            set ZF=false
        endif
    endif
    if FV<-7 and Q<1000 then
        if I[5]<59 then
            set I[5]=59
        endif
    endif
    if FV<-12 and Q<1000 then
        if I[5]<78 then
            set I[5]=78
        endif
    endif
    if VJ!=null and SM(NI,VJ)<'d' then
        call AYV()
    endif
    if DI then
        call AYV()
    endif
endfunction
function A1V takes integer OK returns nothing
    local location AM=null
    if OK==4 then
        call IYV(NI)
    endif
    if OK==5 then
        call AGV(1600)
    endif
    if OK==6 then
        if XYV(NI)and QM(NI,VN)>1800 then
            call XZV(IN)
        endif
        if QM(NI,VN)>1800 then
            set CR=true
        endif
        call AQ(NI,VN,360)
    endif
    if OK==8 then
        call AGV(1800)
        call EZ(1)
    endif
    if OK==9 then
        set FR=0
        set MG=0
        call AGV(1600)
        call EZ(.5)
    endif
    if OK==11 then
        if I[11]==32 then
            call XQ(NI,XN,30)
            call Sleep(.5)
        else
            call E3V(XN)
        endif
    endif
    if OK==12 then
        call AGV(3000)
        call EZ(3.8)
        set SA=true
    endif
    if OK==13 then
        if IQ(NI,C,VB)then
            call CM(NI)
            call EZ(.2)
        else
            call EZ(.5)
        endif
    endif
    if OK==14 then
        if IQ(NI,N,VB)then
            call CM(NI)
            call EZ(.5)
        else
            call EZ(.5)
        endif
    endif
    if OK==15 then
        call E2V(NI)
    endif
    if OK==16 then
        call E0V(NI)
    endif
    if OK==17 then
        if DH!=null then
            call IM(DH,1)
            if XQ(NI,DH,'d')then
                set CH=0
                call EZ(.5)
            else
                call EZ(.8)
            endif
        else
            set CH=0
            call EZ(.5)
        endif
    endif
    if OK==18 then
        if HH==1 and((D!=null and SM(GH,D)<900))then
            call CM(NI)
            call EZ(.8)
        else
            set HH=2
        endif
        if HH==2 then
            set AM=ZM(FH,GH,600,0)
            if XQ(NI,AM,600)or W<800 or YG<-4 or PD<0 then
                set HH=0
                call EZ(.3)
            else
                call EZ(.5)
            endif
            call RemoveLocation(AM)
            set AM=null
        endif
    endif
    if OK==19 and WF!=null then
        call XQ(NI,WF,20)
        call EZ(.5)
    endif
    if OK==75 then
        if D!=null and SM(GI,D)<600 then
            call EZ(.8)
        else
            set JH=2
        endif
        if JH==2 then
            set AM=ZM(H6(NI),H6(NI),600,180)
            if XQ(NI,AM,600)or W<700 then
                set JH=0
            else
                call EZ(.8)
            endif
        endif
    endif
endfunction
function A2V takes nothing returns nothing
    if FI!=null then
        if(FV>1 and YG>1)and OG then
            set I[40]=42
        endif
        if X2V(FI,650)or(W<800 and GK(QM(NI,IN)-QM(FI,IN))<650)then
            set I[40]=52
        endif
        if(X2V(FI,650)or(W<800 and GK(QM(NI,IN)-QM(FI,IN))<650))and FV>4 and YG>-1 then
            set I[41]=53
        endif
        if Q>M and S>P and OG then
            set I[41]=55
        endif
        if PD>0 and YG>-3 and OG then
            set I[41]=58
        endif
        if Q>M+200 and OG then
            set I[41]=63
        endif
        if PD>0 and Q>600 and OG then
            set I[41]=71
        endif
        if(WQ(FI)or VS(FI)or QU(FI)or SU(FI)or TU(FI))and(IV!=5 and IV!=8)then
            set I[41]=74
        endif
        if M<300 and(BW(NI)or Q>=600)and OG then
            set I[41]=76
        endif
        if PD>0 and Q>600 and M<1000 and OG then
            set I[41]=77
        endif
        if PD>1 and Q>600 and OG then
            set I[41]=78
        endif
        if PD>1 and Q>600 then
            set CR=true
            if W>560 and ZG<=0 then
                set DR=true
            endif
        endif
        if CW(FI)and OG then
            set I[41]=78
        endif
        if CW(FI)and W<600 then
            set I[41]=79
        endif
    endif
    if D!=null and Q>300 and(PB!=null and SM(PB,D)<600)then
        if(FI==null or W>1000)and Z>7 then
            set I[42]=49
        endif
    endif
    if FI==null and T>BV and VV==1 and G!=null and Q>500 and Z>3 then
        if XV>0 then
            set I[46]=38
        else
            set I[46]=54
        endif
    endif
    if FI==null and Z>10 and J!=null and GetUnitLevel(J)<8 and Q>300 then
        set I[45]=72
    endif
    if FI==null and T>BV and VV<3 and G!=null and Q>500 and Z>11 then
        if XV>0 then
            set I[46]=46
        else
            set I[46]=54
        endif
    endif
    if FI==null and T>BV and Z>16 and G!=null and Q>500 then
        if XV>0 then
            set I[46]=46
        else
            set I[46]=54
        endif
    endif
    if HI!=null then
        set I[47]=56
    endif
    if D!=null and LU(D)<'x' and Q>300 and FI==null then
        set I[42]='e'
    endif
    if D!=null and LU(D)<60 and(XV>0 or Q>500)then
        set I[42]='e'
    endif
    if F!=null and LU(F)<160 then
        set I[48]=79
    endif
    if CD!=null then
        set I[49]=36
    endif
    if BG!=null and YG>0 then
        set I[70]=52
    endif
    if ZH!=null and DQ(NI,ZH)then
        set I[73]=70
    endif
    if YH!=null then
        set I[73]=50
    endif
endfunction
function A3V takes integer OK returns nothing
    if OK==40 then
        call IZV(FI,VB)
    endif
    if OK==41 then
        if I[41]>=75 and W>600 and XYV(NI)then
            call X0V(FI)
        endif
        if I[41]>=75 and W>600 and XNV(NI)then
            set CR=true
        endif
        if I[41]>=75 and GetUnitMoveSpeed(FI)>380 and XPV(NI)then
            set DR=true
        endif
        if I[41]>=75 and W>600 and XPV(NI)then
            set DR=true
        endif
        if Q>700 or(Q>M+60 and FV>1)then
            call I0V(FI)
        else
            call I1V(FI)
        endif
    endif
    if OK==42 then
        call CQ(D)
        call EZ(.9)
    endif
    if OK==43 then
        call CQ(FI)
        call EZ(.9)
    endif
    if OK==45 and X1V(J,600)then
        call CQ(J)
        call EZ(.9)
    endif
    if OK==46 and X1V(G,600)then
        call CQ(G)
        call EZ(.9)
    endif
    if OK==47 then
        call CQ(HI)
        call EZ(.9)
    endif
    if OK==48 then
        call CQ(F)
        call EZ(.9)
    endif
    if OK==49 and X1V(CD,600)then
        call CQ(CD)
        call EZ(.9)
    endif
    if OK==70 and X1V(BG,600)then
        call I0V(BG)
    endif
    if OK==73 then
        if I[73]==70 then
            call CQ(ZH)
            call EZ(.9)
        endif
        if I[73]==50 then
            call CQ(YH)
            call EZ(.9)
        endif
    endif
endfunction
function A4V takes nothing returns nothing
    if FI!=null then
        if YQ(FI)then
            set CB=620
        endif
        if ZQ(FI)then
            set CB=500
        endif
        if(M<800 or BW(NI))and RG then
            set I[40]=39
        endif
        if YQ(FI)and YG>0 and RG then
            set I[41]=51
        endif
        if not YQ(FI)and YG>0 and RG then
            set I[40]=52
        endif
        if Q>M and S>P and FV>3 and RG and W<300 then
            set I[41]=52
        endif
        if PD>0 and Q>500 and YG>-2 and OG then
            set I[41]=58
        endif
        if Q>M+200 and OG and Q>500 and YG>-2 then
            set I[41]=63
        endif
        if PD>0 and Q>600 and OG then
            set I[41]=71
        endif
        if(WQ(FI)or VS(FI)or QU(FI)or SU(FI)or TU(FI))and(IV!=5 and IV!=8)then
            set I[43]=74
        endif
        if PD>0 and M<800 and Q>500 and OG then
            set I[41]=75
        endif
        if M<300 and(BW(NI)or Q>=600)and OG then
            set I[41]=76
        endif
        if PD>1 and Q>500 and OG then
            set I[41]=77
        endif
        if CW(FI)then
            set I[41]=78
        endif
        if CW(FI)and W<300 then
            set I[41]=79
        endif
    endif
    if D!=null and Q>300 and(PB!=null and SM(PB,D)<600)then
        if(FI==null or W>1000)and Z>7 then
            set I[42]=49
        endif
    endif
    if FI==null and Z>10 and J!=null and GetUnitLevel(J)<8 and Q>300 then
        set I[45]=72
    endif
    if FI==null and VV<3 and G!=null and Q>500 and Z>11 then
        if XV>0 then
            set I[46]=40
        else
            set I[46]=54
        endif
    endif
    if FI==null and Z>16 and G!=null and Q>500 then
        if XV>0 then
            set I[46]=40
        else
            set I[46]=54
        endif
    endif
    if HI!=null then
        set I[47]=70
    endif
    if D!=null and LU(D)<'x' and Q>300 and FI==null then
        set I[42]='e'
    endif
    if D!=null and LU(D)<60 and(XV>0 or Q>500)then
        set I[42]='e'
    endif
    if F!=null and LU(F)<160 then
        set I[48]=79
    endif
    if CD!=null and(Z>6 or FI==null)then
        set I[49]=36
    endif
    if BG!=null and YG>0 then
        set I[70]=52
    endif
endfunction
function A5V takes integer OK returns nothing
    if OK==40 then
        call I_V(FI,200)
    endif
    if OK==41 then
        if I[41]>=75 and W>600 and XYV(NI)then
            call X0V(FI)
        endif
        if I[41]>=75 and W>600 then
            set CR=true
        endif
        if I[41]>=75 and GetUnitMoveSpeed(FI)>400 and XPV(NI)then
            set DR=true
        endif
        if I[41]>=75 and W>500 and XPV(NI)then
            set DR=true
        endif
        call I2V(FI)
    endif
    if OK==42 then
        call CQ(D)
        call EZ(.9)
    endif
    if OK==43 then
        call CQ(FI)
        call EZ(.9)
    endif
    if OK==45 and X1V(J,260)then
        call CQ(J)
        call EZ(.9)
    endif
    if OK==46 and X1V(G,260)then
        call CQ(G)
        call EZ(.9)
    endif
    if OK==47 then
        call CQ(HI)
        call EZ(.9)
    endif
    if OK==48 then
        call CQ(F)
        call EZ(.9)
    endif
    if OK==49 and X1V(CD,260)then
        call CQ(CD)
        call EZ(.9)
    endif
    if OK==70 and X1V(BG,220)then
        call I2V(BG)
    endif
endfunction
function A6V takes nothing returns nothing
    if not GG then
        if YQ(NI)then
            call A2V()
        else
            call A4V()
        endif
    endif
    if R0()or I0()or F0()or J0()then
        call A2V()
    endif
    if A0()or C0()or B0()or D0()or H0()or N0()or G0()or K0()then
        call A4V()
    endif
    if FI!=null and Q>700 and(W<700 or ZG>0)then
        if FV>1 and YG>-4 then
            if I[41]<60 then
                set I[41]=60
            endif
        endif
        if FV>8 and YG>-4 then
            if I[41]<77 then
                set I[41]=77
            endif
        endif
        if PD>0 then
            set I[41]=77
        endif
    endif
    if KH>800 and LI!=null and(not BH)then
        set I[44]=54
    endif
    if KH>800 and JI!=null and T>771 then
        set I[44]=78
    endif
    if BF!=null then
        set I[71]=51
        if FI==null then
            set FI=BF
        endif
    endif
    if SH!=null and JL(SH)and(AO=='f' or AO=='g' or GN=='f' or GN=='g')and SM(NI,SH)<1300 then
        set I[72]=71
    endif
    if(GL(SH)and QM(NI,TH)<800)then
        set AO=1
    endif
    if QM(NI,TH)<800 and Q<600 then
        set I[8]=57
    endif
endfunction
function A7V takes integer OK returns nothing
    if OK==44 then
        if D!=null and SM(NI,D)<771 then
            call CQ(D)
            call EZ(.9)
            return
        endif
        if G!=null and SM(NI,G)<600 then
            call CQ(G)
            call EZ(.9)
            return
        endif
        if JI!=null then
            call CQ(JI)
            call EZ(.9)
        else
            call CQ(LI)
            call EZ(.9)
        endif
    endif
    if OK==45 then
        if X1V(J,600)then
            if X6V()then
                call X8V(J)
            endif
            if R0V()then
                call R1V(J)
            endif
            if R4V()then
                call R5V(NI)
            endif
            if IVV()then
                call IEV(J)
            endif
            if OHV()and NW(J)>50 then
                call OJV(J)
            endif
            if OKV()and NW(J)>50 then
                call OLV(J)
            endif
            if IFV()then
                call IHV(J)
            endif
            if RDV()then
                call RGV(J)
            endif
        endif
        if X1V(J,160)then
            if R6V()then
                call R7V()
            endif
            if RMV()then
                call RPV()
            endif
        endif
    endif
    if OK==71 then
        call CQ(BF)
        call Sleep(.9)
    endif
    if OK==72 then
        if not B0()then
            if JA==0 then
                if G!=null then
                    call CQ(G)
                    call OL("NearestEnemyBubing")
                endif
                call Sleep(.8)
                call CM(NI)
                return
            endif
        endif
        call AZV()
    endif
endfunction
function A8V takes integer OK returns nothing
    if not GG then
        if YQ(NI)then
            call A3V(OK)
        else
            call A5V(OK)
        endif
    endif
    if R0()or I0()or F0()or J0()or M0()or P0()then
        call A3V(OK)
    endif
    if A0()or C0()or B0()or D0()or H0()or N0()or G0()or K0()then
        call A5V(OK)
    endif
    if Q0()or L0()then
        call A5V(OK)
    endif
    call A7V(OK)
endfunction
function A9V takes nothing returns nothing
    local location AM=null
    local location NVV=null
    local integer AAV=0
    set AAV=GetStoredInteger(DV,"maintimer","testtime")
    if Q6()then
        set AAV=GetStoredInteger(DV,"maintimer","testtime")
        if K1(SG)then
            return
        endif
        set NVV=GetUnitLoc(NI)
        set AM=GP(NVV,SG,-500)
        call XQ(NI,AM,30)
        call Sleep(1.1)
        call RemoveLocation(AM)
        set AM=null
        call RemoveLocation(NVV)
        set NVV=null
        return
    endif
    if U6()then
        set AM=LP(NI,FI,-300)
        call XQ(NI,AM,30)
        call Sleep(.9)
        call RemoveLocation(AM)
        set AM=null
        return
    endif
    if S6()then
        call P1()
        return
    endif
    call J1()
endfunction
function NEV takes nothing returns nothing
    if FI!=null then
        if(PU(NI)and P>550)then
            if XYV(NI)then
                set I[20]='i'
            endif
            set CR=true
            if XFV(NI)then
                set I[21]='f'
            endif
            if XTV(NI)then
                set I[22]='g'
            endif
            if XXV(NI)then
                set I[33]='h'
            endif
        endif
        if NW(NI)<40 and KA>1 and KH<500 and XXV(NI)then
            set I[33]=91
        endif
        if not OEV()or not OQV()then
            if XTV(NI)then
                set I[23]='d'
            endif
        endif
        if M>1800 or BW(FI)then
            if XTV(NI)then
                set I[23]='d'
            endif
        endif
        if M<600 then
            if XTV(NI)then
                set I[23]='d'
            endif
        endif
        if CW(FI)and W>500 then
            if XYV(NI)then
                set I[24]='e'
            endif
            set CR=true
        endif
        if M>1000 and not OEV()and not OQV()then
            if XTV(NI)then
                set I[23]='d'
            endif
        endif
        if W6()then
            if not GW(NI)then
                set I[25]=85
            endif
        endif
        if Z6()then
            if not GW(NI)then
                set I[25]=95
            endif
        endif
    endif
    if VH==1 and XYV(NI)then
        call XZV(IN)
        set VH=0
        set CR=false
        set I[34]='h'
    endif
    if VH==2 and XYV(NI)then
        call X0V(FI)
        set I[34]='h'
        set VH=0
        set CR=false
    endif
    if CR then
        if XNV(NI)then
            call XBV()
        endif
    endif
    set VH=0
    set CR=false
    if FI!=null and XJV(NI)then
        call XKV(FI)
    endif
    if MU(NI)>200 and XCV(NI)then
        call XDV()
    endif
    if XLV(NI)and MU(NI)>300 then
        set I[29]='h'
    endif
    if DR and not XPV(NI)then
        set DR=false
    endif
    if FI!=null and DR and XPV(NI)and T1(60,3)then
        set I[30]='l'
    endif
    if QA<1100 and MU(PA)>300 and XCV(NI)and X1V(PA,400)then
        call XDV()
    endif
    if GD!=null and(GetItemTypeId(GD)==UE or GetItemTypeId(GD)==WE or GetItemTypeId(GD)==YE or GetItemTypeId(GD)==ZE or GetItemTypeId(GD)==VX)then
        set I[32]=80
    endif
    if GD!=null and GetItemTypeId(GD)=='I00O' and MU(NI)>300 then
        set I[32]=78
    endif
    if GD!=null and B0()and GetItemTypeId(GD)==XO and QH then
        set I[32]='f'
    endif
    if QA<800 and MU(PA)>500 and YK(PA)and not UU(PA)and UP(PA,'hslv')<1 and KH>800 and SM(NI,G)>600 then
        set I[35]=70
    endif
    if GD!=null and B0()and GetItemTypeId(GD)==OO and QH and GetWidgetLife(GD)>0 then
        set I[39]='g'
        call GQ(GD)
        call Sleep(1)
    endif
endfunction
function NXV takes nothing returns nothing
    local location AM=null
    if RDV()then
        if FI!=null then
            call RGV(FI)
        else
            call RGV(PG)
        endif
        return
    endif
    if PZ(NI,HO,"whirlwind")then
        call Sleep(.3)
        return
    endif
    set AM=GetUnitLoc(GI)
    if NZ(NI,GO,"dispel",AM)then
        call Sleep(1.2)
        call CQ(FI)
        call Sleep(1)
    endif
    call RemoveLocation(AM)
    set AM=null
    if MD then
        if IXV()then
            call IOV(PG)
            return
        endif
        if RRV()and SM(NI,PG)<300 then
            call RIV(PG)
            return
        endif
        if XTV(NI)then
            call XUV(PG)
            return
        endif
    endif
    if KA>1 and XXV(NI)then
        call XOV()
        return
    endif
    if RTV()then
        call RUV()
        return
    endif
    if XYV(NI)then
        call XZV(IN)
        return
    endif
    if I[25]==85 then
        call A9V()
        return
    endif
    if I[25]>85 then
        if R2V()then
            call R3V(PG)
            return
        endif
        if XXV(NI)then
            call XOV()
            return
        endif
        if RTV()then
            call RUV()
            return
        endif
        set CR=true
        if S6()then
            if MD then
                if XFV(NI)then
                    call Sleep(.36)
                    call XGV(PG)
                    return
                endif
            endif
            call P1()
        else
            call A9V()
        endif
    endif
endfunction
function NOV takes integer OK returns nothing
    local location AM=null
    if OK==20 and FI!=null then
        call Sleep(5.7)
        call XZV(IN)
        call Sleep(.3)
        call AGV(3000)
        call Sleep(2)
    endif
    if OK==21 and FI!=null then
        call Sleep(5.7)
        call XGV(FI)
        call Sleep(.5)
        call AGV(3000)
        call Sleep(3)
    endif
    if OK==22 and FI!=null then
        call Sleep(5.7)
        call XUV(FI)
        call Sleep(.3)
    endif
    if OK==23 and FI!=null then
        call XUV(FI)
    endif
    if OK==24 and FI!=null then
        set AM=LP(FI,NI,-200)
        call XZV(AM)
        call RemoveLocation(AM)
        set AM=null
    endif
    if OK==25 then
        set MG=0
        set FR=0
        call NXV()
        set PG=null
        set UG=0
    endif
    if OK==26 then
    endif
    if OK==27 and FI!=null and X1V(FI,790)then
        call XKV(FI)
    endif
    if OK==28 then
        call XDV()
    endif
    if OK==29 then
        call XMV(NI)
    endif
    if OK==30 and FI!=null and X1V(FI,700)then
        call XQV(FI)
        set DR=false
    endif
    if OK==31 and X1V(PA,400)then
        call XDV()
    endif
    if OK==32 then
        if GetItemTypeId(GD)==XO then
            if EL(NI)==0 then
                if UnitDropItemPoint(NI,TP(NI,'I01R'),GetUnitX(NI),GetUnitY(NI))then
                    call Sleep(.5)
                endif
                if UnitDropItemPoint(NI,TP(NI,TF[4]),GetUnitX(NI),GetUnitY(NI))then
                    call Sleep(.5)
                endif
                if UnitDropItemPoint(NI,TP(NI,UF[4]),GetUnitX(NI),GetUnitY(NI))then
                    call Sleep(.5)
                endif
                if UnitDropItemPoint(NI,TP(NI,TF[5]),GetUnitX(NI),GetUnitY(NI))then
                    call Sleep(.5)
                endif
                if UnitDropItemPoint(NI,TP(NI,UF[5]),GetUnitX(NI),GetUnitY(NI))then
                    call Sleep(.5)
                endif
                if UnitDropItemPoint(NI,TP(NI,IO),GetUnitX(NI),GetUnitY(NI))then
                    call Sleep(.5)
                endif
            endif
            if EL(NI)==0 then
                if UnitDropItemPoint(NI,TP(NI,'I004'),GetUnitX(NI),GetUnitY(NI))then
                    call Sleep(.5)
                endif
            endif
        endif
        call MQ(NI,GD)
        call T2()
    endif
    if OK==33 then
        if XOV()then
            return
        endif
        if RTV()then
            call RUV()
            return
        endif
    endif
    if OK==34 then
        call Sleep(.001)
    endif
    if OK==35 then
        call CU(NI,'hslv',PA,.15)
    endif
endfunction
function NRV takes nothing returns integer
    local real Z4=999999
    local integer OK=0
    local integer ri=-1
    loop
        exitwhen OK>2 or AN[OK]==null
        if AN[OK]!=null and VM(VN,AN[OK])<Z4 then
            set Z4=VM(VN,AN[OK])
            set ri=OK
        endif
        set OK=OK+1
    endloop
    return ri
endfunction
function NIV takes nothing returns nothing
    local boolean NAV=false
    local boolean NNV=false
    local integer NBV=-1
    local integer NCV=51
    local integer NDV=-1
    local integer bangbianlu=-1
    local boolean NFV=false
    local integer NGV=-1
    if not LD then
        return
    endif
    if T<1200 then
        set NCV=55
    endif
    if RA>0 and NA>0 and GN!=1 then
        set NAV=true
    endif
    if GN==1 and HN!=1 and(Q<500 or Q<130 or NA==0 or QM(FI,AN[1])>1200 or LU(PA)<500 or IS(PA)<200)then
        set NNV=true
    endif
    if R0()or I0()then
    endif
    if OA>0 and AA>0 and((GN==1 and Z>7 and Q>500 and S>300)or NNV)then
        if(D!=null and QM(D,AV)<1000)or(RF[0]==null or QM(RF[0],AN[0])>2000)then
            set NDV=0
        endif
    endif
    if IA>0 and BA>0 and((GN==1 and Z>7 and Q>500 and S>300)or NNV)then
        if(D!=null and QM(D,AV)<1000)or(RF[2]==null or QM(RF[2],AN[2])>2000)then
            set NDV=2
        endif
    endif
    if GN==0 and HN!=0 and(AA==0 or Q<500 or S<'d' or QM(D,AV)<1000)then
        set NDV=1
        set NFV=true
    endif
    if GN==2 and HN!=2 and(BA==0 or Q<500 or S<'d' or QM(D,AV)<1000)then
        set NDV=1
        set NFV=true
    endif
    if D0()then
        if NAV and Z>1 and Q>550 and RWV()then
            set NDV=1
        endif
    endif
    if B0()then
        if NAV and Z>5 and Q>550 and RBV()then
            set NDV=1
        endif
    endif
    if C0()then
        if NAV and Z>10 and XWV(NI)and Q>550 and RMV()then
            set NDV=1
        endif
    endif
    if A0()then
        if NAV and Z>15 and Q>550 and RAV()then
            set NDV=1
        endif
    endif
    if K0()then
        if NAV and Z>15 and Q>550 and IUV()then
            set NDV=1
        endif
    endif
    if H0()then
        if NAV and Z>5 and Q>550 and R6V()then
            set NDV=1
        endif
    endif
    if F0()then
        if NAV and Z>5 and Q>550 and R2V()then
            set NDV=1
        endif
    endif
    if N0()then
        if NAV and Z>7 and Q>550 and RXV()then
            set NDV=1
        endif
    endif
    if J0()then
        if NAV and Z>5 and ILV()and Q>550 then
            set NDV=1
        endif
    endif
    if G0()then
        if NAV and Z>2 and Q>550 and(IAV()or IVV())then
            set NDV=1
        endif
    endif
    if not GG and NAV then
        if FG==0 and Q>600 and S>200 and Z>3 then
            set NDV=1
        endif
        if FG==1 and Q>700 and Z>10 then
            set NDV=1
        endif
        if FG==2 and Q>700 and Z>8 then
            set NDV=1
        endif
    endif
    if NNV then
        if NDV==-1 or NDV==GN then
            set NDV=HN
        endif
    endif
    set NBV=NRV()
    if AS()>25*60 and Z>11 then
        set ND=9999
        set NNV=false
        set NFV=false
        set NDV=-1
        if DF[1]!=null and JL(DF[1])then
            set NDV=1
        endif
        if DF[2]!=null and JL(DF[2])then
            set NDV=2
        endif
        if DF[0]!=null and JL(DF[0])then
            set NDV=0
        endif
        if NBV>-1 and NBV!=GN and VM(VN,AN[NBV])<9000 and J6(AN[NBV],2500)>1 then
            set NDV=NBV
        endif
    endif
    if AS()>46*60 and NF!=null and not IG then
        set NNV=false
        set NFV=false
        if FN==1 then
            set NDV=2
        endif
        if FN==2 then
            set NDV=0
        endif
    endif
    if NBV>-1 and NBV!=GN and VM(VN,AN[NBV])<5000 then
        set NCV=56
        if NBV==0 and AA>1 then
            set NGV=NBV
        endif
        if NBV==1 and NA>1 then
            set NGV=NBV
        endif
        if NBV==2 and BA>1 then
            set NGV=NBV
        endif
        if AO<99 and NGV>-1 then
            set AO=NBV
        endif
    endif
    if NDV>-1 then
        if T1(85,50)then
            if AO<99 then
                set AO=NDV
            endif
        endif
    endif
    if NFV or(NNV and Z<16)then
        set AO=NDV
    endif
    if AO>-1 and GN!=AO then
        if AO>99 then
            set NCV=55
        endif
        if AO=='g' then
            set NCV=57
        endif
        if AO=='e' or(AO>='h' and AO<='j')then
            set NCV=79
        endif
        set I[90+AO]=NCV
        if AO>99 then
            set I[99]=NCV
        endif
    endif
endfunction
function NHV takes integer NJV,real DP returns location
    local integer i=0
    if NJV==0 then
        loop
            exitwhen(YA[i+1]==null or i==20)
            if DP>=VM(VN,YA[i])and DP<VM(VN,YA[i+1])then
                return YA[i+1]
            endif
            set i=i+1
        endloop
        return YA[i]
    endif
    set i=0
    if NJV==1 then
        loop
            exitwhen(WA[i+1]==null or i==20)
            if DP>=VM(VN,WA[i])and DP<VM(VN,WA[i+1])then
                return WA[i+1]
            endif
            set i=i+1
        endloop
        return WA[i]
    endif
    set i=0
    if NJV==2 then
        loop
            exitwhen(ZA[i+1]==null or i==20)
            if DP>=VM(VN,ZA[i])and DP<VM(VN,ZA[i+1])then
                return ZA[i+1]
            endif
            set i=i+1
        endloop
        return ZA[i]
    endif
    if NJV>99 then
        return AN[NJV]
    endif
    return null
endfunction
function NKV takes integer id returns nothing
    local real NLV=0
    local real NMV=0
    local location NPV=null
    if id<0 then
        return
    endif
    if JN!=id then
        set YF=false
        set JN=id
    endif
    if QM(NI,EN)<4000 then
        call AGV(1000)
        call Sleep(2)
    endif
    set NLV=VM(VN,AN[id])
    set NMV=QM(NI,VN)
    if NMV<=NLV then
        set NPV=NHV(id,NMV)
        if XQ(NI,NPV,1200)then
            set GN=id
            set YF=false
            set ZF=false
            set NPV=null
            call EZ(.3)
            return
        else
            call EZ(.8)
        endif
    endif
    if NMV>NLV then
        if not YF then
            set NPV=NHV(GN,NLV)
            if XQ(NI,NPV,800)then
                set YF=true
            else
                call EZ(.8)
            endif
        endif
        if YF and XQ(NI,AN[id],1200)then
            set GN=id
            set YF=false
            set ZF=false
        else
            call EZ(.8)
        endif
    endif
    set NPV=null
endfunction
function NQV takes integer OK returns nothing
    if OK==90 then
        call NKV(0)
    endif
    if OK==91 then
        call NKV(1)
    endif
    if OK==92 then
        call NKV(2)
    endif
    if OK==93 then
    endif
    if OK==99 then
        call NKV(AO)
    endif
endfunction
function NSV takes nothing returns integer
    local integer HS=1
    set HS=JY(NI,'A07A')
    if HS==1 then
        return 75
    endif
    if HS==2 then
        return '}'
    endif
    if HS==3 then
        return 175
    endif
    if HS==4 then
        return 275
    endif
    return 0
endfunction
function NTV takes nothing returns integer
    local integer HS=JY(NI,'A03O')
    if HS==1 then
        return 90
    endif
    if HS==2 then
        return 150
    endif
    if HS==3 then
        return 200
    endif
    if HS==4 then
        return 250
    endif
    return 0
endfunction
function NUV takes nothing returns integer
    return NSV()+NTV()+60
endfunction
function NWV takes nothing returns integer
    local integer HS=JY(NI,'A041')
    if HS==1 then
        return 400
    endif
    if HS==2 then
        return 500
    endif
    if HS==3 then
        return 600
    endif
    return 0
endfunction
function NYV takes nothing returns integer
    return NSV()+NTV()+NWV()
endfunction
function NZV takes nothing returns integer
    return NYV()+NUV()+'d'
endfunction
function N_V takes nothing returns integer
    local integer HS=1
    set HS=JY(NI,'A087')
    if HS==1 then
        return 80
    endif
    if HS==2 then
        return 145
    endif
    if HS==3 then
        return 205
    endif
    if HS==4 then
        return 265
    endif
    return 0
endfunction
function N0V takes nothing returns integer
    local integer HS=1
    set HS=JY(NI,'A085')
    if HS==1 then
        return 70
    endif
    if HS==2 then
        return 'x'
    endif
    if HS==3 then
        return 170
    endif
    if HS==4 then
        return 220
    endif
    return 0
endfunction
function N1V takes nothing returns integer
    local integer HS=1
    set HS=JY(NI,'A083')
    if HS==1 then
        return 400
    endif
    if HS==2 then
        return 640
    endif
    if HS==3 then
        return 880
    endif
    return 0
endfunction
function N2V takes nothing returns integer
    local integer HS=0
    local real f=.85
    set HS=JY(NI,'A083')
    if HS==1 then
        return R2I(175*f)
    endif
    if HS==2 then
        return R2I(250*f)
    endif
    if HS==3 then
        return R2I(325*f)
    endif
    return 0
endfunction
function N3V takes nothing returns nothing
    local integer i=0
    loop
        exitwhen i==10
        set RV[i]=0
        set i=i+1
    endloop
    if I0()then
        if X4V()then
            set RV[0]=NSV()
        endif
        if X6V()then
            set RV[1]=NTV()
        endif
        if X3V()then
            set RV[2]=NUV()
        endif
        if ONV()then
            set RV[3]=NYV()
        endif
        if OCV()then
            set RV[4]=NYV()
        endif
        if OIV()then
            set RV[5]=NYV()
            if VV>3 then
                set RV[5]=RV[5]+XV*30
            endif
        endif
        if OFV()then
            set RV[6]=NZV()
        endif
    endif
    if R0()then
        if OHV()then
            set RV[0]=N_V()
        endif
        if OPV()then
            set RV[1]=N0V()+N_V()
        endif
        if O2V()then
            set RV[2]=N_V()+N0V()+R2I(N1V()*1.5)
        endif
        if O0V()then
            set RV[3]=N_V()+N0V()+R2I(N1V()*1.5)
        endif
        if O4V()then
            set RV[4]=N_V()+N0V()+R2I(N1V()*1.2)
        endif
        if OQV()and W>600 then
            set RV[5]=R2I(N1V()*.5)
        endif
        if OZV()and W>600 then
            set RV[6]=R2I((N1V()+N_V())*.5)
        endif
    endif
endfunction
function N4V takes nothing returns integer
    local integer i=0
    call N3V()
    loop
        exitwhen i==10
        if R0()then
        endif
        if RV[i]>M then
            return i
        endif
        set i=i+1
    endloop
    return-1
endfunction
function N5V takes nothing returns nothing
    local integer OK=-1
    if not I0()then
        return
    endif
    if FI!=null and MD then
        set OK=N4V()
        if(M>1000)and S>300 and T>1100 and W<700 and X3V()and OG then
            set I[52]=82
        endif
        if PD>0 and X3V()and OG then
            set I[52]=82
        endif
        if(M>600 or BW(FI)or(M>300 and Z<5))and T>1100 and S>300 and W<710 and X4V()and OG then
            set I[50]=81
        endif
        if OK>=0 and YG>-4 and(W<900 or ZG>0)then
            set K=true
            set I[50+OK]=99
        endif
        if I[55]>90 then
            set I[55]=83
        endif
        if GetUnitCurrentOrder(FI)==851986 then
            set I[55]=0
        endif
    endif
    if M<NUV()+30+5*Z and YG>-1 and Q>N_V()+'d' and OG then
        if I[41]<68 then
            set I[41]=68
        endif
    endif
    if(YG<-5 or(not IsUnitType(FI,UNIT_TYPE_HERO)))then
        set I[53]=0
        set I[56]=0
    endif
    if(YG<-6 or Q<N_V()+80)and W>600 and PD<1 and ZG<=0 then
        set I[50]=0
        set I[51]=0
        set I[52]=0
    endif
    if FI==null and G!=null and VV>2 and Z>6 and X3V()then
        if S>1200 or AW(NI)then
            set I[59]=58
        endif
    endif
    if D!=null and LU(D)<260 and Q>200 and X6V()then
        set I[60]='f'
    endif
    if D!=null and LU(D)>600 and Q>600 and W>1100 and T<700 and X6V()then
        set I[61]=69
    endif
    if MD and VS(FI)and M>900 and JA>0 and OEV()then
        set I[62]=84
    endif
    if JI!=null and X6V()and SM(NI,JI)<1000 then
        set I[63]=50
    endif
    if BG!=null and X6V()and YG>-2 and KH>900 then
        set I[64]=59
    endif
endfunction
function N6V takes integer OK returns nothing
    if not I0()then
        return
    endif
    if OK==50 and X1V(FI,600)then
        if K then
            if XYV(NI)then
                call X0V(FI)
            endif
            if XTV(NI)then
                call XUV(FI)
            endif
        endif
        call X5V(FI)
        call CQ(FI)
        call Sleep(.9)
    endif
    if OK==51 and X1V(FI,600)then
        if K then
            if XYV(NI)then
                call X0V(FI)
            endif
            if XTV(NI)then
                call XUV(FI)
            endif
        endif
        call X9V(FI)
        call CQ(FI)
    endif
    if OK==52 then
        if K and XYV(NI)and X1V(FI,1300)then
            call X0V(FI)
        endif
        if PD>1 and XYV(NI)and W>650 and X1V(FI,1200)then
            call X0V(FI)
        endif
        if K and X1V(FI,600)then
            if XTV(NI)then
                call XUV(FI)
            endif
        endif
        if X1V(FI,600)then
            call ORV(FI)
            call CQ(FI)
            call Sleep(.9)
        endif
    endif
    if OK==53 then
        if X1V(FI,600)then
            if ONV()then
                call OBV(FI)
                call CQ(FI)
            endif
        endif
    endif
    if OK==54 then
        if X1V(FI,600)and OCV()then
            call ODV(FI)
            call CQ(FI)
            call Sleep(.9)
        endif
    endif
    if OK==55 then
        if X1V(FI,900)then
            call OAV(FI)
            call CQ(FI)
            call Sleep(.9)
        endif
    endif
    if OK==56 then
        if X1V(FI,600)then
            call OGV(FI)
        endif
    endif
    if OK==59 and G!=null then
        if X1V(G,590)then
            call ORV(G)
        endif
    endif
    if OK==60 and X1V(D,600)then
        call X8V(D)
    endif
    if OK==61 and X1V(D,600)then
        call X8V(D)
    endif
    if OK==62 and X1V(FI,800)then
        call OOV(FI)
        call CQ(FI)
        call Sleep(.9)
        if X6V()and SM(NI,FI)<650 then
            call X8V(FI)
        endif
        call CQ(FI)
        call Sleep(.9)
    endif
    if OK==63 and X1V(JI,590)then
        call X8V(JI)
    endif
    if OK==64 and X1V(BG,500)then
        call OVV(BG)
    endif
endfunction
function N7V takes nothing returns nothing
    local integer OK=-1
    if not R0()then
        return
    endif
    if MD then
        set OK=N4V()
        if(BW(FI)or M>1500)and OHV()and OKV()and S>300 and T>1100 and W<700 then
            set I[59]=81
        endif
        if WQ(FI)and OKV()then
            set I[57]=82
        endif
        if(M<300 or(M<N0V()+'n'+Z*10))and OKV()and OG then
            set I[57]=81
        endif
        if OHV()and S>500 and T>1100 and W<=700 and(FV>2 or I[41]>50)then
            set I[50]=83
        endif
        if OHV()and S>280 and T>1100 and W<=700 and(I[41]>56 or FV>2)then
            set I[50]=83
        endif
        if PD>0 and OHV()and OG then
            set I[50]=83
        endif
        if OK>=0 and YG>-8 and(W<900 or ZG>0)then
            set K=true
            set I[50+OK]=99
        endif
    endif
    if(XV==0 and VV>3)or(XV==1 and VV>6)then
        set I[53]=0
    endif
    if FI==null and MB!=null and TB<N_V()and VV>2 and Z>7 and OHV()then
        if S>1200 or AW(NI)then
            set I[59]=58
        endif
    endif
    if FI!=null and MB!=null and TB<N_V()and VV>1 and Z>2 and OHV()then
        if S>600 or AW(NI)then
            set I[59]=58
        endif
    endif
    if MD and M<1600 and Q>EH and OKV()and OQV()and T>1000 and S>550 and OG then
        set I[60]=86
    endif
    if N2V()>DA and IsUnitVisible(CA,V)and SM(D6(CA),CA)>600 and OQV()and not GW(CA)then
        set I[61]='d'
    endif
    if CW(NI)and KA>1 and OQV()then
        set I[62]='d'
    endif
    if FI!=null and GW(FI)and W<300 and OQV()and Q>800 and(I[5]<60 and I[8]<60)and OG then
        set I[63]=99
    endif
    if MD and VS(FI)and OKV()and OQV()and(M>900 or PD<1)then
        set I[60]='d'
    endif
    if MD and(VS(FI)or GetUnitMoveSpeed(FI)<280)and OKV()then
        set I[57]=91
    endif
    if MD and OKV()and Q>EH and OHV()and M<N_V()+N0V()+'x'+Z*10 and S>295 and T>1000 and I[5]<60 and OG then
        set I[58]=85
    endif
    if((M<500 or(PD>1 and M<1000))and KA==1)or(not IsUnitType(FI,UNIT_TYPE_HERO))then
        set I[52]=0
    endif
    if(YG<-5 and PD<=0)then
        set I[56]=0
    endif
    if Q<EH-20 and PD<=0 and(W>620)then
        set I[56]=0
    endif
endfunction
function N8V takes integer OK returns nothing
    if not R0()then
        return
    endif
    if OK==50 then
        if K then
            if XYV(NI)then
                call X0V(FI)
            endif
            if XTV(NI)then
                call XUV(FI)
            endif
        endif
        call OJV(FI)
        call CQ(FI)
    endif
    if OK==51 then
        if K then
            if XYV(NI)then
                call X0V(FI)
            endif
            if XTV(NI)then
                call XUV(FI)
            endif
        endif
        if X1V(FI,600)then
            call OLV(FI)
            call OJV(FI)
            call CQ(FI)
        endif
    endif
    if OK==52 then
        if X1V(FI,600)then
            call O3V(FI)
            call CQ(FI)
        endif
    endif
    if OK==53 then
        if X1V(FI,800)then
            call O1V(FI)
            call CQ(FI)
        endif
    endif
    if OK==54 then
        if X1V(FI,600)then
            call O5V(FI)
            call CQ(FI)
        endif
    endif
    if OK==55 then
        if X1V(FI,700)then
            call OYV(FI)
            call CQ(FI)
        endif
    endif
    if OK==56 then
        if X1V(FI,700)then
            call O_V(FI)
            call CQ(FI)
        endif
    endif
    if OK==57 then
        if PD>1 and W>650 and XYV(NI)then
            call X0V(FI)
        endif
        if X1V(FI,600)then
            if OMV(FI)then
                call I0V(FI)
            endif
        endif
    endif
    if OK==58 and X1V(FI,600)then
        if OMV(FI)then
            call I0V(FI)
            call Sleep(.1)
            call OJV(FI)
        endif
    endif
    if OK==59 and MB!=null then
        if X1V(MB,700)then
            call OJV(MB)
        endif
    endif
    if OK==60 and X1V(FI,600)then
        if OMV(FI)then
            if OQV()then
                call OYV(FI)
            endif
            if OHV()then
                call OJV(FI)
            endif
        endif
    endif
    if OK==61 then
        call OSV()
    endif
    if OK==62 then
        call OUV()
    endif
    if OK==63 then
        call OTV()
    endif
endfunction
function N9V takes nothing returns nothing
    if not N0()then
        return
    endif
    if MD then
        if(M>1500)and T>1100 and OG and RXV()and Z>3 then
            set I[51]=69
        endif
        if M<900 and RXV()and OG then
            set I[51]=81
        endif
        if PD>0 and RXV()and OG then
            set I[51]=83
        endif
        if M<900 and RXV()and XYV(NI)then
            set I[52]=81
        endif
    endif
    if FI==null and G!=null and VV>2 and Z>7 and O6V()then
        if S>300 or AW(NI)then
            set I[50]=52
        endif
    endif
    if FI!=null and BY(FI)and GW(FI)then
    endif
endfunction
function BVV takes integer OK returns nothing
    local location AM=null
    if not N0()then
        return
    endif
    if OK==50 and X1V(G,'x')then
        call O8V(G)
    endif
    if OK==51 then
        if PD>0 and W>400 and XYV(NI)then
            call XZV(AM)
            call ROV(FI)
        endif
        if X1V(FI,400)then
            call ROV(FI)
        endif
    endif
    if OK==52 and X1V(FI,800)then
        set AM=LP(FI,NI,-'x')
        call XZV(AM)
        call ROV(FI)
    endif
    if OK==53 then
        set AM=LP(NI,FI,900)
        if XYV(NI)then
            call XZV(AM)
        endif
        call AGV(3000)
        call Sleep(2)
    endif
    if AM!=null then
        call RemoveLocation(AM)
        set AM=null
    endif
endfunction
function BEV takes nothing returns nothing
    if not A0()then
        return
    endif
    if MD and RRV()then
        if(BW(FI)or M>1500)and T>1100 and W<300 then
            set I[50]=86
        endif
    endif
    if MD and RRV()then
        if(M<300)and T>1100 and W<300 then
            set I[50]=99
        endif
    endif
    if FI!=null and RAV()then
        set I[51]=85
    endif
    if FI!=null and BY(NI)and Q>600 then
        set I[52]=87
    endif
    if FI!=null and GW(NI)and BY(NI)and Q>500 then
        set I[52]=95
    endif
    if FI!=null and RAV()and XXV(NI)then
        set I[53]=97
    endif
    if BG!=null and GetUnitMoveSpeed(BG)<350 and BY(NI)and Q>660 and KH>700 then
        set I[54]=88
        if GW(NI)then
            set I[54]=96
        endif
    endif
    if GI!=null and(IV==5 or IV==8)and not GW(GI)and W<300 and RRV()then
        set I[55]=81
    endif
endfunction
function BXV takes integer OK returns nothing
    if not A0()then
        return
    endif
    if OK==50 and X1V(FI,220)then
        call RIV(FI)
        call CQ(FI)
        call Sleep(.8)
    endif
    if OK==51 and X1V(FI,700)then
        call RNV()
    endif
    if OK==52 then
        if(W>500 or GetUnitMoveSpeed(FI)>390)and XPV(NI)then
            set DR=true
        endif
        call CQ(FI)
        call Sleep(1)
    endif
    if OK==53 and X1V(FI,700)then
        call XOV()
        call Sleep(.2)
        call RNV()
    endif
    if OK==54 then
        call CQ(BG)
        call Sleep(1)
    endif
    if OK==55 and X1V(GI,220)then
        call RIV(GI)
        call AGV(1000)
    endif
endfunction
function BOV takes nothing returns nothing	// GuanYu spell condition
    if not B0()then
        return
    endif
    if T1(57,2.6)then
        if not MH and VQ(NI,XO)>0 then
            set MH=true
        endif
        if not PH and VQ(NI,RO)>0 then
            set PH=true
        endif
        if not MH and not PH and VQ(NI,VO)>0 then
            set QH=true
        else
            set QH=false
        endif
        if GL(SH)or SH==null then
            call F3()
        endif
    endif
    if MH and not PH and YW(V)>2800 then
        set I[6]=59
    endif
    if MD and RBV()then
        if(M>1200 and S>500)and T>1100 and(W<700 or GetUnitMoveSpeed(NI)>=GetUnitMoveSpeed(FI)+50)and OG then
            set I[50]=78
        endif
        if PD>0 and(W<700 or GetUnitMoveSpeed(NI)>=GetUnitMoveSpeed(FI)+50)and OG then
            set I[50]=81
        endif
        if CW(FI)and(W<700 or GetUnitMoveSpeed(NI)>=GetUnitMoveSpeed(FI)+50)then
            set I[50]=82
        endif
        if M<300 and Z>7 then
            set I[50]=81
        endif
    endif
    if D!=null and RDV()and LU(D)<200 then
        set I[51]=89
    endif
    if MD and RHV()then
        if(BW(FI)or M>1500)and T>1100 and OG then
            set I[52]=85
        endif
        if PD>0 and OG then
            set I[52]=85
        endif
    endif
    if MD and RHV()and M<800 and Z>11 and OG then
        set I[52]=86
    endif
    if MD and RHV()and M<500 and OG then
        set I[52]=91
    endif
    if UI[5]!=null and GW(NI)and SM(NI,UI[5])<300 then
        set FI=UI[5]
    endif
    if FI!=null and(not PU(FI))and W<280 and M>300 and RKV()then
        set I[53]=88
    endif
    if FI!=null and GW(NI)then
        set I[54]=90
    endif
    if FI!=null and GW(NI)and Z>11 and Q>500 then
        set I[54]='g'
    endif
    if DY(NI)then
    endif
    if MD and RBV()and S>350 and M>400 and RKV()and OG then
        set I[55]=93
    endif
    if FI!=null and RDV()and S>350 and M>400 and RKV()then
        set I[56]=92
    endif
    if MD and RHV()and S>550 and M>600 and RKV()and GetUnitCurrentOrder(FI)!=851986 then
        set I[57]=94
    endif
    if FI!=null and RDV()and PU(NI)then
        set I[58]=87
    endif
    if FI!=null and RDV()and CW(NI)then
        set I[59]=83
    endif
    if FI!=null and M>500 and W<300 and RKV()then
        set I[60]=84
    endif
    if UI[5]!=null and NW(UI[5])<70 and Q>500 and SM(NI,UI[5])<700 and RKV()then
        set I[61]=90
    endif
    if QH and Z>15 and SH!=null and JL(SH)and(YW(V)>620 or AO=='f')then
        if SM(NI,SH)>1200 and T1(59,3)then
            call JQ(TH)
        endif
        if YW(V)>620 then
            set AO='f'
            if SM(NI,SH)>1000 and SM(NI,SH)<2500 then
                if not S8(NI)then
                    call T8()
                endif
            endif
        endif
        if S8(NI)then
            set AO='f'
        endif
        if GL(SH)or KH<800 then
            set AO=1
        endif
        if SM(NI,SH)<600 then
            set I[62]=71
        endif
    endif
    if(not QH or GL(SH))and SM(NI,SH)<600 then
        set AO=1
    endif
    if PH and Q>1000 and S>500 and RKV()then
        if AO<'d' or AO=='g' or AO=='f' then
            if JL(NF)then
                set KI=NF
            endif
        endif
        if AO<'d' or AO=='g' or AO=='f' then
            if JL(DF[2])then
                set AN['h']=FF[2]
                set KI=DF[2]
            endif
        endif
        if AO<'d' or AO=='g' or AO=='f' then
            if JL(DF[1])then
                set AN['i']=FF[1]
                set KI=DF[1]
            endif
        endif
        if AO<'d' or AO=='g' or AO=='f' then
            if JL(DF[0])then
                set AN['j']=FF[0]
                set KI=DF[0]
            endif
        endif
        if JL(JI)then
            set KI=JI
        endif
        if JL(NF)then
            set KI=NF
        endif
        if SM(NI,KI)>1300 then
            set KI=null
        endif
    endif
    if PH and JL(KI)and((Q>1600 and S>500)or(SM(NI,KI)<1000 and Q>800))and RKV()then
        set I[63]='i'
    else
        if AO=='e' or(AO>='h' and AO<='j')then
            set AO=I9V(NI)
        endif
    endif
    if GW(NI)and PH and(JL(KI)and SM(NI,KI)<400)then
        set I[64]='j'
    endif
endfunction
function BRV takes integer OK returns nothing
    local location AM=null
    if not B0()then
        return
    endif
    if OK==50 and X1V(FI,450)then
        call RCV(FI)
        call CQ(FI)
        call Sleep(.8)
    endif
    if OK==51 and X1V(D,800)then
        call RGV(D)
    endif
    if OK==52 and X1V(FI,450)then
        call RJV(FI)
    endif
    if OK==53 and X1V(FI,200)then
        call RLV()
    endif
    if OK==54 then
        if W>400 and XYV(NI)then
            set AM=LP(FI,NI,-180)
            call XZV(AM)
            call RemoveLocation(AM)
            set AM=null
        endif
        if(W>260 or GetUnitMoveSpeed(FI)>390)and XPV(NI)then
            set DR=true
        endif
        set AM=LP(FI,NI,-180)
        call XQ(NI,AM,30)
        call RemoveLocation(AM)
        set AM=null
        call Sleep(.2)
    endif
    if OK==55 and X1V(FI,450)then
        call RCV(FI)
        call CQ(FI)
        call Sleep(1.2)
        if LU(FI)<200 then
            return
        endif
        if X1V(FI,250)then
            call RLV()
        endif
    endif
    if OK==56 and X1V(FI,800)then
        set AM=GetUnitLoc(FI)
        call RFV(AM)
        call RemoveLocation(AM)
        set AM=null
        call CQ(FI)
        call Sleep(.86)
        if LU(FI)<200 then
            return
        endif
        if X1V(FI,250)then
            call RLV()
        endif
    endif
    if OK==57 and X1V(FI,800)then
        set AM=GetUnitLoc(FI)
        call RFV(AM)
        call RemoveLocation(AM)
        set AM=null
        call CQ(FI)
        call Sleep(.9)
        if RBV()then
            call RCV(FI)
            call CQ(FI)
            call Sleep(1.3)
        endif
        if LU(FI)<200 then
            return
        endif
        if X1V(FI,250)then
            call RLV()
        endif
    endif
    if OK==58 then
        call RGV(FI)
        call Sleep(5.7)
    endif
    if OK==59 then
        set AM=LP(NI,FI,-700)
        call RFV(AM)
        call RemoveLocation(AM)
        set AM=null
    endif
    if OK==60 then
        if X1V(FI,250)then
            call RLV()
        endif
    endif
    if OK==61 and X1V(UI[5],250)then
        call RLV()
    endif
    if OK==62 then
        if JA==0 then
            call JQ(TH)
        endif
        call AZV()
    endif
    if OK==63 then
        if X1V(KI,700)then
            if RDV()and S>500 then
                call RGV(KI)
            endif
        endif
        if X1V(KI,280)then
            if RKV()then
                call RLV()
            endif
            set GN=AO
            set AO=I9V(NI)
        endif
    else
        call EZ(.8)
    endif
    if OK==64 then
        if SM(KI,NI)>400 and XYV(NI)then
            set AM=LP(KI,NI,-180)
            call XZV(AM)
            call RemoveLocation(AM)
            set AM=null
        endif
        set AM=LP(KI,NI,-180)
        call XQ(NI,AM,30)
        call RemoveLocation(AM)
        set AM=null
        call Sleep(.2)
    endif
endfunction
function BIV takes nothing returns nothing
    if not D0()then
        return
    endif
    if MD and OG then
        if RWV()and JA==0 and AW(NI)then
            if(BW(FI)or M>1500)and T>1100 then
                set I[50]=52
            endif
        endif
        if CW(FI)and RWV()then
            set I[50]=91
        endif
        if M<500 and Z>7 and RWV()then
            set I[50]=92
        endif
        if JA>0 and MA<900 and RWV()then
            set I[50]=86
        endif
    endif
    if T<800 and RZV()and((LU(D)<700 and LU(D)>200)or BW(D))then
        set I[51]=92
    endif
    if FI!=null and RZV()and(AW(NI)and Z>10)and W<300 then
        set I[52]=81
    endif
    if VV>XV+8 and RZV()and G!=null then
        set I[53]=80
    endif
    if MD and RWV()and XYV(NI)and S>400 and RZV()then
        set I[54]=93
    endif
    if MD and RWV()and W<200 and S>400 and RZV()then
        set I[55]=94
    endif
    if VJ!=null and SM(NI,VJ)<160 and RZV()then
        set I[56]=86
    endif
    if Z>15 and NF!=null and Q>1000 and RZV()then
        set GN='e'
        set I[59]=78
    endif
    if GN=='e' and(Q<900 or not RZV()or GL(NF))then
        set GN=2
    endif
    if T1(92,1)then
        call GroupRemoveUnit(EF,null)
    endif
    if FirstOfGroup(EF)!=null then
        if T1(91,1)then
            call GroupPointOrderByIdLoc(EF,851983,RN)
            if FI!=null and SM(FI,FirstOfGroup(EF))<600 then
                call GroupTargetOrderById(EF,851983,FI)
            endif
            if SM(FI,FirstOfGroup(EF))>500 and D!=null then
                call GroupTargetOrderById(EF,851983,D)
            endif
        endif
    endif
endfunction
function BAV takes integer OK returns nothing
    local location AM=null
    if not D0()then
        return
    endif
    if OK==50 then
        if PD>0 and W>600 and XYV(NI)then
            set AM=GetUnitLoc(FI)
            call XZV(AM)
            call RemoveLocation(AM)
            set AM=null
        endif
        if X1V(FI,600)then
            call RYV(FI)
        endif
    endif
    if OK==51 and X1V(D,600)then
        call R_V()
        call Sleep(.5)
        call DestroyGroup(EF)
        set EF=null
        set EF=E2(V)
    endif
    if OK==52 and X1V(FI,220)then
        call R_V()
        call Sleep(.5)
        call DestroyGroup(EF)
        set EF=null
        set EF=E2(V)
    endif
    if OK==53 and X1V(G,500)then
        call R_V()
        call Sleep(.5)
        call DestroyGroup(EF)
        set EF=null
        set EF=E2(V)
    endif
    if OK==54 then
        if X1V(FI,700)then
            call RYV(FI)
            set AM=GetUnitLoc(FI)
            call XZV(AM)
            call RemoveLocation(AM)
            set AM=null
            call CQ(FI)
            call Sleep(.05)
            call R_V()
            call Sleep(.46)
            call DestroyGroup(EF)
            set EF=null
            set EF=E2(V)
            if FirstOfGroup(EF)!=null then
                call OL("ok")
            endif
            set AM=GetUnitLoc(FI)
            call GroupPointOrderByIdLoc(EF,851986,AM)
            call RemoveLocation(AM)
            set AM=null
            call Sleep(.9)
            call GroupTargetOrderById(EF,851983,FI)
        endif
    endif
    if OK==55 then
        call RYV(FI)
        call CQ(FI)
        call Sleep(.05)
        call R_V()
        call Sleep(.46)
        call DestroyGroup(EF)
        set EF=null
        set EF=E2(V)
        if FirstOfGroup(EF)!=null then
            call OL("ok")
            set AM=GetUnitLoc(FI)
            call GroupPointOrderByIdLoc(EF,851986,AM)
            call RemoveLocation(AM)
            set AM=null
            call Sleep(.9)
            call GroupTargetOrderById(EF,851983,FI)
        endif
    endif
    if OK==56 then
        call R_V()
        call Sleep(.5)
        call DestroyGroup(EF)
        set EF=null
        set EF=E2(V)
    endif
    if OK==59 then
        if X1V(NF,1000)then
            if XYV(NI)then
                set AM=GetUnitLoc(NF)
                call XZV(AM)
                call RemoveLocation(AM)
                set AM=null
            endif
            call CQ(NF)
            call Sleep(.05)
            call R_V()
            call Sleep(.66)
            call DestroyGroup(EF)
            set EF=null
            set EF=E2(V)
            if FirstOfGroup(EF)!=null then
                call OL("ok")
            endif
            set AM=GetUnitLoc(NF)
            call GroupPointOrderByIdLoc(EF,851986,AM)
            call RemoveLocation(AM)
            set AM=null
            call Sleep(1)
            call GroupTargetOrderById(EF,851983,NF)
        endif
    endif
endfunction
function BNV takes nothing returns nothing
    if not H0()then
        return
    endif
    if MD and(PD>0 or W<300 or(M<500 and W<700))and R6V()and OG then
        set I[50]=90
    endif
    if MD and(M<700 and XYV(NI))and R6V()then
        set I[50]=90
    endif
    if FI!=null and R8V()and W<500 then
        set I[51]=91
    endif
    if FI!=null and(FY(FI)or VS(FI))and Q>500 and(YG>-5 and T>1000)and(IV!=5 and IV!=8)then
        set I[52]=73
    endif
    if G!=null and((VV>XV+9 and W>1000)or(FI==null and S>400 and VV>2)or J!=null)and R6V()then
        set I[53]=80
    endif
endfunction
function BBV takes integer OK returns nothing
    local location AM=null
    if not H0()then
        return
    endif
    if OK==50 and not GW(FI)and X1V(FI,200)then
        call R7V()
    endif
    if OK==50 and not GW(FI)and W>600 and X1V(FI,800)then
        if XYV(NI)then
            set AM=LP(FI,NI,-160)
            call XZV(AM)
            call RemoveLocation(AM)
            set AM=null
            call R7V()
        endif
    endif
    if OK==51 and X1V(FI,500)then
        call R9V(FI)
    endif
    if OK==52 then
        if W>600 and XYV(NI)then
            set AM=LP(FI,NI,-'x')
            call XZV(AM)
            call RemoveLocation(AM)
            set AM=null
        endif
        call CQ(FI)
        call Sleep(1)
    endif
    if OK==53 and JL(G)and X1V(G,'x')then
        call R7V()
    endif
endfunction
function BCV takes nothing returns nothing
    if not J0()then
        return
    endif
    if VV>2 and G!=null and IFV()and(not ILV()or(ILV()and S>300))then
        set I[50]=57
    endif
    if IJV()and T>700 and G!=null and(not ILV()or(ILV()and S>300))then
        set I[51]=62
    endif
    if FI!=null and ILV()and M>300 then
        set I[52]=89
        if VS(FI)and W<700 and M>500 then
            set I[52]='d'
        endif
    endif
    if MU(NI)>500 and IPV()then
        set I[53]=80
    endif
    if QA<800 and MU(PA)>500 and IPV()then
        set I[54]=69
    endif
    if FI!=null and ILV()and XFV(NI)and M>500 and PD<2 then
        set I[55]=99
    endif
    if FirstOfGroup(XF)!=null then
        if T1(90,1)then
            if D!=null and SM(D,FirstOfGroup(XF))<600 then
                call GroupTargetOrderById(XF,851971,D)
            endif
            if FI!=null and(not PU(FI))and SM(FI,FirstOfGroup(XF))<620 then
                call GroupTargetOrderById(XF,851971,FI)
            endif
        endif
    endif
endfunction
function BDV takes integer OK returns nothing
    local location AM=null
    if not J0()then
        return
    endif
    if OK==50 and X1V(G,500)then
        set AM=GetUnitLoc(G)
        call IGV(AM)
        call RemoveLocation(AM)
        set AM=null
    endif
    if OK==51 then
        set AM=ZM(G,NI,498,90*GetRandomInt(-1,1))
        call IKV(AM)
        call RemoveLocation(AM)
        set AM=null
    endif
    if OK==52 and X1V(FI,500)then
        if GetUnitCurrentOrder(FI)==851986 then
            set AM=BP(FI,GetUnitMoveSpeed(FI)*.5)
            call IMV(AM)
            call RemoveLocation(AM)
            set AM=null
        else
            set AM=GetUnitLoc(FI)
            call IMV(AM)
            call RemoveLocation(AM)
            set AM=null
        endif
        call Sleep(.5)
        call DestroyGroup(XF)
        set XF=null
        set XF=X2(V)
    endif
    if OK==53 then
        call IQV(NI)
    endif
    if OK==54 and X1V(PA,600)then
        call IQV(PA)
    endif
    if OK==55 and X1V(FI,600)then
        if XGV(FI)then
            set AM=GetUnitLoc(FI)
            call XQ(NI,AM,460)
            call Sleep(.5)
            call IMV(AM)
            if IJV()then
                call IKV(AM)
            endif
            if IFV()then
                call IGV(AM)
            endif
            call RemoveLocation(AM)
            set AM=null
        endif
    endif
endfunction
function BFV takes nothing returns nothing
    if not C0()then
        return
    endif
    if MD and(PD>0 or W<300)and OG and RMV()then
        set I[50]=95
    endif
    if MD and(M<700 and XYV(NI))and RMV()then
        set I[50]=96
    endif
    if FI!=null and RQV()and Z>8 and(PD>0 or FV>6)then
        set I[51]=81
    endif
    if FI!=null and(GW(NI)or GY(NI))and Q>600 and OG and(PD>0 or FV>6)then
        set I[52]=71
    endif
    if FI!=null and(GW(NI)and GY(NI))and Q>600 then
        set I[52]=96
    endif
    if FI!=null and RTV()then
        set I[53]=88
    endif
    if FI!=null and RTV()and RQV()then
        set I[54]=92
    endif
    if G!=null and((VV>XV+9 and W>1000)or(FI==null and S>400 and VV>2))and RMV()then
        set I[55]=80
    endif
endfunction
function BGV takes integer OK returns nothing
    local location AM=null
    if not C0()then
        return
    endif
    if OK==50 then
        if XYV(NI)and W>500 and X1V(FI,800)then
            set AM=LP(FI,NI,-160)
            call XZV(AM)
            call RemoveLocation(AM)
            set AM=null
        endif
        if X1V(FI,200)then
            call RPV()
        endif
    endif
    if OK==51 and X1V(FI,700)then
        call RSV()
    endif
    if OK==52 then
        if W>600 and XYV(NI)then
            set AM=LP(FI,NI,-160)
            call XZV(AM)
            call RemoveLocation(AM)
            set AM=null
        endif
        call CQ(FI)
        call Sleep(1)
    endif
    if OK==53 and X1V(FI,700)then
        call RUV()
    endif
    if OK==54 and X1V(FI,700)then
        call RUV()
        call RSV()
    endif
    if OK==55 and JL(G)and X1V(G,160)then
        call RPV()
    endif
endfunction
function BHV takes nothing returns nothing
    if not F0()then
        return
    endif
    if MD and R0V()and(S>400 or PD>0)and OG then
        set I[50]=80
    endif
    if(FI!=null or T<700 or ZC<-20)and R4V()and T1(61,30)then
        set I[51]=79
    endif
    if FI!=null and(not PU(FI))and R2V()and(M<500 or PD>0)then
        set I[52]=89
    endif
    if MD and R2V()and R0V()and S>520 and(M<800 or PD>0)then
        set I[53]=99
    endif
    if FI==null and G!=null and VV>1 and R0V()and Z>6 then
        if S>1500 or AW(NI)then
            set I[59]=58
        endif
    endif
    if MD and M>800 and M<1700 and Q>600 and R2V()and R0V()and S>1300 and XIV(NI)then
        set I[60]=91
    endif
    if MD and not R2V()and not R0V()and S>800 and XIV(NI)then
        call XAV(NI)
    endif
endfunction
function BJV takes integer OK returns nothing
    if not F0()then
        return
    endif
    if OK==50 and X1V(FI,530)then
        call R1V(FI)
    endif
    if OK==51 then
        call R5V(NI)
    endif
    if OK==52 and X1V(FI,800)then
        call R3V(FI)
        call CQ(FI)
        call Sleep(1.6)
    endif
    if OK==53 and X1V(FI,800)then
        call R3V(FI)
        call CQ(FI)
        call Sleep(1.6)
        call R1V(FI)
    endif
    if OK==59 and X1V(G,600)then
        call R1V(G)
    endif
    if OK==60 and X1V(FI,800)then
        call R3V(FI)
        call CQ(FI)
        call Sleep(1.5)
        call R1V(FI)
        call XAV(NI)
        call R3V(FI)
        call CQ(FI)
        call Sleep(1.5)
        call R1V(FI)
    endif
endfunction
function BKV takes nothing returns nothing
    if not G0()then
        return
    endif
    if not LF then
        if MD and(PD>0 or M<300 or S>330)and IVV()and OG then
            set I[50]=85
        endif
        if MD and IRV()and S>500 and W<600 then
            set I[51]=81
        endif
        if MD and PD>0 and Q>400 and IXV()and W>400 and OG then
            set I[52]=71
        endif
        if G!=null and(VV>XV+6 or((FI==null and VV>2)and S>400)or(LU(G)<300 and S>300))and IVV()then
            set I[53]=80
        endif
        if MD and(((M<600 or PD>0)and M>220)or Q<330 or CW(NI))and IAV()then
            set I[54]=83
        endif
        if D!=null and G!=null and((XV>3 and VV>3)or Q<330 or CW(NI))and IAV()then
            set I[60]=82
        endif
        if(VV>8 or Q<330 or CW(NI))and G!=null and IAV()then
            set I[60]=82
        endif
    endif
    if LF then
        if FI!=null and LU(NI)>400 and W<400 then
            set I[55]=85
        endif
        if MD and W<400 and ICV()then
            set I[56]=86
        endif
        if G!=null and W>600 and VV>2 and ICV()then
            set I[57]=84
        endif
        if G!=null and W>600 and Q>500 then
            set I[58]=80
        endif
        if D!=null and W>600 and Q>800 and XV>0 and VV<10 then
            set I[59]=81
        endif
        if Q<700 then
            set I[5]=82
        endif
        if Q<400 then
            set I[5]=87
        endif
    endif
endfunction
function BLV takes integer OK returns nothing
    local location AM=null
    if not G0()then
        return
    endif
    if OK==50 and not GW(FI)and X1V(FI,600)then
        call IEV(FI)
    endif
    if OK==51 and not GW(FI)and X1V(FI,600)then
        call IIV(FI)
    endif
    if OK==52 and X1V(FI,600)then
        call IOV(FI)
    endif
    if OK==53 and X1V(G,600)then
        call IEV(G)
    endif
    if OK==54 and X1V(FI,700)then
        call IBV(FI)
    endif
    if OK==60 and X1V(G,700)then
        call IBV(G)
    endif
    if OK==55 then
        set AM=LP(FI,NI,-180)
        call XQ(NI,AM,30)
        call RemoveLocation(AM)
        set AM=null
        call Sleep(.2)
        if VS(FI)or M<'x' or SM(NI,FI)<160 then
            call CQ(FI)
            call Sleep(.9)
        endif
    endif
    if OK==56 and X1V(FI,200)then
        call IDV()
    endif
    if OK==57 and X1V(G,160)then
        call IDV()
    endif
    if OK==58 then
        call CQ(G)
        call Sleep(.9)
    endif
    if OK==59 then
        call CQ(D)
        call Sleep(.9)
    endif
endfunction
function BMV takes nothing returns nothing
    if not K0()then
        return
    endif
    if MD and(PD>0 or W<300 or M<300)and ISV()and(S>400 or AW(NI))and OG then
        set I[50]=81
    endif
    if MD and M<1200 and IUV()and not XYV(NI)and OG and GetUnitCurrentOrder(FI)!=851986 then
        set I[51]=90
    endif
    if MD and XYV(NI)and IUV()and W<1200 and GetUnitCurrentOrder(FI)!=851986 then
        set I[52]=95
    endif
    if G!=null and((VV>XV+9 and W>1000)or(FI==null and VV>10))and IUV()then
        set I[53]=85
    endif
    if J!=null and Z>5 and Q>300 then
        set I[54]=61
    endif
endfunction
function BPV takes integer OK returns nothing
    local location AM=null
    if not K0()then
        return
    endif
    if OK==50 and X1V(FI,300)then
        call ITV()
    endif
    if OK==50 and W>600 and X1V(FI,800)then
        if XYV(NI)then
            set AM=LP(FI,NI,-160)
            call XZV(AM)
            call RemoveLocation(AM)
            set AM=null
            call ITV()
        endif
    endif
    if OK==51 and X1V(FI,220)then
        call IWV()
        call Sleep(1.3)
        call XOV()
        call Sleep(1)
        call ITV()
        call Sleep(4.3)
    endif
    if OK==52 and X1V(FI,800)then
        set AM=LP(FI,NI,-'x')
        call IWV()
        call Sleep(1.3)
        if XXV(NI)then
            call XOV()
        endif
        call XZV(AM)
        call RemoveLocation(AM)
        set AM=null
        call Sleep(1)
        call ITV()
        call Sleep(4.3)
    endif
    if OK==53 and X1V(G,200)then
        call IWV()
        call Sleep(7)
    endif
    if OK==54 and X1V(J,300)then
        call CQ(J)
        call Sleep(1)
        if EV>3 then
            call IWV()
            call Sleep(7)
        endif
    endif
endfunction
function BQV takes nothing returns nothing
    local boolean BSV=false
    local boolean BTV=false
    if not M0()then
        return
    endif
    set BSV=RZ(NI,LO,"Locustswarm")
    set BTV=AZ(NI,QO,"chainlightning")
    if FI!=null then
        if BSV and(PD>0 or W<500 or M<600)and(S>220 or AW(NI))and OG then
            set I[50]=81
        endif
        if BTV and(PD>0 or W<500 or M<1000)and OG then
            set I[51]=90
        endif
    endif
    if G!=null and((VV>XV+9 and W>1300)or(FI==null and VV>10))and BTV then
        set I[52]=85
    endif
    if J!=null and Z>5 and Z<15 and Q>300 and BSV then
        set I[50]=61
    endif
endfunction
function BUV takes integer OK returns nothing
    local location AM=null
    if not M0()then
        return
    endif
    if OK==50 and X1V(FI,600)then
        call PZ(NI,LO,"Locustswarm")
        call Sleep(1)
    endif
    if OK==51 and X1V(FI,600)then
        call JZ(NI,QO,"chainlightning",FI)
        call Sleep(.8)
    endif
    if OK==52 and X1V(G,500)then
        call JZ(NI,QO,"chainlightning",G)
        call Sleep(.8)
    endif
endfunction
function BWV takes nothing returns nothing
    local boolean BYV=false
    local boolean BZV=false
    local boolean B_V=false
    if not P0()then
        return
    endif
    set BYV=AZ(NI,SO,"healingward")
    set BZV=IZ(NI,TO,852254)
    set B_V=AZ(NI,WO,"shadowstrike")
    if FI!=null then
        if BYV and(PD>0 or W<500 or M<600)and(S>320 or AW(NI))and OG then
            set I[50]=81
        endif
        if BZV and MD and(PD>0 or W<500 or M<1000)and OG then
            set I[51]=82
        endif
        if B_V and(PD>0 or W<600 or M<1500)and OG then
            set I[52]=89
        endif
    endif
    if BYV and G!=null and((VV>XV+9 and W>1300)or(FI==null and VV>10)or AW(NI))then
        set I[53]=85
    endif
    if BYV and J!=null and Z>5 and Z<15 and Q>300 then
        set I[54]=61
    endif
endfunction
function B0V takes unit PQ returns boolean
    local location AM=null
    local boolean rb=false
    if PQ==null then
        return false
    endif
    if X1V(PQ,620)then
        call LZ(NI,TO,852254,FI,1)
    endif
    if VB>=500 then
        if SM(NI,PQ)<=330 then
            return true
        endif
    endif
    set AM=LP(NI,PQ,600)
    call XQ(NI,AM,50)
    call RemoveLocation(AM)
    set AM=null
    call EZ(.5)
    return true
endfunction
function B1V takes integer OK returns nothing
    local location AM=null
    if not P0()then
        return
    endif
    if OK==50 and X1V(FI,500)then
        set AM=GetUnitLoc(FI)
        call NZ(NI,SO,"healingward",AM)
        call RemoveLocation(AM)
        set AM=null
        call Sleep(.8)
    endif
    if OK==51 and X1V(FI,700)then
        call B0V(FI)
    endif
    if OK==52 and X1V(FI,350)then
        call JZ(NI,WO,"shadowstrike",FI)
        call Sleep(3)
    endif
    if OK==53 and X1V(G,500)then
        set AM=GetUnitLoc(G)
        call NZ(NI,SO,"healingward",AM)
        call RemoveLocation(AM)
        set AM=null
        call Sleep(.8)
    endif
    if OK==54 and X1V(J,500)then
        set AM=GetUnitLoc(J)
        call NZ(NI,SO,"healingward",AM)
        call RemoveLocation(AM)
        set AM=null
        call Sleep(.8)
    endif
endfunction
function B2V takes nothing returns nothing
    local boolean BTV=false
    local boolean B3V=false
    local boolean BZV=false
    if not Q0()then
        return
    endif
    set BTV=HT(NI,YO)
    set B3V=IZ(NI,VR,852230)
    set BZV=RZ(NI,ER,"roar")
    if FI!=null then
        if BTV and(PD>0 or W<500 or M<600)and(S>320 or AW(NI))and OG then
            set I[50]=81
        endif
        if B3V and(PD>0 or W<500 or M<1000)and OG then
            set I[51]=82
        endif
        if BZV and(PD>0 or W<500 or M<1200)and RG then
            set I[52]=89
        endif
    endif
endfunction
function B4V takes integer OK returns nothing
    local location AM=null
    if not Q0()then
        return
    endif
    if OK==50 and X1V(FI,500)then
        call PZ(NI,YO,"berserk")
        call Sleep(.8)
    endif
    if OK==51 and X1V(FI,620)then
        call KZ(NI,VR,852230,FI)
        call Sleep(.8)
    endif
    if OK==52 and X1V(FI,350)then
        call PZ(NI,ER,"roar")
        call Sleep(.6)
    endif
endfunction
function B5V takes nothing returns nothing
    local boolean B_V=false
    local boolean B6V=false
    if not L0()then
        return
    endif
    set B6V=HT(NI,HO)
    set B_V=AZ(NI,GO,"dispel")
    if FI!=null then
        if B_V and(PD>0 or W<700 or M<600)and(S>320 or AW(NI))and OG then
            set I[50]=83
        endif
        if B6V and(PD>0 or W<200 or M<1000)and RG then
            set I[51]=82
        endif
        if B_V and B6V and(PD>0 or W<700 or M<1000)and OG and S>190 then
            set I[52]=89
        endif
    endif
    if B_V and G!=null and((VV>XV+9 and W>1300)or(FI==null and VV>10)or AW(NI))and Z>2 then
        set I[53]=81
    endif
    if B_V and FI==null and J!=null and Z>5 and Z<15 and Q>300 and Z>2 then
        set I[54]=61
    endif
endfunction
function B7V takes integer OK returns nothing
    local location AM=null
    if not L0()then
        return
    endif
    if OK==50 and X1V(FI,700)then
        set AM=GetUnitLoc(FI)
        call NZ(NI,GO,"dispel",AM)
        call RemoveLocation(AM)
        set AM=null
        call Sleep(.8)
    endif
    if OK==51 and X1V(FI,220)then
        call PZ(NI,HO,"whirlwind")
        call Sleep(0.3)
    endif
    if OK==52 and X1V(FI,700)then
        set AM=GetUnitLoc(FI)
        call NZ(NI,GO,"dispel",AM)
        call RemoveLocation(AM)
        set AM=null
        call Sleep(1.2)
        call CQ(FI)
        call Sleep(1)
        if X1V(FI,220)then
            call PZ(NI,HO,"whirlwind")
            call Sleep(.3)
        endif
    endif
    if OK==53 and X1V(G,700)then
        set AM=GetUnitLoc(G)
        call NZ(NI,GO,"dispel",AM)
        call RemoveLocation(AM)
        set AM=null
        call Sleep(.8)
    endif
    if OK==54 and X1V(J,700)then
        set AM=GetUnitLoc(J)
        call NZ(NI,GO,"dispel",AM)
        call RemoveLocation(AM)
        set AM=null
        call Sleep(.8)
    endif
endfunction
function B8V takes nothing returns nothing	call V7('n001',HV)	call V7('n001',MV)	call V7('n001',KV)	call V7('n001',JV)	call V7('n001',LV)	call V7('n00Z',YV)endfunctionfunction B9V takes nothing returns nothing	call V7('n000',PV)	call V7('n000',QV)	call V7('n000',TV)	call V7('n00Y',UV)	call V7('n000',SV)	call V7('n000',WV)endfunction
function CVV takes integer id returns boolean
    return(V7('n001',id))or(V7('n000',id))or(V7('n00Z',id))or(V7('n00Y',id))or(V7('n00B',id))or(V7('n01B',id))
endfunction
function CEV takes nothing returns nothing
    local integer OK=0
    local integer id=0
    loop
        set OK=GetRandomInt(1,16)
        exitwhen GetStoredInteger(CV,"heros",AL(OK))>0
    endloop
    if GetStoredInteger(CV,"heros",AL(OK))>0 then
        call CVV(GetStoredInteger(CV,"heros",AL(OK)))
    endif
endfunction
function CXV takes nothing returns nothing
    if DG==1 then
        if V7('n001',HV)then
            return
        endif
    endif
    if DG==7 then
        if V7('n000',PV)then
            return
        endif
    endif
    if IG then
        return
    endif
    call Sleep(2)
    if DG==4 then
        call V7('n001',MV)
    endif
    if DG==2 then
        call V7('n001',KV)
    endif
    if DG==5 then
        call V7('n001',JV)
    endif
    if DG==3 then
        call V7('n001',LV)
    endif
    if DG==8 then
        call V7('n000',QV)
    endif
    if DG==10 then
        call V7('n000',TV)
    endif
    if DG==11 then
        call V7('n00Y',UV)
    endif
    if DG==9 then
        call V7('n000',SV)
    endif
    call Sleep(3)
    if FN==1 then
        call B8V()
    endif
    if FN==2 then
        call B9V()
    endif
endfunction
function COV takes nothing returns nothing
    if FD<0 then
        return
    endif
    if BJ then
        call CXV()
        return
    endif
    if IJ then
        if NS()>1 then
            call CEV()
        endif
        return
    endif
    call CEV()
endfunction
function CRV takes nothing returns boolean
    if FD<0 then
        return false
    endif
    if G0()then
        if IsUnitHidden(PI)then
            set LF=true
            if MI==null then
                set MI=R6(V)
            endif
            set NI=MI
            call B2(MI,"caozixiao")
        endif
        if not IsUnitHidden(PI)then
            set NI=PI
            set LF=false
            set MI=null
            call B2(null,"caozixiao")
        endif
        if GL(NI)then
            set NI=PI
            call B2(null,"caozixiao")
        endif
    endif
    if NI==null then
        if NS()>1 then
            call COV()
        endif
        call EZ(1)
        return false
    endif
    if(not UnitAlive(NI))then
        set YF=false
        set ZF=false
        set FI=null
        set CH=0
        call Sleep(1)
        return false
    endif
    return true
endfunction
function CIV takes nothing returns nothing
    local integer OK=0
    loop
        exitwhen OK=='d'
        set I[OK]=0
        set OK=OK+1
    endloop
endfunction
function CAV takes nothing returns integer
    local integer OK=0
    local integer WT=0
    local integer ri=5
    loop
        exitwhen OK=='d'
        if I[OK]>WT then
            set WT=I[OK]
            set ri=OK
        endif
        set OK=OK+1
    endloop
    return ri
endfunction
function CNV takes nothing returns nothing
    set MD=true
    if FI==null then
        set MD=false
        return
    endif
    if(GW(FI)or PU(FI)or GL(FI))then
        set MD=false
    endif
endfunction
function CBV takes nothing returns nothing
    local real CCV=600
    local real CDV=0
    local real CFV=0
    if MB!=null then
        set CCV=SM(NI,MB)
        set CDV=(CCV/600)*8
        set CFV=(CCV/600)*.3
    endif
    if IH>RH+2 then
        set CDV=CDV+3
        set CFV=CFV+.2
    endif
    set EB=WN+Z*ZN+CDV
    set SC=PC+Z*.06+CFV
    set RB=IB+Z*4
    set TC=QC+Z*.16
    if GetUnitTypeId(MB)=='earc' then
        set EB=EB+19
        set RB=RB+'d'
        set SC=SC+.48
        set TC=TC+1.5
    endif
    set EB=EB+(IH-RH)*.9
    set RB=RB+(IH-RH)*20
    set SC=SC+(IH-RH)*.1
    set TC=TC+(IH-RH)*.2
    if IH>4 then
        set EB=EB+5
        set RB=RB+60
        set SC=SC+.14
        set TC=TC+1.
        if GetUnitTypeId(MB)=='earc' then
            set EB=EB+10+(IH-RH)*1
            set RB=RB+20*(IH-RH)
            set SC=SC+.1*(IH-RH)
            set TC=TC+.2*(IH-RH)
        endif
    endif
    if IH>RH+3 and RH==2 then
        set EB=EB+IH-RH+6
        set RB=RB+80
        set SC=SC+.1*(IH-RH)
        set TC=TC+1
    endif
    if IH>4 and RH==1 then
        set EB=EB+(IH-RH)*1.9+16
        set RB=RB+60
        set SC=SC+.21*(IH-RH)
        set TC=TC+2
        if GetUnitTypeId(MB)=='earc' then
            set EB=EB+21+(IH-RH)*2.5
            set RB=RB+60
            set SC=SC+.53+.17*(IH-RH)
            set TC=TC+3
        endif
    endif
    if U<800 then
        set RB=RB+500
        set TC=TC+8
    endif
endfunction
function CGV takes nothing returns nothing
    local real CCV=600
    local real CDV=0
    local real CFV=0
    if LB!=null then
        set CCV=SM(NI,LB)
        set CDV=(CCV/600)*8
        set CFV=(CCV/600)*.3
    endif
    if RH>IH+2 then
        set CDV=CDV+2
        set CFV=CFV+.2
    endif
    set XB=YN+Z*ZN+CDV
    set WC=PC+Z*.06+CFV
    set OB=AB+Z*4
    set WC=QC+Z*.16
    if GetUnitTypeId(LB)=='earc' then
        set XB=XB+22
        set OB=OB+60
        set UC=UC+.4
        set WC=WC+1.5
    endif
    if RH>4 then
        set XB=XB+3
        set OB=OB+10
        set UC=UC+.15
        set WC=WC+1.
    endif
    if RH>IH+3 and IH==2 then
        set XB=XB+RH-IH+6
        set OB=OB+80
        set UC=UC+.13*(RH-IH)
        set WC=WC+1
    endif
    if RH>4 and IH==1 then
        set XB=XB+RH-IH+16
        set OB=OB+'d'
        set UC=UC+.21*(RH-IH)
        set WC=WC+2
        if GetUnitTypeId(LB)=='earc' then
            set XB=XB+26+RH-IH
            set OB=OB+70
            set UC=UC+.5+.16*(RH-IH)
            set WC=WC+3
        endif
    endif
    if T<800 then
        set OB=OB+400
        set WC=WC+6
    endif
endfunction
function CHV takes nothing returns nothing
    if T1(54,2)then
        set RH=J4()
        set IH=K4()
    endif
    call CBV()
    call CGV()
endfunction
function CJV takes nothing returns integer
    local integer ri=0
    if LC<=WC and LC>0 then
        set N=LB
        set ri=1
    endif
    if KC<=TC and KC>0 then
        set C=MB
        set ri=2
    endif
    if LC<=UC and LC>0 then
        set A=LB
        set ri=5
    endif
    if KC<=SC and KC>0 then
        set B=MB
        set ri=6
    endif
    return ri
endfunction
function CKV takes nothing returns integer
    local integer ri=0
    if SB<OB then
        set N=LB
        set ri=3
    endif
    if TB<RB then
        set C=MB
        set ri=4
    endif
    if SB<XB then
        set A=LB
        set ri=7
    endif
    if TB<EB then
        set B=MB
        set ri=8
    endif
    return ri
endfunction
function CLV takes nothing returns integer
    local integer CMV=-1
    call CHV()
    set B=null
    set A=null
    set C=null
    set N=null
    if U<600 then
        set CMV=CJV()
    endif
    set ED=CMV
    set CMV=CKV()
    if(CMV>ED and CMV!=7)or(CMV==7 and ED!=6)then
        set ED=CMV
    endif
    return ED
endfunction
function CPV takes nothing returns nothing
    set OG=true
    set RG=true
    if FI!=null and UnitIsSleeping(FI)then
        set OG=false
        set RG=false
    endif
endfunction
function CQV takes nothing returns nothing
    local item TT=null
    local integer CMV=0
    set CN=true
    call E6V()
    set K=false
    call I2()
    set Z=GetHeroLevel(NI)
    if Z>15 then
        set ND=0
    endif
    call I8V(NI)
    if T1(95,.5)then
        set UI[5]=null
        set TI[5]=null
        if C2("caozixiao")!=null and JL(C2("caozixiao"))then
            if IsUnitEnemy(C2("caozixiao"),V)then
                set UI[5]=C2("caozixiao")
            else
                set TI[5]=C2("caozixiao")
            endif
        endif
    endif
    if AS()<60 then
        call I6()
    endif
    if T1(97,1)then
        call E5()
        call A5()
        call L5()
    endif
    call X5()
    if LI==null and NF!=null and SM(NI,NF)<2800 then
        set LI=NF
    endif
    if R0()then
    endif
    if UI[5]!=null and SM(UI[5],NI)<UB and UB<=900 then
        set GI=UI[5]
        set UB=SM(UI[5],NI)
    endif
    call M6()
    if FI==null then
        set FI=GI
    endif
    if JL(FI)and IsUnitInvisible(FI,V)and HY(FI)then
        set FI=null
    endif
    call CNV()
    set CMV=CLV()
    if CMV==6 or CMV==8 then
        if R0()then
        endif
    endif
    if C!=null then
    endif
    if CD==null then
        set CD=DD
    endif
    call Q2()
    if GD!=null then
    endif
    if JI!=null then
    endif
    if HI!=null then
    endif
    call AXV()
    call AOV()
    call ARV()
    if D!=null then
        if(GetUnitX(D)<-7000 and GetUnitY(D)<-500 and GetUnitY(D)>-2500)or(GetUnitX(D)>6300 and GetUnitY(D)<1300 and GetUnitY(D)>0)then
        endif
    endif
    call RemoveLocation(L)
    set L=null
    set L=D4()
    if FI!=null then
        set Y=GetHeroLevel(FI)
        set M=LU(FI)
        set P=IS(FI)
        set W=SM(NI,FI)
    else
        set M=999999
        set P=999999
        set W=999999
    endif
    set Q=LU(NI)
    set S=IS(NI)
    if GI!=null then
        set KH=SM(NI,GI)
    else
        set KH=9999999
    endif
    if D!=null then
        if SM(D,CD)<500 then
            set CD=null
        endif
        set T=SM(NI,D)
    else
        set T=999999
    endif
    if F!=null then
        set U=SM(NI,F)
    else
        set U=99999
    endif
    if GN==0 and AV!=AN[0]then
        set AV=AN[0]
    endif
    if GN==1 and AV!=AN[1]then
        set AV=AN[1]
    endif
    if GN==2 and AV!=AN[2]then
        set AV=AN[2]
    endif
    if AV!=null then
        set NV=QM(NI,IN)-VM(AV,IN)
        if B0()then
        endif
    else
        set NV=-1000
    endif
    call CPV()
    call AUV()
    call C6()
    if PA!=null and SM(PA,NI)<1200 and LU(PA)<EH then
    endif
    set PD=JA+1-KA
    if JA+1==KA and KA>1 and MA<830 then
        set PD=1
    endif
    set CN=false
endfunction
function CSV takes nothing returns nothing
    set CN=true
    if FI!=null then
        set M=LU(FI)
        set P=IS(FI)
        set W=SM(NI,FI)
    else
        set M=999999
        set P=999999
        set W=999999
        set OV=GetUnitCurrentOrder(FI)
    endif
    if GI!=null then
        set KH=SM(NI,GI)
    else
        set KH=9999999
    endif
    set Q=LU(NI)
    set S=IS(NI)
    if D!=null then
        set T=SM(NI,D)
    else
        set T=999999
    endif
    set CN=false
endfunction
function CTV takes nothing returns nothing
    set CN=true
    call CIV()
    call AJV()
    call ALV()
    call APV()
    call ASV()
    call A_V()
    call ETV()
    if T1(55,1.2)then
        call EWV()
    endif
    call A6V()
    call NIV()
    call NEV()
    call N9V()
    call BEV()
    call BOV()
    call BNV()
    call BFV()
    call BHV()
    call BIV()
    call BCV()
    call BKV()
    call BMV()
    call BQV()
    call BWV()
    call B2V()
    call B5V()
    if R0()then
        call N7V()
    endif
    if I0()then
        call N5V()
    endif
    set CN=false
endfunction
function CUV takes string title returns nothing
    if BN!=IV or T1(40,5)then
        call OL(GV+"-"+AL(IV)+"-"+AL(I[IV])+"-Env:"+AL(YG)+"-AP:"+AL(FV)+"-HP:"+AL(PD)+"-CRL:"+AL(GN)+"-TL:"+AL(AO))
    endif
    if BN!=IV then
        set BN=IV
    endif
endfunction
function CWV takes nothing returns nothing
    local integer OK=0
    if CN then
        return
    endif
    set IV=CAV()
    if GetPlayerId(V)==11 then
    endif
    if GetPlayerId(V)==5 then
    endif
    call A8V(IV)
    call A1V(IV)
    call AKV(IV)
    call AMV(IV)
    call E_V(IV)
    call NQV(IV)
    if GetUnitAcquireRange(NI)>61 then
    endif
    if I0()then
        call N6V(IV)
    endif
    call ESV(IV)
    call AQV(IV)
    call ATV(IV)
    call NOV(IV)
    if R0()then
        call N8V(IV)
    endif
    if A0()then
        call BXV(IV)
    endif
    if N0()then
        call BVV(IV)
    endif
    if F0()then
        call BJV(IV)
    endif
    if J0()then
        call BDV(IV)
    endif
    if G0()then
        call BLV(IV)
    endif
    if H0()then
        call BBV(IV)
    endif
    if B0()then
        call BRV(IV)
    endif
    if C0()then
        call BGV(IV)
    endif
    if D0()then
        call BAV(IV)
    endif
    if K0()then
        call BPV(IV)
    endif
    if M0()then
        call CUV("dadi")
        call BUV(IV)
    endif
    if P0()then
        call B1V(IV)
    endif
    if Q0()then
        call B4V(IV)
    endif
    if L0()then
        call B7V(IV)
    endif
    if not GG then
        loop
            exitwhen OK>20 or GetUnitCurrentOrder(NI)<852055
            call Sleep(.35)
            set OK=OK+1
        endloop
    endif
endfunction
function CYV takes nothing returns nothing
    local unit u=null
    set u=N3('n002',MR,2600)
    if(u!=null)then
        set MR=GetUnitLoc(u)
    endif
    set u=N3('n002',PR,2600)
    if(u!=null)then
        set PR=GetUnitLoc(u)
    endif
endfunction
function C_V takes integer ai returns nothing
    local unit C0V=null
    local unit tmpu=null
    local integer OK=1
    local item K2=null
    local location temploc=null
    local location AM=null
    local location C1V=null
    local location C2V=null
    if V==Player(7)then
        set NI=null
        return
    endif
    set C1V=Location(894,-2713)
    set C2V=Location(1444,-2323)
    set C0V=CreateUnitAtLoc(Player(5),HV,C2V,270.)
    set FI=CreateUnitAtLoc(Player(7),PV,C1V,270.)
    call SetHeroLevel(FI,25,false)
    set NI=C0V
    call SetHeroLevel(C0V,10,false)
    call W0()
    set OK=0
    loop
        exitwhen OK==25
        call E6V()
        set OK=OK+1
    endloop
    call UnitAddItemById(C0V,'sneg')
    call UnitAddItemById(C0V,'desc')
    call UnitAddItemById(C0V,'desc')
    call UnitAddItemById(C0V,'desc')
    call UnitAddItemById(C0V,'desc')
    call UnitAddItemById(C0V,'desc')
    call UnitAddItemById(FI,'I02C')
    call UnitAddItemById(FI,'ssan')
    call UnitAddItemById(FI,'sneg')
    call X0(NI)
    call UnitAddItemById(FI,'desc')
    loop
        if ai==1 then
            if O2V()and X1V(FI,600)then
                call O3V(FI)
                call CM(NI)
            endif
        endif
        call EZ(2)
    endloop
endfunction
function testitem takes nothing returns nothing
    local integer OK=0
    loop
        call WZ()
        call Sleep(33)
    endloop
endfunction
function testhero takes nothing returns nothing
    local unit C0V=null
    local unit tmpu=null
    local integer OK=1
    local item K2=null
    local location temploc=null
    local location AM=null
    local location C1V=null
    local location C2V=null
    call C_V(1)
    loop
        exitwhen OK=='d'
        call SetPlayerState(Player(5),ConvertPlayerState(OK),GetPlayerState(Player(8),ConvertPlayerState(OK)))
        set OK=OK+1
    endloop
    if V==Player(7)then
        set NI=null
        return
    endif
    set C1V=Location(894,-2713)
    set C2V=Location(1444,-2323)
    set C0V=CreateUnitAtLoc(Player(5),PV,C2V,270.)
    set FI=CreateUnitAtLoc(Player(7),HV,C1V,270.)
    call SetHeroLevel(FI,25,false)
    set NI=C0V
    call SetHeroLevel(C0V,10,false)
    call Y0()
    set OK=0
    loop
        exitwhen OK==25
        call E6V()
        set OK=OK+1
    endloop
    call UnitAddItemById(C0V,'sneg')
    call UnitAddItemById(C0V,'desc')
    call UnitAddItemById(C0V,'desc')
    call UnitAddItemById(C0V,'desc')
    call UnitAddItemById(C0V,'desc')
    call UnitAddItemById(C0V,'desc')
    call UnitAddItemById(FI,'I02C')
    call UnitAddItemById(FI,'ssan')
    call X0(NI)
    call UnitAddItemById(FI,'desc')
    loop
        if ONV()and X1V(FI,600)then
            call OBV(FI)
            call CM(NI)
        endif
        call EZ(2)
    endloop
    call SetUnitUserData(C0V,'d')
    call UnitRemoveAbility(C0V,'A088')
    call SetUnitAcquireRange(C0V,60)
    call UnitAddItemById(C0V,IX)
    call UnitAddItemById(C0V,'desc')
    call UnitAddItemById(FI,'I02C')
    call UnitAddItemById(NI,'ssan')
    call X0(FI)
    call X0(NI)
    call Sleep(3)
    loop
        if X1V(FI,600)then
            call RYV(FI)
            set AM=GetUnitLoc(FI)
            call XZV(AM)
            call RemoveLocation(AM)
            set AM=null
            call CQ(FI)
            call Sleep(.05)
            call R_V()
            call Sleep(.46)
            call DestroyGroup(EF)
            set EF=null
            set EF=E2(V)
            if FirstOfGroup(EF)!=null then
                call OL("ok")
            endif
            set AM=GetUnitLoc(FI)
            call GroupPointOrderByIdLoc(EF,851986,AM)
            call RemoveLocation(AM)
            set AM=null
            call Sleep(.9)
            call GroupTargetOrderById(EF,851983,FI)
        endif
        call Sleep(.3)
    endloop
    loop
        if X1V(FI,600)then
            if OMV(FI)then
                call OJV(FI)
            endif
            if OKV()then
                call OL("can")
            endif
            call Sleep(3)
        endif
    endloop
    loop
        if X1V(FI,600)then
            call XUV(FI)
            call Sleep(1)
            call XZV(GetUnitLoc(FI))
            call XRV(FI)
            call SetUnitState(FI,UNIT_STATE_LIFE,-1)
            call Sleep(6)
            call O0(FI)
            call E0(NI,PX)
            call E0(NI,'ssan')
        endif
        set S=IS(NI)
        if XCV(NI)then
            call OL("can_QingNangShu")
            call XDV()
        endif
        if JL(FI)and XJV(NI)and X1V(FI,800)then
            call OL("can_UseMengDe")
            call XKV(FI)
        endif
        if JL(FI)and XTV(NI)and X1V(FI,600)then
            call OL("can_UseBianXing")
            call XUV(FI)
        endif
        if XNV(NI)then
            call OL("can_SunZiBingFa")
            call XBV()
        endif
        if XXV(NI)then
            call OL("can_UseXuanWu")
            call XOV()
        endif
        call Sleep(2)
        if RTV()then
            call OL("RTV")
            call RUV()
        endif
        if RQV()then
            call OL("RQV")
            call RSV()
        endif
        if RMV()then
            call OL("RMV")
            call RPV()
        endif
    endloop
    call OL("v:"+AL(DT(NI,'A006')))
    call OL("b:"+AL(DT(NI,'A009')))
    call OL("t:"+AL(DT(NI,'A04W')))
    if X1V(FI,600)then
        call IBV(FI)
        call CQ(FI)
        call Sleep(.9)
    endif
    call Sleep(.5)
    if RMV()then
        call XZV(BP(NI,700))
        call RPV()
        call CM(NI)
    endif
    call IEV(NI)
    call XU(NI,'pclr',.5)
    call IVV()
    call IXV()
    call IRV()
    call IAV()
    call ZT(NI,AX)
    call Sleep(.1)
    if IssueImmediateOrderById(NI,852010)then
        call OL("can_MengDe")
    endif
    call Sleep(.1)
    call X0(NI)
    if XJV(NI)then
    endif
    if XPV(NI)then
        call OL("can_TuiMoDao")
    endif
    if XFV(NI)then
        call OL("can_UseFengZhang")
    endif
    call XDV()
    if XTV(NI)then
        call OL("can_UseBianXing")
    endif
    loop
        call X0(NI)
        call Sleep(5)
        call O0(NI)
        call E0(NI,PX)
        call E0(NI,'ssan')
        call Sleep(5)
    endloop
    call O0(NI)
    call X0(NI)
    call XOV()
    call Sleep(2)
    call XDV()
    call Sleep(2)
    call XKV(G4(NI,1200,false))
    call Sleep(2)
    call XGV(G4(NI,1200,false))
    call Sleep(2)
    call XUV(G4(NI,1200,false))
    call Sleep(2)
    call XQV(G4(NI,1200,false))
    call Sleep(2)
    call XU(NI,'pclr',.3)
    call Sleep(2)
    call CU(NI,'hslv',NI,.3)
    call Sleep(2)
    call ZT(NI,'I02C')
    call ZT(NI,'sneg')
    call ZT(NI,'ssan')
    call ZT(NI,NX)
    call ZT(NI,AX)
    call ZT(NI,RX)
    call ZT(NI,'pclr')
    call ZT(NI,'hslv')
    call SetUnitUserData(CreateUnit(Player(5),IE,-1000,-1000,0),'d')
    loop
        call IEV(G4(NI,1200,false))
        call IIV(G4(NI,1200,false))
        call IOV(G4(NI,1200,false))
        call SetWidgetLife(NI,2000)
        call SetUnitState(NI,UNIT_STATE_MANA,1000)
        call Sleep(3)
    endloop
    set C0V=CreateUnit(Player(7),WV,-200,-700,270.)
    call SetHeroLevel(C0V,25,false)
    call UnitAddItemById(C0V,'I02C')
    call UnitAddItemById(C0V,'I02C')
    call UnitAddItemById(C0V,'I02C')
    call UnitAddItemById(C0V,'I02C')
    loop
        call SetWidgetLife(NI,300)
        call SetUnitState(NI,UNIT_STATE_MANA,'d')
        call Sleep(3)
        call XU(NI,'pclr',.3)
        call Sleep(3)
        call CU(NI,'hslv',NI,.22)
    endloop
    call UnitAddItemById(C0V,NX)
    call RemovePlayer(Player(5),PLAYER_GAME_RESULT_TIE)
    call UnitAddItemById(C0V,IX)
    call SetHeroLevel(C0V,25,false)
    call Sleep(.5)
    set C0V=CreateUnit(Player(1),HV,-2500,-3200,270.)
    call UnitRemoveAbility(C0V,'A088')
    call SetHeroLevel(C0V,25,false)
    call SetUnitAcquireRange(C0V,60)
    call UnitAddItemById(C0V,'I02C')
    call UnitAddItemById(C0V,NX)
    call UnitAddItemById(C0V,AX)
    call UnitAddItemById(C0V,RX)
    call UnitAddItemById(C0V,'sneg')
    call UnitAddItemById(C0V,'ssan')
    call UnitAddItemById(C0V,'desc')
    set NI=C0V
    call SetHeroLevel(C0V,25,false)
    call UnitAddItemById(C0V,IX)
    call UnitAddItemById(C0V,NX)
    call RemovePlayer(Player(0),PLAYER_GAME_RESULT_DEFEAT)
    call RemovePlayer(Player(6),PLAYER_GAME_RESULT_DEFEAT)
    call SetHeroLevel(C0V,25,false)
    call UnitAddItemById(C0V,IX)
    call UnitAddItemById(C0V,NX)
    call UnitAddItemById(C0V,'I010')
    call UnitAddItemById(C0V,'I010')
    call SetHeroLevel(C0V,25,false)
    if GetPlayerController(Player(5))==MAP_CONTROL_COMPUTER then
        call OL("MAP_CONTROL_COMPUTER")
    endif
    if GetPlayerController(Player(5))==MAP_CONTROL_USER then
        call OL("MAP_CONTROL_USER")
    endif
    if GetPlayerController(Player(5))==MAP_CONTROL_NONE then
        call OL("MAP_CONTROL_NONE")
    endif
    if GetPlayerSlotState(Player(5))==PLAYER_SLOT_STATE_EMPTY then
        call OL("PLAYER_SLOT_STATE_EMPTY")
    endif
    if GetPlayerSlotState(Player(5))==PLAYER_SLOT_STATE_PLAYING then
        call OL("PLAYER_SLOT_STATE_PLAYING")
    endif
    if GetPlayerSlotState(Player(5))==PLAYER_SLOT_STATE_LEFT then
        call OL("PLAYER_SLOT_STATE_LEFT")
    endif
    call OL(AL(GetPlayerState(Player(5),PLAYER_STATE_OBSERVER)))
    call SetPlayerState(Player(5),PLAYER_STATE_OBSERVER,2)
    if IsPlayerObserver(Player(5))then
        call OL("PLAYER_STATE_OBSERVER")
    endif
    call SetPlayers(0)
    call RemovePlayer(Player(0),PLAYER_GAME_RESULT_NEUTRAL)
    call RemovePlayer(Player(2),PLAYER_GAME_RESULT_NEUTRAL)
    call RemovePlayer(Player(3),PLAYER_GAME_RESULT_NEUTRAL)
    call RemovePlayer(Player(4),PLAYER_GAME_RESULT_NEUTRAL)
    call RemovePlayer(Player(5),PLAYER_GAME_RESULT_NEUTRAL)
endfunction
function chubing takes nothing returns nothing
    local integer i=0
    local integer C3V=0
    local unit u
    call Sleep(2)
    loop
        exitwhen C3V==3
        loop
            exitwhen i==1
            set u=CreateUnit(Player(0),'h01F',-1500,-1600,0)
            call IssuePointOrderByIdLoc(u,851983,PR)
            set u=CreateUnit(Player(0),'earc',-1500,-1800,0)
            call IssuePointOrderByIdLoc(u,851983,PR)
            set u=CreateUnit(Player(6),'h01F',1000,1200,0)
            call IssuePointOrderByIdLoc(u,851983,MR)
            set u=CreateUnit(Player(6),'earc',1200,1600,0)
            call IssuePointOrderByIdLoc(u,851983,MR)
            set i=i+1
        endloop
        call Sleep(30)
        set i=0
        set C3V=C3V+1
    endloop
endfunction
function C4V takes nothing returns nothing
    call CQV()
    call CTV()
    call CWV()
endfunction
function C5V takes nothing returns nothing
    loop
        if CRV()then
            call C4V()
        endif
        if MG<=0 then
            call XZ(.08)
        else
            set MG=MG-1
        endif
    endloop
endfunction
function C6V takes unit F2,integer id returns nothing
    local real NLV=0
    local real NMV=0
    local location NPV=null
    if id<0 then
        return
    endif
    if LN!=id then
        set MN=false
        set LN=id
    endif
    if KN!=id then
        if QN!=null and SM(F2,QN)<1000 then
            if QM(F2,AN[KN])<=QM(F2,AN[id])then
                set PN=KN
            else
                set KN=id
            endif
            set MN=false
        endif
        if QM(F2,EN)<4000 then
            call P2(KF)
        endif
        set NLV=VM(VN,AN[id])
        set NMV=QM(F2,VN)
        if NMV<=NLV then
            set NPV=NHV(id,NMV)
            if P2(NPV)then
                set KN=id
                set MN=false
                set NPV=null
                return
            endif
        endif
        if NMV>NLV then
            if not MN then
                set NPV=NHV(KN,NLV)
                if P2(NPV)then
                    set MN=true
                endif
            endif
            if MN and P2(AN[id])then
                set KN=id
                set MN=false
            endif
        endif
    endif
    set NPV=null
endfunction
function C7V takes nothing returns nothing
    local unit C8V=null
    local location C9V=null
    local location K2=null
    local unit DVV=null
    local unit DEV=null
    local unit DXV=null
    local unit F2=null
    local integer DOV=0
    local integer DRV=0
    local integer DIV=0
    local unit DAV=null
    if NG<1 then
        return
    endif
    set YD=W1(ZD)
    set YD=YD+W1(VF)
    if YD<1 then
        return
    endif
    call J2()
    set F2=FirstOfGroup(ZD)
    if F2!=null then
        call AVV(F2)
        set EJ=null
        set XJ=null
        set OJ=null
        set C8V=G3(F2,1200,true)
        if EJ!=null then
            set DAV=EJ
        endif
        if OJ!=null then
            set DAV=OJ
        endif
        if XJ!=null and DQ(F2,XJ)then
            set DAV=XJ
        endif
        if C8V==null then
            set DOV=1
        endif
        if C8V!=null then
            set DOV=2
        endif
        set DVV=H4(F2,1600,false)
        if DVV!=null and LU(DVV)<260 then
            set DOV=3
        endif
        set DXV=K3(F2,1300,false)
        if DXV!=null and AS()>10*60 then
            set DOV=4
        endif
        if DVV!=null and CL(DVV)then
            set DOV=5
        endif
        if FI!=null and JL(FI)and SM(FI,F2)<1100 then
            set DOV=6
        endif
        if DAV!=null then
            set DOV=61
        endif
        set DEV=L3(F2,1800)
        if DEV!=null and AS()>10*60 then
            set DOV=7
        endif
        if C8V!=null and SM(C8V,F2)<900 then
            set DOV=8
        endif
        if KN!=GN and NS()>12*60 and T1(56,10)and GN<'d' then
            set PN=GN
        endif
        if PN!=KN then
            set DOV=9
        endif
        set QN=D6(F2)
        set DRV=K6(F2,1300)
        set DIV=L6(F2,1000)
        if(DRV-DIV>1)or(DRV==0 and DRV>0 and GetHeroLevel(QN)>10)then
            set DOV=8
        endif
        if DOV==1 then
            call GroupPointOrderByIdLoc(ZD,851983,JF)
        endif
        if DOV==2 then
            set C9V=GetUnitLoc(F2)
            call GroupPointOrderByIdLoc(ZD,851986,C9V)
            call RemoveLocation(C9V)
            set C9V=null
        endif
        if DOV==3 then
            call GroupTargetOrderById(ZD,851983,DVV)
        endif
        if DOV==4 then
            call GroupTargetOrderById(ZD,851983,DXV)
        endif
        if DOV==5 then
            call GroupTargetOrderById(ZD,851983,DVV)
        endif
        if DOV==6 then
            set K2=GetUnitLoc(FI)
            call GroupPointOrderByIdLoc(ZD,851984,K2)
            call RemoveLocation(K2)
            set K2=null
        endif
        if DOV==61 then
            call GroupTargetOrderById(ZD,851983,DAV)
        endif
        if DOV==7 then
            set K2=GetUnitLoc(DEV)
            call GroupPointOrderByIdLoc(ZD,851984,K2)
            call RemoveLocation(K2)
            set K2=null
        endif
        if DOV==8 then
            call GroupPointOrderByIdLoc(ZD,851986,KF)
        endif
        if DOV==9 then
            call C6V(F2,PN)
        endif
        set XG=DOV
    endif
    if T1(53,3)then
        if G0()then
        endif
        if R0()then
        endif
    endif
    set C8V=null
    set C9V=null
    set K2=null
    set DVV=null
    set DEV=null
    set DXV=null
    set F2=null
endfunction
function DNV takes nothing returns nothing
    local integer i=0
    loop
        exitwhen i=='d'
        set JR[i]=-1
        set i=i+1
    endloop
endfunction
function DBV takes nothing returns nothing
    if NI==null then
        return
    endif
    if T1(51,3)then
        if NI==null or GL(NI)then
            set DI=false
            set CI=0
            return
        endif
        if DI then
            call AYV()
            return
        endif
        if BI==null then
            set BI=GetUnitLoc(NI)
            return
        endif
        if BI!=null then
            if QM(NI,BI)<'d' and(GetUnitCurrentOrder(NI)!=851983and IV!=80 and IV!=81)then
                set CI=CI+1
            else
                set CI=0
                call RemoveLocation(BI)
                set BI=null
                set BI=GetUnitLoc(NI)
            endif
        endif
        if CI>8 then
            set CI=0
            set DI=true
        endif
    endif
endfunction
function DCV takes nothing returns nothing
    local integer DDV=-1
    local boolean DFV=false
    call StoreInteger(DV,"maintimer","1",AK(HR))
    call TimerStart(HR,999999,true,null)
    call DNV()
    loop
        if T1(0,.06)then
            call ANV()
        endif
        if FD>-1 then
            if T1(7,1.3)then
                call C7V()
            endif
        endif
        call DBV()
        if NI!=null and JL(NI)then
            if T1(1,.1)then
                call CSV()
            endif
            set GR=false
            if T<BV and(PB==null or(PB!=null and SM(PB,D)>600))then
                set GR=true
            endif
            if VS(FI)then
                set GR=true
            endif
            if GR and I[IV]<80 then
                if T1(2,.9)then
                    set FR=3
                    set MG=3
                endif
            endif
            if T1(3,MC)then
                call S4()
                call W4()
                call CLV()
            endif
            if T1(4,.2)then
                call Q4()
                call L4()
                call CLV()
            endif
            if T1(5,3)then
            endif
            if((ED==6 or ED==8)and I[IV]<50)then
                if T1(8,.1)then
                    set FR=3
                    set MG=3
                    if R0()then
                        if ED==6 or ED==8 then
                        endif
                    endif
                endif
            endif
            if T1(9,.8)then
                if(ED>0 and I[IV]<43)then
                    set FR=3
                    set MG=3
                endif
            endif
        endif
        if T1(10,.98)then
        endif
        if FI!=null and HG>0 and JG>=HG and SM(NI,FI)<=HG then
            if T1(11,.8)then
                set FR=3
                set MG=3
                set JG=HG-'d'
            endif
        endif
        if FI!=null then
            set DDV=A2(FI,LG)
            if DDV>0 then
                if T1(14,.8)then
                    set FR=3
                    set MG=3
                    set LG=DDV-'d'
                endif
            endif
        endif
        if FI!=null then
            if T1(12,.2)then
                if SM(NI,FI)>HG then
                    set JG=999999
                endif
            endif
            if T1(15,.2)then
                if SM(NI,FI)>DDV then
                    set LG=999999
                endif
            endif
        endif
        if T1(13,2.6)then
            if FI!=null and PU(NI)and XFV(NI)then
                set DFV=true
            endif
        endif
        if FI!=null and DFV then
            if not PU(NI)then
                set DFV=false
                if SM(FI,NI)<620 and IS(FI)>300 then
                    call XGV(FI)
                    call AGV(1000)
                endif
            endif
        endif
        if DFV then
            call Sleep(.005)
        else
            call Sleep(.05)
        endif
    endloop
endfunction
function DGV takes unit HL,integer DHV returns integer
    local integer i1=61-25
    local integer i2=61-25
    local integer i3=10
    local integer DJV
    local player LY=GetOwningPlayer(HL)
    local mapcontrol DKV=GetPlayerController(LY)
    local integer AbilLvl
    local integer DLV=DHV
    local integer SS=0
    local integer XS=0
    call SetPlayerController(LY,MAP_CONTROL_USER)
    call SetHeroLevel(HL,'d',false)
    loop
        exitwhen(i3>61)
        set DJV=16640
        if i3>35 then
            set DJV=DJV+(i3+61)
        elseif i3>9 then
            set DJV=DJV+(i3+55)
        else
            set DJV=DJV+(i3+48)
        endif
        set DJV=DJV*256
        if i2>35 then
            set DJV=DJV+(i2+61)
        elseif i2>9 then
            set DJV=DJV+(i2+55)
        else
            set DJV=DJV+(i2+48)
        endif
        set DJV=DJV*256
        if i1>35 then
            set DJV=DJV+(i1+61)
        elseif i1>9 then
            set DJV=DJV+(i1+55)
        else
            set DJV=DJV+(i1+48)
        endif
        if XS==0 then
            set XS=DJV
        endif
        if TY(HL,DJV)then
            call KS(GetUnitTypeId(HL),DLV,DJV)
            set DLV=DLV+1
        endif
        set SS=SS+1
        set i1=i1+1
        if i1>61 then
            set i2=i2+1
            set i1=61-25
        endif
        if i2>61 then
            set i3=i3+1
            set i2=61-25
        endif
    endloop
    call SetPlayerController(LY,DKV)
    return DLV
endfunction
function DMV takes unit HL returns integer
    local integer i1=0
    local integer i2=0
    local integer i3=0
    local integer DJV
    local player LY=GetOwningPlayer(HL)
    local mapcontrol DKV=GetPlayerController(LY)
    local integer AbilLvl
    local integer DLV=0
    local integer SS=0
    call SetPlayerController(LY,MAP_CONTROL_USER)
    call SetHeroLevel(HL,'d',false)
    loop
        exitwhen(i2>11)
        set DJV=16640
        if i3>35 then
            set DJV=DJV+(i3+61)
        elseif i3>9 then
            set DJV=DJV+(i3+55)
        else
            set DJV=DJV+(i3+48)
        endif
        set DJV=DJV*256
        if i2>35 then
            set DJV=DJV+(i2+61)
        elseif i2>9 then
            set DJV=DJV+(i2+55)
        else
            set DJV=DJV+(i2+48)
        endif
        set DJV=DJV*256
        if i1>35 then
            set DJV=DJV+(i1+61)
        elseif i1>9 then
            set DJV=DJV+(i1+55)
        else
            set DJV=DJV+(i1+48)
        endif
        if TY(HL,DJV)then
            call KS(GetUnitTypeId(HL),DLV,DJV)
            set DLV=DLV+1
        endif
        set SS=SS+1
        set i1=i1+1
        if i1>61 then
            set i2=i2+1
            set i1=0
        endif
        if i2>61 then
            set i3=i3+1
            set i2=0
        endif
    endloop
    call SetPlayerController(LY,DKV)
    return DLV
endfunction
function DYV takes nothing returns nothing
    local real r1=0
    local unit u=null
    local integer DZV=0
    local integer D_V
    call Sleep(25)
    set D_V=GetUnitTypeId(NI)
    if NI==null then
        call Sleep(10)
        set D_V=GetUnitTypeId(NI)
    endif
    if GG then
        return
    endif
    if D_V<1 then
        return
    endif
    if TS(D_V)>0 then
        return
    endif
    set u=CreateUnit(Player(12),D_V,MF,PF+2100,180)
    set r1=NS()
    if DV==null then
        call OL("zs_ucacheCommon==null")
    endif
    set DZV=DMV(u)
    if DZV<4 then
        set DZV=DGV(u,DZV)
    endif
    call QS(GetUnitTypeId(u),DZV)
    call RemoveUnit(u)
    set u=null
endfunction
function main takes nothing returns nothing
    local integer i
    local integer ABV
    local integer ACV
    local unit P4
    local integer ADV
    local integer AFV
    local unit C0V
    local unit u
    local group g
    local integer AAV
    set i=0
    set ABV=-1
    set ACV=-1
    set P4=null
    set ADV=0
    set AFV=0
    loop
        exitwhen CommandsWaiting()==0 or GetLastCommand()<1
        set ABV=GetLastCommand()
        set ACV=GetLastData()
        if ABV==1000 and ACV>-1 and ACV<16 then
            set P4=Z5(Player(ACV))
            if X6(P4)then
                call DK("!")
            else
                call DK("!!")
            endif
            set P4=null
        endif
        if ABV==1001 then
            call O6(ACV)
        endif
        if ABV==2000 and ACV>0 then
        endif
        if ABV==2001 then
        endif
        if ABV==3000 then
            set HD[0]=ACV
        endif
        if ABV==3001 then
            set HD[1]=ACV
        endif
        if ABV==3002 then
            set JD[0]=ACV
        endif
        if ABV==3003 then
            set JD[1]=ACV
        endif
        if ABV==3004 then
            set KD[0]=ACV
        endif
        if ABV==3005 then
            set KD[1]=ACV
        endif
        if ABV==4000 then
            set LD=true
            call DK("!")
        endif
        if ABV==4001 then
            set LD=false
            if R0()or I0()then
                set GN=1
                set HN=1
                set SA=true
                set GG=true
            endif
            if R0()or F0()then
                set NG=6
            endif
            if A0()or K0()or G0()then
                set GN=2
                set HN=2
                set NG=3
                set GG=true
            endif
            if D0()or J0()or H0()or N0()then
                set GN=2
                set HN=2
                set GG=true
            endif
            if B0()or C0()then
                set GN=0
                set HN=0
                set GG=true
            endif
            if F0()or G0()then
                set GN=0
                set HN=0
                set GG=true
            endif
            if M0()or P0()or L0()or Q0()then
                set GG=true
            endif
            if XH or IJ then
                if FG==0 or FG==1 then
                    if CS("zhongehc"+AL(FN))==0 then
                        set GN=1
                        set HN=1
                        set NG=6
                        call BS("zhongehc"+AL(FN),1)
                        set AJ=true
                    endif
                endif
                if not AJ then
                    if CS("shanghc"+AL(FN))<2 then
                        set GN=0
                        set HN=0
                        call BS("shanghc"+AL(FN),1+CS("shanghc"+AL(FN)))
                        set AJ=true
                    endif
                endif
                if not AJ then
                    if CS("xiahc"+AL(FN))<2 then
                        set GN=2
                        set HN=2
                        call BS("xiahc"+AL(FN),1+CS("xiahc"+AL(FN)))
                        set AJ=true
                    endif
                endif
                if not AJ then
                    if CS("zhongehc"+AL(FN))==0 then
                        set GN=1
                        set HN=1
                        set NG=6
                        call BS("zhongehc"+AL(FN),1)
                        set AJ=true
                    endif
                endif
            endif
            if HN==1 then
                set SA=true
            endif
            set PN=HN
            call DK("!")
        endif
        if ABV==4002 then
            set IG=true
            set AG=false
            call DK("1v1!")
        endif
        if ABV==4003 then
            set IG=false
            call DK("1v1!")
        endif
        if ABV==4004 then
            set AG=false
            call DK("!")
        endif
        if ABV==4005 then
            set AG=true
            call DK("!")
        endif
        if ABV==4006 then
            set IJ=true
        endif
        if ABV==4007 then
            set BJ=true
            call DK("")
        endif
        if ABV==5000 then
        endif
        if NI!=null and JL(NI)then
            if ABV==6000 then
                set PG=NK(ACV)
            endif
            if ABV==6001 then
                set QG=NK(ACV)
            endif
            if ABV==6004 then
                set SG=BK(ACV)
            endif
            if ABV==6005 then
                set UG=ACV
            endif
            if ABV==6006 then
                set WG=ACV
                set AAV=0
                set GR=false
                if W6()then
                    set GR=true
                endif
                if Y6()then
                    set GR=true
                endif
                if GR and not GW(NI)then
                    set FR=3
                    set MG=3
                endif
            endif
        endif
        if ABV==6200 then
            call Sleep(.1)
            set XH=true
            set FR=1
            call E6()
        endif
        if ABV==6300 then
            set ADV=ACV
        endif
        if ABV==6301 then
            set AFV=ACV
        endif
        if ABV==6302 then
            if(FN==1 and ACV<=5)or(FN==2 and ACV>=6)then
                if ADV!=0 and AFV!=0 then
                    if WH!=null then
                        call RemoveLocation(WH)
                        set WH=null
                    endif
                    if OI then
                    endif
                    set WH=Location(ADV,AFV)
                    if AO!='e' and AO!='f' then
                        set AO='g'
                        set AN['g']=WH
                    endif
                endif
            endif
        endif
        if ABV>=3000 and ABV<=3100 then
        endif
        call PopLastCommand()
        set i=i+1
    endloop
    set V=Player(GetAiPlayer())
    if GetPlayerId(V)==0 or GetPlayerId(V)==6 then
        set FD=-1
    else
        set FD=GetPlayerId(V)
    endif
    set C0V=null
    set FN=O3()
    set DG=GetPlayerId(V)
    call CYV()
    if FN==1 then
        set WA[0]=MR
        set WA[1]=Location(-4752,-5782)
        set WA[2]=Location(-3300,-4100)
        set WA[3]=Location(-2000,-2300)
        set WA[4]=Location(-600,-350)
        set WA[5]=Location(430,1000)
        set WA[6]=Location(2000,2400)
        set WA[7]=Location(3700,4300)
        set WA[8]=Location(5400,5300)
        set WA[9]=PR
        set YA[0]=MR
        set YA[1]=Location(-6500,-4600)
        set YA[2]=Location(-6200,-2000)
        set YA[3]=Location(-6000,480)
        set YA[4]=Location(-5900,2555)
        set YA[5]=Location(-5500,5700)
        set YA[6]=Location(-3500,6000)
        set YA[7]=Location(-400,6000)
        set YA[8]=Location(3300,5800)
        set YA[9]=Location(5500,5500)
        set YA[10]=PR
        set ZA[0]=MR
        set ZA[1]=Location(-3300,-7000)
        set ZA[2]=Location(-700,-6888)
        set ZA[3]=Location(2000,-6900)
        set ZA[4]=Location(5000,-6600)
        set ZA[5]=Location(5500,-3000)
        set ZA[6]=Location(5700,-690)
        set ZA[7]=Location(5500,1390)
        set ZA[8]=Location(5500,3700)
        set ZA[9]=PR
    endif
    if FN==2 then
        set WA[9]=MR
        set WA[8]=Location(-4752,-5782)
        set WA[7]=Location(-3300,-4100)
        set WA[6]=Location(-2000,-2300)
        set WA[5]=Location(-600,-350)
        set WA[4]=Location(430,1000)
        set WA[3]=Location(2000,2400)
        set WA[2]=Location(3700,4300)
        set WA[1]=Location(5400,5300)
        set WA[0]=PR
        set YA[10]=MR
        set YA[9]=Location(-6500,-4600)
        set YA[8]=Location(-6200,-2000)
        set YA[7]=Location(-6000,480)
        set YA[6]=Location(-5900,2555)
        set YA[5]=Location(-5500,5700)
        set YA[4]=Location(-3500,6000)
        set YA[3]=Location(-400,6000)
        set YA[2]=Location(3300,5800)
        set YA[1]=Location(5500,5500)
        set YA[0]=PR
        set ZA[9]=MR
        set ZA[8]=Location(-3300,-7000)
        set ZA[7]=Location(-700,-6888)
        set ZA[6]=Location(2000,-6900)
        set ZA[5]=Location(5000,-6600)
        set ZA[4]=Location(5500,-3000)
        set ZA[3]=Location(5700,-690)
        set ZA[2]=Location(5500,1390)
        set ZA[1]=Location(5500,3700)
        set ZA[0]=PR
    endif
    set XN=A3()
    set VN=R3()
    set EN=I3()
    set ON=GP(TR,VN,-800)
    set AI[0]="0"
    set AI[1]="1"
    set AI[2]="2"
    set AI[3]="3"
    set AI[4]="4"
    set AI[5]="5"
    set AI[6]="6"
    set AI[7]="7"
    set AI[8]="8"
    set AI[9]="9"
    set TF[0]=AX
    set UF[0]=AX
    set TF[1]=NX
    set UF[1]=NX
    set TF[2]='sneg'
    set UF[2]='sneg'
    set TF[3]=RX
    set UF[3]=RX
    set TF[4]='pclr'
    set UF[4]='pclr'
    set TF[5]='hslv'
    set UF[5]='hslv'
    call U2('A04W',1,15,'d',0,852127)
    call U2('A04W',2,15,'d',0,852127)
    call U2('A04W',3,15,'d',0,852127)
    call U2('A04W',4,15,'d',0,852127)
    call U2('A009',1,35,70,0,852100)
    call U2('A009',2,35,90,0,852100)
    call U2('A009',3,35,'n',0,852100)
    call U2('A009',4,35,130,0,852100)
    call U2(HO,1,10,'d',0,852128)
    call U2(HO,2,10,'i',0,852128)
    call U2(HO,3,10,'n',0,852128)
    call U2(HO,4,10,'s',0,852128)
    call U2(YO,1,11,90,0,852100)
    call U2(YO,2,11,95,0,852100)
    call U2(YO,3,11,'d',0,852100)
    call U2(YO,4,11,'i',0,852100)
    call U2('A006',1,170,150,0,852086)
    call U2('A006',2,170,185,0,852086)
    call U2('A006',3,170,235,0,852086)
    call U2('A00A',1,130,150,0,852128)
    call U2('A00A',2,130,180,0,852128)
    call U2('A00A',3,130,210,0,852128)
    call U2('A02V',1,170,350,0,852128)
    call U2('A02V',2,170,350,0,852128)
    call U2('A02V',3,170,350,0,852128)
    call U2(IX,1,61,140,0,0)
    call U2(PX,1,92,'d',0,0)
    call U2(NX,1,41,150,0,0)
    call U2(AX,1,41,145,800,0)
    call U2(CX,1,24,'n',600,0)
    call U2(ZX,1,180,300,0,0)
    if FN==1 then
        if GetPlayerId(V)==5 then
        endif
    endif
    if FN==2 then
        set TN=189
        if GetPlayerId(V)==11 then
        endif
    endif
    call E6()
    set C0V=null
    call StartThread(function DCV)
    if GetPlayerId(V)==5 then
    endif
    if GetStoredInteger(CV,"heros","1")<1 then
        call StoreInteger(CV,"heros","1",HV)
        call StoreInteger(CV,"heros","2",KV)
        call StoreInteger(CV,"heros","3",LV)
        call StoreInteger(CV,"heros","4",MV)
        call StoreInteger(CV,"heros","5",JV)
        call StoreInteger(CV,"heros","6",YV)
        call StoreInteger(CV,"heros","7",PV)
        call StoreInteger(CV,"heros","8",QV)
        call StoreInteger(CV,"heros","9",SV)
        call StoreInteger(CV,"heros","10",TV)
        call StoreInteger(CV,"heros","11",UV)
        call StoreInteger(CV,"heros","12",WV)
        call StoreInteger(CV,"heros","13",XE)
        call StoreInteger(CV,"heros","14",EE)
        call StoreInteger(CV,"heros","15",ZV)
        call StoreInteger(CV,"heros","16",VE)
    endif
    call StartThread(function C5V)
    call Sleep(2)
    set u=null
    set g=CreateGroup()
    call GroupEnumUnitsInRange(g,0,0,999999,null)
    loop
        set u=FirstOfGroup(g)
        exitwhen u==null
        if JL(u)then
            if IsUnitAlly(u,V)then
                if GetUnitTypeId(u)==NE then
                    set GF=u
                endif
                if GetUnitTypeId(u)==DE then
                    set AF=u
                endif
                if GetUnitTypeId(u)==CE and KM(u)then
                    set OF[0]=u
                endif
                if GetUnitTypeId(u)==CE and LM(u)then
                    set OF[2]=u
                endif
                if GetUnitTypeId(u)==BE and KM(u)then
                    set IF[0]=u
                    set CF[0]=GetUnitLoc(u)
                endif
                if GetUnitTypeId(u)==BE and MM(u)then
                    set IF[1]=u
                    set CF[1]=GetUnitLoc(u)
                endif
                if GetUnitTypeId(u)==BE and LM(u)then
                    set IF[2]=u
                    set CF[2]=GetUnitLoc(u)
                endif
            endif
            if GetUnitTypeId(u)==GE then
                set UH=u
            endif
            if IsUnitEnemy(u,V)then
                if GetUnitTypeId(u)==HE then
                    set SH=u
                    set TH=GetUnitLoc(SH)
                endif
                if GetUnitTypeId(u)==NE then
                    set HF=u
                endif
                if GetUnitTypeId(u)==DE then
                    set NF=u
                    set TG=GetUnitLoc(NF)
                endif
                if GetUnitTypeId(u)==CE and KM(u)then
                    set RF[0]=u
                endif
                if GetUnitTypeId(u)==CE and LM(u)then
                    set RF[2]=u
                endif
                if GetUnitTypeId(u)==BE and KM(u)then
                    set DF[0]=u
                    set FF[0]=GetUnitLoc(u)
                endif
                if GetUnitTypeId(u)==BE and MM(u)then
                    set DF[1]=u
                    set FF[1]=GetUnitLoc(u)
                endif
                if GetUnitTypeId(u)==BE and LM(u)then
                    set DF[2]=u
                    set FF[2]=GetUnitLoc(u)
                endif
            endif
        endif
        call GroupRemoveUnit(g,u)
    endloop
    call DestroyGroup(g)
    set g=null
    set AN['e']=TG
    set AN['f']=TH
    call DYV()
endfunction